\hypertarget{emg_8c}{}\doxysection{/media/paul/\+LINUX\+\_\+\+MEM/\+Uni/\+Git Repos/\+Body-\/\+Synthesizer\+\_\+\+STM32\+\_\+\+F746\+ZG/body-\/synthesizer-\/stm32-\/f746zg/\+Core/\+Src/emg.c File Reference}
\label{emg_8c}\index{/media/paul/LINUX\_MEM/Uni/Git Repos/Body-\/Synthesizer\_STM32\_F746ZG/body-\/synthesizer-\/stm32-\/f746zg/Core/Src/emg.c@{/media/paul/LINUX\_MEM/Uni/Git Repos/Body-\/Synthesizer\_STM32\_F746ZG/body-\/synthesizer-\/stm32-\/f746zg/Core/Src/emg.c}}


emg/ecg processing  


{\ttfamily \#include \char`\"{}emg.\+h\char`\"{}}\newline
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
HAL\+\_\+\+Status\+Type\+Def \mbox{\hyperlink{emg_8c_a98bf9a8015f7a7833276fbf6a72e255e}{ecg\+\_\+init}} (void)
\begin{DoxyCompactList}\small\item\em ECG init. \end{DoxyCompactList}\item 
HAL\+\_\+\+Status\+Type\+Def \mbox{\hyperlink{emg_8c_ad8539de6db12ec20b070f6fb97f99a73}{emg\+\_\+start\+\_\+read}} (void)
\begin{DoxyCompactList}\small\item\em start all necessary peripherals for the EMG/\+ECG \end{DoxyCompactList}\item 
HAL\+\_\+\+Status\+Type\+Def \mbox{\hyperlink{emg_8c_a305d3a0240c6e197a771b26c8d4fd22a}{emg\+\_\+stop\+\_\+read}} (void)
\begin{DoxyCompactList}\small\item\em Only stops the ADC reading of the connected EMG/\+ECG board. \end{DoxyCompactList}\item 
HAL\+\_\+\+Status\+Type\+Def \mbox{\hyperlink{emg_8c_a63f5337cb5d5feb55ddedd79bca265d9}{emg\+\_\+peak\+\_\+detection}} (void)
\begin{DoxyCompactList}\small\item\em detects an EMG peak and sets flags for further processing \end{DoxyCompactList}\item 
void \mbox{\hyperlink{emg_8c_a6ad14645e09a9e49124abbb14199027f}{ecg\+\_\+heartrate}} (void)
\begin{DoxyCompactList}\small\item\em detect heartrate and change the Drumcoputer BPM in realtime \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
Created \mbox{\hyperlink{emg_8c_a11bf60e5f1afeb16f1eee028c6c99d90}{on}}
\item 
Created TIM\+\_\+\+Handle\+Type\+Def $\ast$ \mbox{\hyperlink{emg_8c_ab7b0427c78c8284a7d3cf08f345ce09d}{htim}}
\item 
\mbox{\hyperlink{emg_8c_a7a2bcc2a2751bb0a3df474df27e7b2b6}{EMG\+\_\+\+TIM}} = htim
\item 
\mbox{\hyperlink{emg_8c_a14c1b6c0009f4d13e8009a5feb890d47}{emg\+\_\+detection\+Threshold}} = 2500
\item 
\mbox{\hyperlink{emg_8c_a6160b2ca77b309ac5121578747df7ebd}{emg\+\_\+peak}} = 0
\item 
\mbox{\hyperlink{emg_8c_ac1eacd66ffa3f83178d29566e56897d9}{emg\+\_\+toggle\+Threshold}} = 50
\item 
\mbox{\hyperlink{emg_8c_ae841ad34eb714c953f56994c83d1edb3}{emg\+\_\+toggle\+Counter}} = emg\+\_\+toggle\+Threshold
\item 
\mbox{\hyperlink{emg_8c_ab09fded3c224aa3af934217d594e7e2d}{emg\+\_\+toggled}} = 0
\item 
\mbox{\hyperlink{emg_8c_abcb925fb06e444144e71b2ffa4c72230}{emg\+\_\+max\+Detection\+Threshold}} = 2850
\item 
\mbox{\hyperlink{emg_8c_ac06fa3fee562224bf2ebae3a378c0d18}{emg\+\_\+max\+Toggle\+Threshold}} = EMG\+\_\+\+SR/5
\item 
return \mbox{\hyperlink{emg_8c_a05dcbf41f5c5e42a592e9ad9e351391e}{HAL\+\_\+\+OK}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
emg/ecg processing 

\begin{DoxyAuthor}{Author}
Paul Mamatis 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
0.\+1 
\end{DoxyVersion}
\begin{DoxyDate}{Date}
May 23, 2021
\end{DoxyDate}
\begin{DoxyCopyright}{Copyright}
Copyright (c) 2022 
\end{DoxyCopyright}


Definition in file \mbox{\hyperlink{emg_8c_source}{emg.\+c}}.



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{emg_8c_a6ad14645e09a9e49124abbb14199027f}\label{emg_8c_a6ad14645e09a9e49124abbb14199027f}} 
\index{emg.c@{emg.c}!ecg\_heartrate@{ecg\_heartrate}}
\index{ecg\_heartrate@{ecg\_heartrate}!emg.c@{emg.c}}
\doxysubsubsection{\texorpdfstring{ecg\_heartrate()}{ecg\_heartrate()}}
{\footnotesize\ttfamily void ecg\+\_\+heartrate (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



detect heartrate and change the Drumcoputer BPM in realtime 



Definition at line \mbox{\hyperlink{emg_8c_source_l00111}{111}} of file \mbox{\hyperlink{emg_8c_source}{emg.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00111                         \{}
\DoxyCodeLine{00112 }
\DoxyCodeLine{00113     uint16\_t ADC\_BLOCKSIZE\_startIndex=0, ADC\_BLOCKSIZE\_endIndex=0;}
\DoxyCodeLine{00114 }
\DoxyCodeLine{00115     \textcolor{comment}{//detect buffer half}}
\DoxyCodeLine{00116     \textcolor{keywordflow}{if}(inputBuffer\_position == HALF\_BLOCK) \{}
\DoxyCodeLine{00117         ADC\_BLOCKSIZE\_startIndex = 0;}
\DoxyCodeLine{00118         ADC\_BLOCKSIZE\_endIndex = EMG\_READ\_LENGTH/2;}
\DoxyCodeLine{00119     \}}
\DoxyCodeLine{00120     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(inputBuffer\_position == FULL\_BLOCK) \{}
\DoxyCodeLine{00121         ADC\_BLOCKSIZE\_startIndex = EMG\_READ\_LENGTH/2;}
\DoxyCodeLine{00122         ADC\_BLOCKSIZE\_endIndex = EMG\_READ\_LENGTH;}
\DoxyCodeLine{00123     \}}
\DoxyCodeLine{00124 }
\DoxyCodeLine{00125     \textcolor{comment}{//detect ECG peak}}
\DoxyCodeLine{00126     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i = ADC\_BLOCKSIZE\_startIndex; i < ADC\_BLOCKSIZE\_endIndex; i+=2)\{}
\DoxyCodeLine{00127         \textcolor{keywordflow}{if}(emg\_buffer[i] > ecg\_detectionThreshold \&\& ecg\_toggleCounter > ecg\_toggleThreshold)\{}
\DoxyCodeLine{00128             ecg\_peaks += 1;}
\DoxyCodeLine{00129             HAL\_GPIO\_WritePin(Blue\_User\_LED\_GPIO\_Port, Blue\_User\_LED\_Pin,SET);}
\DoxyCodeLine{00130             ecg\_toggleCounter = 0;}
\DoxyCodeLine{00131             ecg\_peak = 1;}
\DoxyCodeLine{00132         \}}
\DoxyCodeLine{00133 }
\DoxyCodeLine{00134         \textcolor{keywordflow}{if}(ecg\_peak)\{}
\DoxyCodeLine{00135             ecg\_peak = 0;}
\DoxyCodeLine{00136             ecg\_toggled = 1;}
\DoxyCodeLine{00137 }
\DoxyCodeLine{00138         \}}
\DoxyCodeLine{00139         \textcolor{comment}{//delay to avoid false peaks rigth after another peak}}
\DoxyCodeLine{00140         \textcolor{keywordflow}{if}(ecg\_toggleCounter > ecg\_toggleThreshold \&\& ecg\_toggled == 1)\{}
\DoxyCodeLine{00141             ecg\_toggled = 0;}
\DoxyCodeLine{00142         \}}
\DoxyCodeLine{00143 }
\DoxyCodeLine{00144         \textcolor{comment}{//calculate heartrate when finishing a measurement Interval}}
\DoxyCodeLine{00145         \textcolor{keywordflow}{if} (ecg\_intCount == ecg\_measInt)\{}
\DoxyCodeLine{00146             heartrate = ((float)(60/(EMG\_MI))*ecg\_peaks)/2;}
\DoxyCodeLine{00147             ecg\_peaks = 0;}
\DoxyCodeLine{00148             ecg\_intCount = 0;}
\DoxyCodeLine{00149 }
\DoxyCodeLine{00150             \textcolor{comment}{//direct transfer of the heartrate to Drumcomputer}}
\DoxyCodeLine{00151             \textcolor{keywordflow}{if}(Display.Drumcomputer\_BPMbyECG\_ONOFF == \textcolor{keyword}{true}) \{}
\DoxyCodeLine{00152 }
\DoxyCodeLine{00153                 \mbox{\hyperlink{drum__computer_8h_a0065e192c774e20fd5e0ab3c342b7088}{BPM}} = heartrate;}
\DoxyCodeLine{00154             \}}
\DoxyCodeLine{00155         \}}
\DoxyCodeLine{00156 }
\DoxyCodeLine{00157         \textcolor{comment}{//update drumcoputer-\/page and reset values drumcoputer when bpm changed, to avoid "{}plop"{}-\/noise}}
\DoxyCodeLine{00158         \textcolor{keywordflow}{if}(abs(last\_BPM-\/\mbox{\hyperlink{drum__computer_8h_a0065e192c774e20fd5e0ab3c342b7088}{BPM}}) > 3) \{}
\DoxyCodeLine{00159 }
\DoxyCodeLine{00160             \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i=0; i<\mbox{\hyperlink{drum__computer_8h_a267b06d60a7514d898b5cac91b4380ec}{FourFour}}; i++) \{}
\DoxyCodeLine{00161 }
\DoxyCodeLine{00162                 \textcolor{comment}{// INIT: Counter}}
\DoxyCodeLine{00163                 counter\_DS1[i] = 0;}
\DoxyCodeLine{00164                 counter\_DS2[i] = 0;}
\DoxyCodeLine{00165                 counter\_DS3[i] = 0;}
\DoxyCodeLine{00166                 counter\_DS4[i] = 0;}
\DoxyCodeLine{00167 }
\DoxyCodeLine{00168                 \mbox{\hyperlink{drum__computer_8h_ad32e19a8282780d0a134ec07797ac10b}{drum\_index}} = 0;}
\DoxyCodeLine{00169                 \mbox{\hyperlink{drum__computer_8h_a148d70203e23260f999890046d5509b0}{counter\_master}} = 0;}
\DoxyCodeLine{00170 }
\DoxyCodeLine{00171                 \textcolor{comment}{// RESET: Drum sound bins}}
\DoxyCodeLine{00172                 \mbox{\hyperlink{drum__computer_8h_a1d0ce949a258b04a5822d3442fd73d83}{DS1s}} = 0;}
\DoxyCodeLine{00173                 DS2s = 0;}
\DoxyCodeLine{00174                 DS3s = 0;}
\DoxyCodeLine{00175                 DS4s = 0;}
\DoxyCodeLine{00176 }
\DoxyCodeLine{00177                 drums = 0;}
\DoxyCodeLine{00178 }
\DoxyCodeLine{00179                 timing\_position\_in\_samples[i] = (\mbox{\hyperlink{drum__computer_8h_a267b06d60a7514d898b5cac91b4380ec}{FourFour}} / 4 ) * (i + 1) * (MasterClock / \mbox{\hyperlink{drum__computer_8h_a267b06d60a7514d898b5cac91b4380ec}{FourFour}}) * (60 / \mbox{\hyperlink{drum__computer_8h_a0065e192c774e20fd5e0ab3c342b7088}{BPM}});}
\DoxyCodeLine{00180             \}}
\DoxyCodeLine{00181 }
\DoxyCodeLine{00182             sprintf(Display.value\_str\_drumcomputer[8], \textcolor{stringliteral}{"{}\%.f"{}}, \mbox{\hyperlink{drum__computer_8h_a0065e192c774e20fd5e0ab3c342b7088}{BPM}});}
\DoxyCodeLine{00183 }
\DoxyCodeLine{00184             \textcolor{comment}{// ACHTUNG ACHTUNG, SEITENZAHL USW. BEACHTEN!!!}}
\DoxyCodeLine{00185             \textcolor{comment}{// BPM set by ECG and display only updated with new BPM value on drumcomputer settings page}}
\DoxyCodeLine{00186             \textcolor{keywordflow}{if}(Display.pagePosition == 3 \&\& Display.currentDrumcomputer > 0) \{}
\DoxyCodeLine{00187                 Paint\_DrawFilledRectangle(\&paint, Display.value\_start\_x\_position-\/50, CASE2, Display.value\_end\_x\_position, CASE2+VALUE\_ROW\_LENGTH, UNCOLORED);}
\DoxyCodeLine{00188                 Paint\_DrawStringAt(\&paint, Display.value\_start\_x\_position-\/50, CASE2, Display.value\_str\_drumcomputer[8], \&Font12, COLORED);}
\DoxyCodeLine{00189             \}}
\DoxyCodeLine{00190 }
\DoxyCodeLine{00191             Display.UpdateDisplay = \textcolor{keyword}{true};}
\DoxyCodeLine{00192             last\_BPM = \mbox{\hyperlink{drum__computer_8h_a0065e192c774e20fd5e0ab3c342b7088}{BPM}};}
\DoxyCodeLine{00193         \}}
\DoxyCodeLine{00194 }
\DoxyCodeLine{00195         ecg\_toggleCounter++;}
\DoxyCodeLine{00196         ecg\_intCount++;}
\DoxyCodeLine{00197     \}}
\DoxyCodeLine{00198 \}}

\end{DoxyCode}
\mbox{\Hypertarget{emg_8c_a98bf9a8015f7a7833276fbf6a72e255e}\label{emg_8c_a98bf9a8015f7a7833276fbf6a72e255e}} 
\index{emg.c@{emg.c}!ecg\_init@{ecg\_init}}
\index{ecg\_init@{ecg\_init}!emg.c@{emg.c}}
\doxysubsubsection{\texorpdfstring{ecg\_init()}{ecg\_init()}}
{\footnotesize\ttfamily HAL\+\_\+\+Status\+Type\+Def ecg\+\_\+init (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



ECG init. 

\begin{DoxyNote}{Note}
need to be called after emg\+\_\+init() 
\end{DoxyNote}


Definition at line \mbox{\hyperlink{emg_8c_source_l00037}{37}} of file \mbox{\hyperlink{emg_8c_source}{emg.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00037                                 \{}
\DoxyCodeLine{00038 }
\DoxyCodeLine{00039     heartrate = 0;}
\DoxyCodeLine{00040 }
\DoxyCodeLine{00041     ecg\_detectionThreshold = 2500;}
\DoxyCodeLine{00042     ecg\_peaks = 0;}
\DoxyCodeLine{00043     ecg\_toggled = \textcolor{keyword}{false};}
\DoxyCodeLine{00044     ecg\_peak = \textcolor{keyword}{false};}
\DoxyCodeLine{00045     ecg\_toggleThreshold = EMG\_SR/10;}
\DoxyCodeLine{00046     ecg\_toggleCounter = ecg\_toggleThreshold;}
\DoxyCodeLine{00047     ecg\_measInt = EMG\_SR * EMG\_MI;}
\DoxyCodeLine{00048     ecg\_intCount = 0;}
\DoxyCodeLine{00049     ecg\_maxDetectionThreshold = 2850;}
\DoxyCodeLine{00050     ecg\_maxToggleThreshold = EMG\_SR/5;}
\DoxyCodeLine{00051 }
\DoxyCodeLine{00052     \textcolor{keywordflow}{return} HAL\_OK;}
\DoxyCodeLine{00053 \}}

\end{DoxyCode}
\mbox{\Hypertarget{emg_8c_a63f5337cb5d5feb55ddedd79bca265d9}\label{emg_8c_a63f5337cb5d5feb55ddedd79bca265d9}} 
\index{emg.c@{emg.c}!emg\_peak\_detection@{emg\_peak\_detection}}
\index{emg\_peak\_detection@{emg\_peak\_detection}!emg.c@{emg.c}}
\doxysubsubsection{\texorpdfstring{emg\_peak\_detection()}{emg\_peak\_detection()}}
{\footnotesize\ttfamily HAL\+\_\+\+Status\+Type\+Def emg\+\_\+peak\+\_\+detection (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



detects an EMG peak and sets flags for further processing 

\begin{DoxyNote}{Note}
needs to be called in an ADC interrupt 
\end{DoxyNote}


Definition at line \mbox{\hyperlink{emg_8c_source_l00070}{70}} of file \mbox{\hyperlink{emg_8c_source}{emg.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00070                                           \{}
\DoxyCodeLine{00071 }
\DoxyCodeLine{00072     uint16\_t ADC\_BLOCKSIZE\_startIndex=0, ADC\_BLOCKSIZE\_endIndex=0;}
\DoxyCodeLine{00073 }
\DoxyCodeLine{00074     \textcolor{comment}{//decide which buffer half}}
\DoxyCodeLine{00075     \textcolor{keywordflow}{if}(inputBuffer\_position == HALF\_BLOCK) \{}
\DoxyCodeLine{00076         ADC\_BLOCKSIZE\_startIndex = 0;}
\DoxyCodeLine{00077         ADC\_BLOCKSIZE\_endIndex = EMG\_READ\_LENGTH/2;}
\DoxyCodeLine{00078     \}}
\DoxyCodeLine{00079     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(inputBuffer\_position == FULL\_BLOCK) \{}
\DoxyCodeLine{00080         ADC\_BLOCKSIZE\_startIndex = EMG\_READ\_LENGTH/2;}
\DoxyCodeLine{00081         ADC\_BLOCKSIZE\_endIndex = EMG\_READ\_LENGTH;}
\DoxyCodeLine{00082     \}}
\DoxyCodeLine{00083 }
\DoxyCodeLine{00084     \textcolor{comment}{//peak detection}}
\DoxyCodeLine{00085     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i = ADC\_BLOCKSIZE\_startIndex; i < ADC\_BLOCKSIZE\_endIndex; i+=2)\{}
\DoxyCodeLine{00086         \textcolor{keywordflow}{if}(emg\_buffer[i] > emg\_detectionThreshold \&\& emg\_toggleCounter > emg\_toggleThreshold)\{}
\DoxyCodeLine{00087             emg\_peak = 1;}
\DoxyCodeLine{00088             emg\_toggleCounter = 0;}
\DoxyCodeLine{00089             HAL\_GPIO\_WritePin(Red\_User\_LED\_GPIO\_Port, Red\_User\_LED\_Pin,SET);}
\DoxyCodeLine{00090             emg\_toggled = 1;}
\DoxyCodeLine{00091         \}}
\DoxyCodeLine{00092         \textcolor{keywordflow}{if}(emg\_toggleCounter > emg\_toggleThreshold \&\& emg\_toggled == 1)\{}
\DoxyCodeLine{00093             HAL\_GPIO\_WritePin(Red\_User\_LED\_GPIO\_Port, Red\_User\_LED\_Pin,RESET);}
\DoxyCodeLine{00094             emg\_toggled = 0;}
\DoxyCodeLine{00095         \}}
\DoxyCodeLine{00096 }
\DoxyCodeLine{00097         emg\_toggleCounter++;}
\DoxyCodeLine{00098     \}}
\DoxyCodeLine{00099 }
\DoxyCodeLine{00100     \textcolor{comment}{//sample playing controlled by EMG}}
\DoxyCodeLine{00101     \textcolor{keywordflow}{if}(Display.PlaySingleSample\_ONOFF == \textcolor{keyword}{true} \&\& emg\_peak == 1) \{}
\DoxyCodeLine{00102 }
\DoxyCodeLine{00103         play\_single\_sample\_flag = \textcolor{keyword}{true};}
\DoxyCodeLine{00104         emg\_peak = 0;}
\DoxyCodeLine{00105     \}}
\DoxyCodeLine{00106 }
\DoxyCodeLine{00107     \textcolor{keywordflow}{return} HAL\_OK;}
\DoxyCodeLine{00108 \}}

\end{DoxyCode}
\mbox{\Hypertarget{emg_8c_ad8539de6db12ec20b070f6fb97f99a73}\label{emg_8c_ad8539de6db12ec20b070f6fb97f99a73}} 
\index{emg.c@{emg.c}!emg\_start\_read@{emg\_start\_read}}
\index{emg\_start\_read@{emg\_start\_read}!emg.c@{emg.c}}
\doxysubsubsection{\texorpdfstring{emg\_start\_read()}{emg\_start\_read()}}
{\footnotesize\ttfamily HAL\+\_\+\+Status\+Type\+Def emg\+\_\+start\+\_\+read (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



start all necessary peripherals for the EMG/\+ECG 



Definition at line \mbox{\hyperlink{emg_8c_source_l00055}{55}} of file \mbox{\hyperlink{emg_8c_source}{emg.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00055                                       \{}
\DoxyCodeLine{00056 }
\DoxyCodeLine{00057     \mbox{\hyperlink{signal__synthesis_8h_adc7b4110b68d58532096fe9f817df89c}{SetTimerSettings}}(EMG\_TIM, EMG\_SR);}
\DoxyCodeLine{00058     HAL\_TIM\_Base\_Start(EMG\_TIM);}
\DoxyCodeLine{00059     printf(\textcolor{stringliteral}{"{}start emg\(\backslash\)r\(\backslash\)n"{}});}
\DoxyCodeLine{00060     \textcolor{keywordflow}{return} HAL\_ADC\_Start\_DMA(EMG\_ADC, emg\_buffer, EMG\_READ\_LENGTH);}
\DoxyCodeLine{00061 \}}

\end{DoxyCode}
\mbox{\Hypertarget{emg_8c_a305d3a0240c6e197a771b26c8d4fd22a}\label{emg_8c_a305d3a0240c6e197a771b26c8d4fd22a}} 
\index{emg.c@{emg.c}!emg\_stop\_read@{emg\_stop\_read}}
\index{emg\_stop\_read@{emg\_stop\_read}!emg.c@{emg.c}}
\doxysubsubsection{\texorpdfstring{emg\_stop\_read()}{emg\_stop\_read()}}
{\footnotesize\ttfamily HAL\+\_\+\+Status\+Type\+Def emg\+\_\+stop\+\_\+read (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Only stops the ADC reading of the connected EMG/\+ECG board. 



Definition at line \mbox{\hyperlink{emg_8c_source_l00064}{64}} of file \mbox{\hyperlink{emg_8c_source}{emg.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00064                                      \{}
\DoxyCodeLine{00065     \textcolor{keywordflow}{return} HAL\_ADC\_Stop\_DMA(EMG\_ADC);}
\DoxyCodeLine{00066 \}}

\end{DoxyCode}


\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{emg_8c_a14c1b6c0009f4d13e8009a5feb890d47}\label{emg_8c_a14c1b6c0009f4d13e8009a5feb890d47}} 
\index{emg.c@{emg.c}!emg\_detectionThreshold@{emg\_detectionThreshold}}
\index{emg\_detectionThreshold@{emg\_detectionThreshold}!emg.c@{emg.c}}
\doxysubsubsection{\texorpdfstring{emg\_detectionThreshold}{emg\_detectionThreshold}}
{\footnotesize\ttfamily emg\+\_\+detection\+Threshold = 2500}



Definition at line \mbox{\hyperlink{emg_8c_source_l00023}{23}} of file \mbox{\hyperlink{emg_8c_source}{emg.\+c}}.

\mbox{\Hypertarget{emg_8c_abcb925fb06e444144e71b2ffa4c72230}\label{emg_8c_abcb925fb06e444144e71b2ffa4c72230}} 
\index{emg.c@{emg.c}!emg\_maxDetectionThreshold@{emg\_maxDetectionThreshold}}
\index{emg\_maxDetectionThreshold@{emg\_maxDetectionThreshold}!emg.c@{emg.c}}
\doxysubsubsection{\texorpdfstring{emg\_maxDetectionThreshold}{emg\_maxDetectionThreshold}}
{\footnotesize\ttfamily emg\+\_\+max\+Detection\+Threshold = 2850}



Definition at line \mbox{\hyperlink{emg_8c_source_l00028}{28}} of file \mbox{\hyperlink{emg_8c_source}{emg.\+c}}.

\mbox{\Hypertarget{emg_8c_ac06fa3fee562224bf2ebae3a378c0d18}\label{emg_8c_ac06fa3fee562224bf2ebae3a378c0d18}} 
\index{emg.c@{emg.c}!emg\_maxToggleThreshold@{emg\_maxToggleThreshold}}
\index{emg\_maxToggleThreshold@{emg\_maxToggleThreshold}!emg.c@{emg.c}}
\doxysubsubsection{\texorpdfstring{emg\_maxToggleThreshold}{emg\_maxToggleThreshold}}
{\footnotesize\ttfamily emg\+\_\+max\+Toggle\+Threshold = EMG\+\_\+\+SR/5}



Definition at line \mbox{\hyperlink{emg_8c_source_l00029}{29}} of file \mbox{\hyperlink{emg_8c_source}{emg.\+c}}.

\mbox{\Hypertarget{emg_8c_a6160b2ca77b309ac5121578747df7ebd}\label{emg_8c_a6160b2ca77b309ac5121578747df7ebd}} 
\index{emg.c@{emg.c}!emg\_peak@{emg\_peak}}
\index{emg\_peak@{emg\_peak}!emg.c@{emg.c}}
\doxysubsubsection{\texorpdfstring{emg\_peak}{emg\_peak}}
{\footnotesize\ttfamily emg\+\_\+peak = 0}



Definition at line \mbox{\hyperlink{emg_8c_source_l00024}{24}} of file \mbox{\hyperlink{emg_8c_source}{emg.\+c}}.

\mbox{\Hypertarget{emg_8c_a7a2bcc2a2751bb0a3df474df27e7b2b6}\label{emg_8c_a7a2bcc2a2751bb0a3df474df27e7b2b6}} 
\index{emg.c@{emg.c}!EMG\_TIM@{EMG\_TIM}}
\index{EMG\_TIM@{EMG\_TIM}!emg.c@{emg.c}}
\doxysubsubsection{\texorpdfstring{EMG\_TIM}{EMG\_TIM}}
{\footnotesize\ttfamily EMG\+\_\+\+TIM = htim}



Definition at line \mbox{\hyperlink{emg_8c_source_l00022}{22}} of file \mbox{\hyperlink{emg_8c_source}{emg.\+c}}.

\mbox{\Hypertarget{emg_8c_ae841ad34eb714c953f56994c83d1edb3}\label{emg_8c_ae841ad34eb714c953f56994c83d1edb3}} 
\index{emg.c@{emg.c}!emg\_toggleCounter@{emg\_toggleCounter}}
\index{emg\_toggleCounter@{emg\_toggleCounter}!emg.c@{emg.c}}
\doxysubsubsection{\texorpdfstring{emg\_toggleCounter}{emg\_toggleCounter}}
{\footnotesize\ttfamily emg\+\_\+toggle\+Counter = emg\+\_\+toggle\+Threshold}



Definition at line \mbox{\hyperlink{emg_8c_source_l00026}{26}} of file \mbox{\hyperlink{emg_8c_source}{emg.\+c}}.

\mbox{\Hypertarget{emg_8c_ab09fded3c224aa3af934217d594e7e2d}\label{emg_8c_ab09fded3c224aa3af934217d594e7e2d}} 
\index{emg.c@{emg.c}!emg\_toggled@{emg\_toggled}}
\index{emg\_toggled@{emg\_toggled}!emg.c@{emg.c}}
\doxysubsubsection{\texorpdfstring{emg\_toggled}{emg\_toggled}}
{\footnotesize\ttfamily emg\+\_\+toggled = 0}



Definition at line \mbox{\hyperlink{emg_8c_source_l00027}{27}} of file \mbox{\hyperlink{emg_8c_source}{emg.\+c}}.

\mbox{\Hypertarget{emg_8c_ac1eacd66ffa3f83178d29566e56897d9}\label{emg_8c_ac1eacd66ffa3f83178d29566e56897d9}} 
\index{emg.c@{emg.c}!emg\_toggleThreshold@{emg\_toggleThreshold}}
\index{emg\_toggleThreshold@{emg\_toggleThreshold}!emg.c@{emg.c}}
\doxysubsubsection{\texorpdfstring{emg\_toggleThreshold}{emg\_toggleThreshold}}
{\footnotesize\ttfamily emg\+\_\+toggle\+Threshold = 50}



Definition at line \mbox{\hyperlink{emg_8c_source_l00025}{25}} of file \mbox{\hyperlink{emg_8c_source}{emg.\+c}}.

\mbox{\Hypertarget{emg_8c_a05dcbf41f5c5e42a592e9ad9e351391e}\label{emg_8c_a05dcbf41f5c5e42a592e9ad9e351391e}} 
\index{emg.c@{emg.c}!HAL\_OK@{HAL\_OK}}
\index{HAL\_OK@{HAL\_OK}!emg.c@{emg.c}}
\doxysubsubsection{\texorpdfstring{HAL\_OK}{HAL\_OK}}
{\footnotesize\ttfamily return HAL\+\_\+\+OK}



Definition at line \mbox{\hyperlink{emg_8c_source_l00031}{31}} of file \mbox{\hyperlink{emg_8c_source}{emg.\+c}}.

\mbox{\Hypertarget{emg_8c_ab7b0427c78c8284a7d3cf08f345ce09d}\label{emg_8c_ab7b0427c78c8284a7d3cf08f345ce09d}} 
\index{emg.c@{emg.c}!htim@{htim}}
\index{htim@{htim}!emg.c@{emg.c}}
\doxysubsubsection{\texorpdfstring{htim}{htim}}
{\footnotesize\ttfamily Created TIM\+\_\+\+Handle\+Type\+Def$\ast$ htim}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{\{}
\DoxyCodeLine{}
\DoxyCodeLine{    EMG\_ADC = hadc}

\end{DoxyCode}


Definition at line \mbox{\hyperlink{emg_8c_source_l00019}{19}} of file \mbox{\hyperlink{emg_8c_source}{emg.\+c}}.

\mbox{\Hypertarget{emg_8c_a11bf60e5f1afeb16f1eee028c6c99d90}\label{emg_8c_a11bf60e5f1afeb16f1eee028c6c99d90}} 
\index{emg.c@{emg.c}!on@{on}}
\index{on@{on}!emg.c@{emg.c}}
\doxysubsubsection{\texorpdfstring{on}{on}}
{\footnotesize\ttfamily Created on}



Definition at line \mbox{\hyperlink{emg_8c_source_l00013}{13}} of file \mbox{\hyperlink{emg_8c_source}{emg.\+c}}.

