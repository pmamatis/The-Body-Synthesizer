\hypertarget{music__notes_8c_source}{}\doxysection{music\+\_\+notes.\+c}
\label{music__notes_8c_source}\index{/media/paul/LINUX\_MEM/Uni/Git Repos/Body-\/Synthesizer\_STM32\_F746ZG/body-\/synthesizer-\/stm32-\/f746zg/Core/Src/music\_notes.c@{/media/paul/LINUX\_MEM/Uni/Git Repos/Body-\/Synthesizer\_STM32\_F746ZG/body-\/synthesizer-\/stm32-\/f746zg/Core/Src/music\_notes.c}}
\mbox{\hyperlink{music__notes_8c}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{music__notes_8c_source_l00001}00001 }
\DoxyCodeLine{\Hypertarget{music__notes_8c_source_l00011}00011 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{music__notes_8h}{music\_notes.h}}"{}}}
\DoxyCodeLine{\Hypertarget{music__notes_8c_source_l00012}00012 }
\DoxyCodeLine{\Hypertarget{music__notes_8c_source_l00014}\mbox{\hyperlink{music__notes_8c_aaeba6af94f85d3f8a58e358b842e96f5}{00014}} \textcolor{keyword}{const} \textcolor{keywordtype}{char} \mbox{\hyperlink{music__notes_8c_aaeba6af94f85d3f8a58e358b842e96f5}{keys}}[] = \{\textcolor{charliteral}{'C'},\textcolor{charliteral}{'c'},\textcolor{charliteral}{'D'},\textcolor{charliteral}{'d'},\textcolor{charliteral}{'E'},\textcolor{charliteral}{'F'},\textcolor{charliteral}{'f'},\textcolor{charliteral}{'G'},\textcolor{charliteral}{'g'},\textcolor{charliteral}{'A'},\textcolor{charliteral}{'B'},\textcolor{charliteral}{'H'},\textcolor{charliteral}{'C'},\textcolor{charliteral}{'c'},\textcolor{charliteral}{'D'},\textcolor{charliteral}{'d'},\textcolor{charliteral}{'E'},\textcolor{charliteral}{'F'},\textcolor{charliteral}{'f'},\textcolor{charliteral}{'G'},\textcolor{charliteral}{'g'},\textcolor{charliteral}{'A'},\textcolor{charliteral}{'B'},\textcolor{charliteral}{'H'},\textcolor{charliteral}{'C'},\textcolor{charliteral}{'c'}\};}
\DoxyCodeLine{\Hypertarget{music__notes_8c_source_l00015}00015 \textcolor{comment}{//                        C\#      D\#          F\#      G\#                  C\#      D\#          F\#      G\#                  C\#}}
\DoxyCodeLine{\Hypertarget{music__notes_8c_source_l00016}00016 }
\DoxyCodeLine{\Hypertarget{music__notes_8c_source_l00018}\mbox{\hyperlink{music__notes_8c_a66e704f0ec2f815319d4f7e1670a5544}{00018}} \textcolor{keyword}{const} uint32\_t \mbox{\hyperlink{music__notes_8c_a66e704f0ec2f815319d4f7e1670a5544}{major\_scale}}[] =  \{0,2,4,5,7,9,11,12, 14\};     \textcolor{comment}{// \{2,2,1,2,2,2,1\}; Dur}}
\DoxyCodeLine{\Hypertarget{music__notes_8c_source_l00019}00019 \textcolor{keyword}{const} uint32\_t minor\_scale[] =  \{0,2,3,5,7,8,10,12, 14\};        \textcolor{comment}{// \{2,1,2,2,1,2,2\}; Mol}}
\DoxyCodeLine{\Hypertarget{music__notes_8c_source_l00020}00020 }
\DoxyCodeLine{\Hypertarget{music__notes_8c_source_l00022}\mbox{\hyperlink{music__notes_8c_a6b305b78e131e7e4741cd5ef7a8d01f2}{00022}} \textcolor{keyword}{const} uint32\_t \mbox{\hyperlink{music__notes_8c_a6b305b78e131e7e4741cd5ef7a8d01f2}{major\_chords}}[] = \{0,1,1,0,0,1, 2, 0, 1\};     \textcolor{comment}{// 0: major, 1: minor, 2: diminished}}
\DoxyCodeLine{\Hypertarget{music__notes_8c_source_l00023}00023 \textcolor{keyword}{const} uint32\_t minor\_chords[] = \{1,2,0,1,1,0, 0, 1, 2\}; \textcolor{comment}{// 0: major, 1: minor, 2: diminished}}
\DoxyCodeLine{\Hypertarget{music__notes_8c_source_l00024}00024 }
\DoxyCodeLine{\Hypertarget{music__notes_8c_source_l00026}\mbox{\hyperlink{music__notes_8c_a5f7a199c28e64af888df934d8337c7ca}{00026}} \textcolor{keyword}{const} uint32\_t \mbox{\hyperlink{music__notes_8c_a5f7a199c28e64af888df934d8337c7ca}{chord\_5}}[] = \{1,3,5\};   \textcolor{comment}{//5th-\/chord}}
\DoxyCodeLine{\Hypertarget{music__notes_8c_source_l00027}00027 \textcolor{keyword}{const} uint32\_t chord\_7[] = \{1,3,5,7\}; \textcolor{comment}{//7th-\/chord, Jazz}}
\DoxyCodeLine{\Hypertarget{music__notes_8c_source_l00028}00028 \textcolor{keyword}{const} uint32\_t chord\_9[] = \{1,3,5,9\}; \textcolor{comment}{//9th-\/chord, Math-\/Rock}}
\DoxyCodeLine{\Hypertarget{music__notes_8c_source_l00029}00029 \textcolor{keyword}{const} uint32\_t chord\_dim[] = \{1,3,4\}; \textcolor{comment}{//diminished-\/chord}}
\DoxyCodeLine{\Hypertarget{music__notes_8c_source_l00030}00030 }
\DoxyCodeLine{\Hypertarget{music__notes_8c_source_l00033}00033 \textcolor{keyword}{extern} DAC\_HandleTypeDef \mbox{\hyperlink{music__notes_8c_a40a0d1383beda58531dfda6218720e45}{hdac}};}
\DoxyCodeLine{\Hypertarget{music__notes_8c_source_l00034}00034 \textcolor{keyword}{extern} DMA\_HandleTypeDef hdma\_dac1;}
\DoxyCodeLine{\Hypertarget{music__notes_8c_source_l00035}00035 }
\DoxyCodeLine{\Hypertarget{music__notes_8c_source_l00036}00036 \textcolor{keyword}{extern} TIM\_HandleTypeDef htim6;}
\DoxyCodeLine{\Hypertarget{music__notes_8c_source_l00037}00037 \textcolor{keyword}{extern} TIM\_HandleTypeDef htim8;}
\DoxyCodeLine{\Hypertarget{music__notes_8c_source_l00038}00038 }
\DoxyCodeLine{\Hypertarget{music__notes_8c_source_l00039}00039 \textcolor{comment}{// Variables}}
\DoxyCodeLine{\Hypertarget{music__notes_8c_source_l00041}\mbox{\hyperlink{music__notes_8c_acad36f7a1211e9e9da68e181667d9c3f}{00041}} \textcolor{comment}{}\textcolor{keywordtype}{char} \mbox{\hyperlink{music__notes_8c_acad36f7a1211e9e9da68e181667d9c3f}{key}} = \textcolor{charliteral}{'C'};}
\DoxyCodeLine{\Hypertarget{music__notes_8c_source_l00043}\mbox{\hyperlink{music__notes_8c_af3ae983909bdbfc6666cbfda24d0d0ba}{00043}} uint8\_t \mbox{\hyperlink{music__notes_8c_af3ae983909bdbfc6666cbfda24d0d0ba}{sex}} = 0;}
\DoxyCodeLine{\Hypertarget{music__notes_8c_source_l00044}00044 }
\DoxyCodeLine{\Hypertarget{music__notes_8c_source_l00045}00045 }
\DoxyCodeLine{\Hypertarget{music__notes_8c_source_l00046}00046 \textcolor{comment}{// Functions}}
\DoxyCodeLine{\Hypertarget{music__notes_8c_source_l00051}\mbox{\hyperlink{music__notes_8h_a24334366425c42178a955c3c969ad9a8}{00051}} \textcolor{comment}{}uint8\_t \mbox{\hyperlink{music__notes_8c_a24334366425c42178a955c3c969ad9a8}{Get\_Keyindex}}(\textcolor{keywordtype}{char} \mbox{\hyperlink{music__notes_8c_acad36f7a1211e9e9da68e181667d9c3f}{key}})\{}
\DoxyCodeLine{\Hypertarget{music__notes_8c_source_l00052}00052 }
\DoxyCodeLine{\Hypertarget{music__notes_8c_source_l00053}00053     uint8\_t keyindex = 0;}
\DoxyCodeLine{\Hypertarget{music__notes_8c_source_l00054}00054 }
\DoxyCodeLine{\Hypertarget{music__notes_8c_source_l00055}00055     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i = 0; i < 12; i++)\{}
\DoxyCodeLine{\Hypertarget{music__notes_8c_source_l00056}00056         \textcolor{keywordflow}{if}(\mbox{\hyperlink{music__notes_8c_acad36f7a1211e9e9da68e181667d9c3f}{key}} == \mbox{\hyperlink{music__notes_8c_aaeba6af94f85d3f8a58e358b842e96f5}{keys}}[i]) keyindex = i;}
\DoxyCodeLine{\Hypertarget{music__notes_8c_source_l00057}00057     \}}
\DoxyCodeLine{\Hypertarget{music__notes_8c_source_l00058}00058 \textcolor{keywordflow}{return} keyindex;}
\DoxyCodeLine{\Hypertarget{music__notes_8c_source_l00059}00059 \}}
\DoxyCodeLine{\Hypertarget{music__notes_8c_source_l00060}00060 }
\DoxyCodeLine{\Hypertarget{music__notes_8c_source_l00063}\mbox{\hyperlink{music__notes_8h_a3fc1bdf03e12b5dee3aa887f100421bf}{00063}} \textcolor{keywordtype}{double} \mbox{\hyperlink{music__notes_8c_a3fc1bdf03e12b5dee3aa887f100421bf}{Get\_Note\_Frequency}}(uint8\_t index,uint8\_t octave)\{}
\DoxyCodeLine{\Hypertarget{music__notes_8c_source_l00064}00064     \textcolor{keywordtype}{int} tmp\_octave = 12*octave; \textcolor{comment}{//DEBUG}}
\DoxyCodeLine{\Hypertarget{music__notes_8c_source_l00065}00065     \textcolor{keywordtype}{double} note\_freq =\mbox{\hyperlink{group__SINLUT_ga9a9d9181987af97d8c0ee7492f2e17fc}{LUT\_FREQUENCYS}}[tmp\_octave+index];}
\DoxyCodeLine{\Hypertarget{music__notes_8c_source_l00066}00066     \textcolor{keywordflow}{return} note\_freq;}
\DoxyCodeLine{\Hypertarget{music__notes_8c_source_l00067}00067 \}}
\DoxyCodeLine{\Hypertarget{music__notes_8c_source_l00068}00068 }
\DoxyCodeLine{\Hypertarget{music__notes_8c_source_l00071}\mbox{\hyperlink{music__notes_8h_a71407d53f2b1100f1ab93dc2681dfe48}{00071}} uint16\_t \mbox{\hyperlink{music__notes_8c_a71407d53f2b1100f1ab93dc2681dfe48}{Get\_Note\_Index}}(\textcolor{keywordtype}{char} \mbox{\hyperlink{music__notes_8c_acad36f7a1211e9e9da68e181667d9c3f}{key}},uint8\_t octave)\{}
\DoxyCodeLine{\Hypertarget{music__notes_8c_source_l00072}00072     \textcolor{keywordflow}{return} 12*octave + \mbox{\hyperlink{music__notes_8c_a24334366425c42178a955c3c969ad9a8}{Get\_Keyindex}}(\mbox{\hyperlink{music__notes_8c_acad36f7a1211e9e9da68e181667d9c3f}{key}});}
\DoxyCodeLine{\Hypertarget{music__notes_8c_source_l00073}00073 \}}

\end{DoxyCode}
