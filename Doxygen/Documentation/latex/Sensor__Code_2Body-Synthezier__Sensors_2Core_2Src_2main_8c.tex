\hypertarget{Sensor__Code_2Body-Synthezier__Sensors_2Core_2Src_2main_8c}{}\doxysection{/media/paul/\+LINUX\+\_\+\+MEM/\+Uni/\+Git Repos/\+Body-\/\+Synthesizer\+\_\+\+STM32\+\_\+\+F746\+ZG/body-\/synthesizer-\/stm32-\/f746zg/\+Sensor\+\_\+\+Code/\+Body-\/\+Synthezier\+\_\+\+Sensors/\+Core/\+Src/main.c File Reference}
\label{Sensor__Code_2Body-Synthezier__Sensors_2Core_2Src_2main_8c}\index{/media/paul/LINUX\_MEM/Uni/Git Repos/Body-\/Synthesizer\_STM32\_F746ZG/body-\/synthesizer-\/stm32-\/f746zg/Sensor\_Code/Body-\/Synthezier\_Sensors/Core/Src/main.c@{/media/paul/LINUX\_MEM/Uni/Git Repos/Body-\/Synthesizer\_STM32\_F746ZG/body-\/synthesizer-\/stm32-\/f746zg/Sensor\_Code/Body-\/Synthezier\_Sensors/Core/Src/main.c}}


\+: Main program body  


{\ttfamily \#include \char`\"{}main.\+h\char`\"{}}\newline
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{Sensor__Code_2Body-Synthezier__Sensors_2Core_2Src_2main_8c_a70af21c671abfcc773614a9a4f63d920}{System\+Clock\+\_\+\+Config}} (void)
\begin{DoxyCompactList}\small\item\em System Clock Configuration. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{group__LED_ga840291bc02cba5474a4cb46a9b9566fe}{main}} (void)
\begin{DoxyCompactList}\small\item\em The application entry point. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{Sensor__Code_2Body-Synthezier__Sensors_2Core_2Src_2main_8c_abc513dd972081ae765b6949a62872eb7}{\+\_\+\+\_\+io\+\_\+putchar}} (int ch)
\begin{DoxyCompactList}\small\item\em modifies the printf to output the strings to UART, so it can be receiced on a external terminal for debugging \end{DoxyCompactList}\item 
int \mbox{\hyperlink{Sensor__Code_2Body-Synthezier__Sensors_2Core_2Src_2main_8c_aa025a12d45f60c7d0eae249e61f0c7f9}{\+\_\+write}} (int file, char $\ast$ptr, int len)
\item 
void \mbox{\hyperlink{Sensor__Code_2Body-Synthezier__Sensors_2Core_2Src_2main_8c_a1730ffe1e560465665eb47d9264826f9}{Error\+\_\+\+Handler}} (void)
\begin{DoxyCompactList}\small\item\em This function is executed in case of error occurrence. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
I2\+C\+\_\+\+Handle\+Type\+Def \mbox{\hyperlink{Sensor__Code_2Body-Synthezier__Sensors_2Core_2Src_2main_8c_af7b2c26e44dadaaa798a5c3d82914ba7}{hi2c1}}
\item 
SPI\+\_\+\+Handle\+Type\+Def \mbox{\hyperlink{Sensor__Code_2Body-Synthezier__Sensors_2Core_2Src_2main_8c_a9c6222bae4d0328dd843ae099623b40b}{hspi1}}
\item 
DMA\+\_\+\+Handle\+Type\+Def \mbox{\hyperlink{Sensor__Code_2Body-Synthezier__Sensors_2Core_2Src_2main_8c_ad70fe79aa3139fc9184d8ffb5dfba323}{hdma\+\_\+spi1\+\_\+rx}}
\item 
DMA\+\_\+\+Handle\+Type\+Def \mbox{\hyperlink{Sensor__Code_2Body-Synthezier__Sensors_2Core_2Src_2main_8c_ac8cdcfbb7adfcccc5717da58e1e10ae4}{hdma\+\_\+spi1\+\_\+tx}}
\item 
UART\+\_\+\+Handle\+Type\+Def \mbox{\hyperlink{Sensor__Code_2Body-Synthezier__Sensors_2Core_2Src_2main_8c_aa9479c261d65eecedd3d9582f7f0f89c}{huart2}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\+: Main program body 

\begin{DoxyAttention}{Attention}

\end{DoxyAttention}
\doxysubsubsection*{\begin{center}\copyright{} Copyright (c) 2021 STMicroelectronics. All rights reserved.\end{center} }

This software component is licensed by ST under BSD 3-\/Clause license, the \char`\"{}\+License\char`\"{}; You may not use this file except in compliance with the License. You may obtain a copy of the License at\+: opensource.\+org/licenses/\+BSD-\/3-\/\+Clause 

Definition in file \mbox{\hyperlink{Sensor__Code_2Body-Synthezier__Sensors_2Core_2Src_2main_8c_source}{main.\+c}}.



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{Sensor__Code_2Body-Synthezier__Sensors_2Core_2Src_2main_8c_abc513dd972081ae765b6949a62872eb7}\label{Sensor__Code_2Body-Synthezier__Sensors_2Core_2Src_2main_8c_abc513dd972081ae765b6949a62872eb7}} 
\index{main.c@{main.c}!\_\_io\_putchar@{\_\_io\_putchar}}
\index{\_\_io\_putchar@{\_\_io\_putchar}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{\_\_io\_putchar()}{\_\_io\_putchar()}}
{\footnotesize\ttfamily int \+\_\+\+\_\+io\+\_\+putchar (\begin{DoxyParamCaption}\item[{int}]{ch }\end{DoxyParamCaption})}



modifies the printf to output the strings to UART, so it can be receiced on a external terminal for debugging 



Definition at line \mbox{\hyperlink{Sensor__Code_2Body-Synthezier__Sensors_2Core_2Src_2main_8c_source_l00471}{471}} of file \mbox{\hyperlink{Sensor__Code_2Body-Synthezier__Sensors_2Core_2Src_2main_8c_source}{main.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00472 \{}
\DoxyCodeLine{00473     uint8\_t c[1];}
\DoxyCodeLine{00474     c[0] = ch \& 0x00FF;}
\DoxyCodeLine{00475     HAL\_UART\_Transmit(\&huart2, \&*c, 1, 10);}
\DoxyCodeLine{00476     \textcolor{keywordflow}{return} ch;}
\DoxyCodeLine{00477 \}}

\end{DoxyCode}
\mbox{\Hypertarget{Sensor__Code_2Body-Synthezier__Sensors_2Core_2Src_2main_8c_aa025a12d45f60c7d0eae249e61f0c7f9}\label{Sensor__Code_2Body-Synthezier__Sensors_2Core_2Src_2main_8c_aa025a12d45f60c7d0eae249e61f0c7f9}} 
\index{main.c@{main.c}!\_write@{\_write}}
\index{\_write@{\_write}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{\_write()}{\_write()}}
{\footnotesize\ttfamily int \+\_\+write (\begin{DoxyParamCaption}\item[{int}]{file,  }\item[{char $\ast$}]{ptr,  }\item[{int}]{len }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{Sensor__Code_2Body-Synthezier__Sensors_2Core_2Src_2main_8c_source_l00479}{479}} of file \mbox{\hyperlink{Sensor__Code_2Body-Synthezier__Sensors_2Core_2Src_2main_8c_source}{main.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00480 \{}
\DoxyCodeLine{00481     \textcolor{keywordtype}{int} DataIdx;}
\DoxyCodeLine{00482     \textcolor{keywordflow}{for}(DataIdx= 0; DataIdx< len; DataIdx++)}
\DoxyCodeLine{00483     \{}
\DoxyCodeLine{00484         \mbox{\hyperlink{Core_2Src_2main_8c_abc513dd972081ae765b6949a62872eb7}{\_\_io\_putchar}}(*ptr++);}
\DoxyCodeLine{00485     \}}
\DoxyCodeLine{00486     \textcolor{keywordflow}{return} len;}
\DoxyCodeLine{00487 \}}

\end{DoxyCode}
\mbox{\Hypertarget{Sensor__Code_2Body-Synthezier__Sensors_2Core_2Src_2main_8c_a1730ffe1e560465665eb47d9264826f9}\label{Sensor__Code_2Body-Synthezier__Sensors_2Core_2Src_2main_8c_a1730ffe1e560465665eb47d9264826f9}} 
\index{main.c@{main.c}!Error\_Handler@{Error\_Handler}}
\index{Error\_Handler@{Error\_Handler}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{Error\_Handler()}{Error\_Handler()}}
{\footnotesize\ttfamily void Error\+\_\+\+Handler (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



This function is executed in case of error occurrence. 


\begin{DoxyRetVals}{Return values}
{\em None} & \\
\hline
\end{DoxyRetVals}


Definition at line \mbox{\hyperlink{Sensor__Code_2Body-Synthezier__Sensors_2Core_2Src_2main_8c_source_l00495}{495}} of file \mbox{\hyperlink{Sensor__Code_2Body-Synthezier__Sensors_2Core_2Src_2main_8c_source}{main.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00496 \{}
\DoxyCodeLine{00497   \textcolor{comment}{/* USER CODE BEGIN Error\_Handler\_Debug */}}
\DoxyCodeLine{00498     \textcolor{comment}{/* User can add his own implementation to report the HAL error return state */}}
\DoxyCodeLine{00499     \_\_disable\_irq();}
\DoxyCodeLine{00500     \textcolor{keywordflow}{while} (1)}
\DoxyCodeLine{00501     \{}
\DoxyCodeLine{00502     \}}
\DoxyCodeLine{00503   \textcolor{comment}{/* USER CODE END Error\_Handler\_Debug */}}
\DoxyCodeLine{00504 \}}

\end{DoxyCode}
\mbox{\Hypertarget{Sensor__Code_2Body-Synthezier__Sensors_2Core_2Src_2main_8c_a70af21c671abfcc773614a9a4f63d920}\label{Sensor__Code_2Body-Synthezier__Sensors_2Core_2Src_2main_8c_a70af21c671abfcc773614a9a4f63d920}} 
\index{main.c@{main.c}!SystemClock\_Config@{SystemClock\_Config}}
\index{SystemClock\_Config@{SystemClock\_Config}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{SystemClock\_Config()}{SystemClock\_Config()}}
{\footnotesize\ttfamily void System\+Clock\+\_\+\+Config (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



System Clock Configuration. 


\begin{DoxyRetVals}{Return values}
{\em None} & \\
\hline
\end{DoxyRetVals}
Configure the main internal regulator output voltage

Initializes the RCC Oscillators according to the specified parameters in the RCC\+\_\+\+Osc\+Init\+Type\+Def structure.

Initializes the CPU, AHB and APB buses clocks

Definition at line \mbox{\hyperlink{Sensor__Code_2Body-Synthezier__Sensors_2Core_2Src_2main_8c_source_l00249}{249}} of file \mbox{\hyperlink{Sensor__Code_2Body-Synthezier__Sensors_2Core_2Src_2main_8c_source}{main.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00250 \{}
\DoxyCodeLine{00251   RCC\_OscInitTypeDef RCC\_OscInitStruct = \{0\};}
\DoxyCodeLine{00252   RCC\_ClkInitTypeDef RCC\_ClkInitStruct = \{0\};}
\DoxyCodeLine{00253 }
\DoxyCodeLine{00256   \_\_HAL\_RCC\_PWR\_CLK\_ENABLE();}
\DoxyCodeLine{00257   \_\_HAL\_PWR\_VOLTAGESCALING\_CONFIG(PWR\_REGULATOR\_VOLTAGE\_SCALE3);}
\DoxyCodeLine{00261   RCC\_OscInitStruct.OscillatorType = RCC\_OSCILLATORTYPE\_HSI;}
\DoxyCodeLine{00262   RCC\_OscInitStruct.HSIState = RCC\_HSI\_ON;}
\DoxyCodeLine{00263   RCC\_OscInitStruct.HSICalibrationValue = RCC\_HSICALIBRATION\_DEFAULT;}
\DoxyCodeLine{00264   RCC\_OscInitStruct.PLL.PLLState = RCC\_PLL\_ON;}
\DoxyCodeLine{00265   RCC\_OscInitStruct.PLL.PLLSource = RCC\_PLLSOURCE\_HSI;}
\DoxyCodeLine{00266   RCC\_OscInitStruct.PLL.PLLM = 16;}
\DoxyCodeLine{00267   RCC\_OscInitStruct.PLL.PLLN = 336;}
\DoxyCodeLine{00268   RCC\_OscInitStruct.PLL.PLLP = RCC\_PLLP\_DIV4;}
\DoxyCodeLine{00269   RCC\_OscInitStruct.PLL.PLLQ = 2;}
\DoxyCodeLine{00270   RCC\_OscInitStruct.PLL.PLLR = 2;}
\DoxyCodeLine{00271   \textcolor{keywordflow}{if} (HAL\_RCC\_OscConfig(\&RCC\_OscInitStruct) != HAL\_OK)}
\DoxyCodeLine{00272   \{}
\DoxyCodeLine{00273     \mbox{\hyperlink{Core_2Src_2main_8c_a1730ffe1e560465665eb47d9264826f9}{Error\_Handler}}();}
\DoxyCodeLine{00274   \}}
\DoxyCodeLine{00277   RCC\_ClkInitStruct.ClockType = RCC\_CLOCKTYPE\_HCLK|RCC\_CLOCKTYPE\_SYSCLK}
\DoxyCodeLine{00278                               |RCC\_CLOCKTYPE\_PCLK1|RCC\_CLOCKTYPE\_PCLK2;}
\DoxyCodeLine{00279   RCC\_ClkInitStruct.SYSCLKSource = RCC\_SYSCLKSOURCE\_PLLCLK;}
\DoxyCodeLine{00280   RCC\_ClkInitStruct.AHBCLKDivider = RCC\_SYSCLK\_DIV1;}
\DoxyCodeLine{00281   RCC\_ClkInitStruct.APB1CLKDivider = RCC\_HCLK\_DIV2;}
\DoxyCodeLine{00282   RCC\_ClkInitStruct.APB2CLKDivider = RCC\_HCLK\_DIV1;}
\DoxyCodeLine{00283 }
\DoxyCodeLine{00284   \textcolor{keywordflow}{if} (HAL\_RCC\_ClockConfig(\&RCC\_ClkInitStruct, FLASH\_LATENCY\_2) != HAL\_OK)}
\DoxyCodeLine{00285   \{}
\DoxyCodeLine{00286     \mbox{\hyperlink{Core_2Src_2main_8c_a1730ffe1e560465665eb47d9264826f9}{Error\_Handler}}();}
\DoxyCodeLine{00287   \}}
\DoxyCodeLine{00288 \}}

\end{DoxyCode}


\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{Sensor__Code_2Body-Synthezier__Sensors_2Core_2Src_2main_8c_ad70fe79aa3139fc9184d8ffb5dfba323}\label{Sensor__Code_2Body-Synthezier__Sensors_2Core_2Src_2main_8c_ad70fe79aa3139fc9184d8ffb5dfba323}} 
\index{main.c@{main.c}!hdma\_spi1\_rx@{hdma\_spi1\_rx}}
\index{hdma\_spi1\_rx@{hdma\_spi1\_rx}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{hdma\_spi1\_rx}{hdma\_spi1\_rx}}
{\footnotesize\ttfamily DMA\+\_\+\+Handle\+Type\+Def hdma\+\_\+spi1\+\_\+rx}



Definition at line \mbox{\hyperlink{Sensor__Code_2Body-Synthezier__Sensors_2Core_2Src_2main_8c_source_l00046}{46}} of file \mbox{\hyperlink{Sensor__Code_2Body-Synthezier__Sensors_2Core_2Src_2main_8c_source}{main.\+c}}.

\mbox{\Hypertarget{Sensor__Code_2Body-Synthezier__Sensors_2Core_2Src_2main_8c_ac8cdcfbb7adfcccc5717da58e1e10ae4}\label{Sensor__Code_2Body-Synthezier__Sensors_2Core_2Src_2main_8c_ac8cdcfbb7adfcccc5717da58e1e10ae4}} 
\index{main.c@{main.c}!hdma\_spi1\_tx@{hdma\_spi1\_tx}}
\index{hdma\_spi1\_tx@{hdma\_spi1\_tx}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{hdma\_spi1\_tx}{hdma\_spi1\_tx}}
{\footnotesize\ttfamily DMA\+\_\+\+Handle\+Type\+Def hdma\+\_\+spi1\+\_\+tx}



Definition at line \mbox{\hyperlink{Sensor__Code_2Body-Synthezier__Sensors_2Core_2Src_2main_8c_source_l00047}{47}} of file \mbox{\hyperlink{Sensor__Code_2Body-Synthezier__Sensors_2Core_2Src_2main_8c_source}{main.\+c}}.

\mbox{\Hypertarget{Sensor__Code_2Body-Synthezier__Sensors_2Core_2Src_2main_8c_af7b2c26e44dadaaa798a5c3d82914ba7}\label{Sensor__Code_2Body-Synthezier__Sensors_2Core_2Src_2main_8c_af7b2c26e44dadaaa798a5c3d82914ba7}} 
\index{main.c@{main.c}!hi2c1@{hi2c1}}
\index{hi2c1@{hi2c1}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{hi2c1}{hi2c1}}
{\footnotesize\ttfamily I2\+C\+\_\+\+Handle\+Type\+Def hi2c1}



Definition at line \mbox{\hyperlink{Sensor__Code_2Body-Synthezier__Sensors_2Core_2Src_2main_8c_source_l00043}{43}} of file \mbox{\hyperlink{Sensor__Code_2Body-Synthezier__Sensors_2Core_2Src_2main_8c_source}{main.\+c}}.

\mbox{\Hypertarget{Sensor__Code_2Body-Synthezier__Sensors_2Core_2Src_2main_8c_a9c6222bae4d0328dd843ae099623b40b}\label{Sensor__Code_2Body-Synthezier__Sensors_2Core_2Src_2main_8c_a9c6222bae4d0328dd843ae099623b40b}} 
\index{main.c@{main.c}!hspi1@{hspi1}}
\index{hspi1@{hspi1}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{hspi1}{hspi1}}
{\footnotesize\ttfamily SPI\+\_\+\+Handle\+Type\+Def hspi1}



Definition at line \mbox{\hyperlink{Sensor__Code_2Body-Synthezier__Sensors_2Core_2Src_2main_8c_source_l00045}{45}} of file \mbox{\hyperlink{Sensor__Code_2Body-Synthezier__Sensors_2Core_2Src_2main_8c_source}{main.\+c}}.

\mbox{\Hypertarget{Sensor__Code_2Body-Synthezier__Sensors_2Core_2Src_2main_8c_aa9479c261d65eecedd3d9582f7f0f89c}\label{Sensor__Code_2Body-Synthezier__Sensors_2Core_2Src_2main_8c_aa9479c261d65eecedd3d9582f7f0f89c}} 
\index{main.c@{main.c}!huart2@{huart2}}
\index{huart2@{huart2}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{huart2}{huart2}}
{\footnotesize\ttfamily UART\+\_\+\+Handle\+Type\+Def huart2}



Definition at line \mbox{\hyperlink{Sensor__Code_2Body-Synthezier__Sensors_2Core_2Src_2main_8c_source_l00049}{49}} of file \mbox{\hyperlink{Sensor__Code_2Body-Synthezier__Sensors_2Core_2Src_2main_8c_source}{main.\+c}}.

