<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>The Body-Synthesizer: Display Pages</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">The Body-Synthesizer<span id="projectnumber">&#160;1</span>
   </div>
   <div id="projectbrief">Portable Synthesizer, enabling usage of guestures and muscle movements as sound controllers</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('group__DisplayPage.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Display Pages<div class="ingroups"><a class="el" href="group__Display.html">Display</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Functions containing the display pages.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga7b8ca052b8ac8db5ac68f7cbe53ae494"><td class="memItemLeft" align="right" valign="top">Display_Status&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__DisplayPage.html#ga7b8ca052b8ac8db5ac68f7cbe53ae494">p_StartingMenu</a> (unsigned char *frame_buffer)</td></tr>
<tr class="memdesc:ga7b8ca052b8ac8db5ac68f7cbe53ae494"><td class="mdescLeft">&#160;</td><td class="mdescRight">this function prints the start menu  <a href="group__DisplayPage.html#ga7b8ca052b8ac8db5ac68f7cbe53ae494">More...</a><br /></td></tr>
<tr class="separator:ga7b8ca052b8ac8db5ac68f7cbe53ae494"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga349ac6f6068d46a199b473139123f0be"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__DisplayPage.html#ga349ac6f6068d46a199b473139123f0be">p_Voices_overview</a> (void)</td></tr>
<tr class="memdesc:ga349ac6f6068d46a199b473139123f0be"><td class="mdescLeft">&#160;</td><td class="mdescRight">GUI-site function, all functions with the beginning p_ represent a site of the GUI menu.  <a href="group__DisplayPage.html#ga349ac6f6068d46a199b473139123f0be">More...</a><br /></td></tr>
<tr class="separator:ga349ac6f6068d46a199b473139123f0be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga43359da16507588edd1fe90f3ced9222"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__DisplayPage.html#ga43359da16507588edd1fe90f3ced9222">p_Voices_Settings</a> (void)</td></tr>
<tr class="memdesc:ga43359da16507588edd1fe90f3ced9222"><td class="mdescLeft">&#160;</td><td class="mdescRight">GUI-site function, all functions with the beginning p_ represent a site of the GUI menu.  <a href="group__DisplayPage.html#ga43359da16507588edd1fe90f3ced9222">More...</a><br /></td></tr>
<tr class="separator:ga43359da16507588edd1fe90f3ced9222"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9c50283b04038fadbf006a1a7ecf27c8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__DisplayPage.html#ga9c50283b04038fadbf006a1a7ecf27c8">p_ADSR_overview</a> (void)</td></tr>
<tr class="memdesc:ga9c50283b04038fadbf006a1a7ecf27c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">this function edits the settings of the ADSR, just the sources have can be edited on another page or you can switch to the next effect  <a href="group__DisplayPage.html#ga9c50283b04038fadbf006a1a7ecf27c8">More...</a><br /></td></tr>
<tr class="separator:ga9c50283b04038fadbf006a1a7ecf27c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga59adc18e5d5ce7fc2cfa665772b52302"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__DisplayPage.html#ga59adc18e5d5ce7fc2cfa665772b52302">p_ADSR_Settings</a> (void)</td></tr>
<tr class="memdesc:ga59adc18e5d5ce7fc2cfa665772b52302"><td class="mdescLeft">&#160;</td><td class="mdescRight">this function edits the sources of the ADSR parameters  <a href="group__DisplayPage.html#ga59adc18e5d5ce7fc2cfa665772b52302">More...</a><br /></td></tr>
<tr class="separator:ga59adc18e5d5ce7fc2cfa665772b52302"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga98cc1f263ddc00ac8fbf80266616ce1c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__DisplayPage.html#ga98cc1f263ddc00ac8fbf80266616ce1c">p_Equalizer_overview</a> (void)</td></tr>
<tr class="memdesc:ga98cc1f263ddc00ac8fbf80266616ce1c"><td class="mdescLeft">&#160;</td><td class="mdescRight">this function edits the ON/OFF settings of the Equalizer, the parameters and sources have to be edited on another page or you can switch to the next effect  <a href="group__DisplayPage.html#ga98cc1f263ddc00ac8fbf80266616ce1c">More...</a><br /></td></tr>
<tr class="separator:ga98cc1f263ddc00ac8fbf80266616ce1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7b732b0224608d1d160f657ee80e3b6e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__DisplayPage.html#ga7b732b0224608d1d160f657ee80e3b6e">p_Equalizer_Settings</a> (void)</td></tr>
<tr class="memdesc:ga7b732b0224608d1d160f657ee80e3b6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">this function prints the Equalizer submenu and edits its values  <a href="group__DisplayPage.html#ga7b732b0224608d1d160f657ee80e3b6e">More...</a><br /></td></tr>
<tr class="separator:ga7b732b0224608d1d160f657ee80e3b6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf744a311b39e043299b23b94ce5b0f7c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__DisplayPage.html#gaf744a311b39e043299b23b94ce5b0f7c">p_WahWah_overview</a> (void)</td></tr>
<tr class="memdesc:gaf744a311b39e043299b23b94ce5b0f7c"><td class="mdescLeft">&#160;</td><td class="mdescRight">GUI-site function, all functions with the beginning p_ represent a site of the GUI menu.  <a href="group__DisplayPage.html#gaf744a311b39e043299b23b94ce5b0f7c">More...</a><br /></td></tr>
<tr class="separator:gaf744a311b39e043299b23b94ce5b0f7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7a0c5167cd2dd7640095ed836806993a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__DisplayPage.html#ga7a0c5167cd2dd7640095ed836806993a">p_WahWah_Settings</a> (struct <a class="el" href="structWahWah__t.html">WahWah_t</a> *WahWah)</td></tr>
<tr class="memdesc:ga7a0c5167cd2dd7640095ed836806993a"><td class="mdescLeft">&#160;</td><td class="mdescRight">GUI-site function, all functions with the beginning p_ represent a site of the GUI menu.  <a href="group__DisplayPage.html#ga7a0c5167cd2dd7640095ed836806993a">More...</a><br /></td></tr>
<tr class="separator:ga7a0c5167cd2dd7640095ed836806993a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1165fc18d03b690c887a8e8de4286a53"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__DisplayPage.html#ga1165fc18d03b690c887a8e8de4286a53">p_Distortion</a> (struct <a class="el" href="structeffects__distortion.html">effects_distortion</a> *HardClipping)</td></tr>
<tr class="memdesc:ga1165fc18d03b690c887a8e8de4286a53"><td class="mdescLeft">&#160;</td><td class="mdescRight">this function prints the Distortion submenu and edits its values  <a href="group__DisplayPage.html#ga1165fc18d03b690c887a8e8de4286a53">More...</a><br /></td></tr>
<tr class="separator:ga1165fc18d03b690c887a8e8de4286a53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga89b9c4137cc59fe857a1a6cdcaffc0a9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__DisplayPage.html#ga89b9c4137cc59fe857a1a6cdcaffc0a9">p_Tremolo</a> (struct <a class="el" href="structTremolo__t.html">Tremolo_t</a> *Tremolo)</td></tr>
<tr class="memdesc:ga89b9c4137cc59fe857a1a6cdcaffc0a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">GUI-site function, all functions with the beginning p_ represent a site of the GUI menu.  <a href="group__DisplayPage.html#ga89b9c4137cc59fe857a1a6cdcaffc0a9">More...</a><br /></td></tr>
<tr class="separator:ga89b9c4137cc59fe857a1a6cdcaffc0a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae9490b1e7da6a8a226cf5065174d5ae3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__DisplayPage.html#gae9490b1e7da6a8a226cf5065174d5ae3">p_EMG</a> (void)</td></tr>
<tr class="memdesc:gae9490b1e7da6a8a226cf5065174d5ae3"><td class="mdescLeft">&#160;</td><td class="mdescRight">GUI-site function, all functions with the beginning p_ represent a site of the GUI menu.  <a href="group__DisplayPage.html#gae9490b1e7da6a8a226cf5065174d5ae3">More...</a><br /></td></tr>
<tr class="separator:gae9490b1e7da6a8a226cf5065174d5ae3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3123aab8377a46e24d0b13a17c68aa19"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__DisplayPage.html#ga3123aab8377a46e24d0b13a17c68aa19">p_KeyAndMode</a> (void)</td></tr>
<tr class="memdesc:ga3123aab8377a46e24d0b13a17c68aa19"><td class="mdescLeft">&#160;</td><td class="mdescRight">GUI-site function, all functions with the beginning p_ represent a site of the GUI menu.  <a href="group__DisplayPage.html#ga3123aab8377a46e24d0b13a17c68aa19">More...</a><br /></td></tr>
<tr class="separator:ga3123aab8377a46e24d0b13a17c68aa19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadf582a2e8ef7f900542820189b94f22d"><td class="memItemLeft" align="right" valign="top">Display_Status&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__DisplayPage.html#gadf582a2e8ef7f900542820189b94f22d">Display_LoadSingleSample</a> (uint8_t SampleNUM, uint8_t KitNUM)</td></tr>
<tr class="memdesc:gadf582a2e8ef7f900542820189b94f22d"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function loads the single sample, which is e.g. triggered by the emg-sensor from the sd card.  <a href="group__DisplayPage.html#gadf582a2e8ef7f900542820189b94f22d">More...</a><br /></td></tr>
<tr class="separator:gadf582a2e8ef7f900542820189b94f22d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa562906df4ccbd2259ec2436685c418f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__DisplayPage.html#gaa562906df4ccbd2259ec2436685c418f">p_Volume</a> (void)</td></tr>
<tr class="memdesc:gaa562906df4ccbd2259ec2436685c418f"><td class="mdescLeft">&#160;</td><td class="mdescRight">GUI-site function, all functions with the beginning p_ represent a site of the GUI menu.  <a href="group__DisplayPage.html#gaa562906df4ccbd2259ec2436685c418f">More...</a><br /></td></tr>
<tr class="separator:gaa562906df4ccbd2259ec2436685c418f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga84ad5e4c5b1f9dca651caf624ed02d91"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__DisplayPage.html#ga84ad5e4c5b1f9dca651caf624ed02d91">Full_Reset</a> (void)</td></tr>
<tr class="memdesc:ga84ad5e4c5b1f9dca651caf624ed02d91"><td class="mdescLeft">&#160;</td><td class="mdescRight">Makes a full reset of all efffects paramter to the default values.  <a href="group__DisplayPage.html#ga84ad5e4c5b1f9dca651caf624ed02d91">More...</a><br /></td></tr>
<tr class="separator:ga84ad5e4c5b1f9dca651caf624ed02d91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabd2a92e2609f00be1f6dd91508ac20d8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__DisplayPage.html#gabd2a92e2609f00be1f6dd91508ac20d8">p_Presets</a> (void)</td></tr>
<tr class="memdesc:gabd2a92e2609f00be1f6dd91508ac20d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">GUI-site function, all functions with the beginning p_ represent a site of the GUI menu.  <a href="group__DisplayPage.html#gabd2a92e2609f00be1f6dd91508ac20d8">More...</a><br /></td></tr>
<tr class="separator:gabd2a92e2609f00be1f6dd91508ac20d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae23937cde028cc1e90910692e6a2c6a4"><td class="memItemLeft" align="right" valign="top">Display_Status&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__DisplayPage.html#gae23937cde028cc1e90910692e6a2c6a4">p_Drumcomputer_overview</a> (void)</td></tr>
<tr class="memdesc:gae23937cde028cc1e90910692e6a2c6a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">GUI-site function, all functions with the beginning p_ represent a site of the GUI menu.  <a href="group__DisplayPage.html#gae23937cde028cc1e90910692e6a2c6a4">More...</a><br /></td></tr>
<tr class="separator:gae23937cde028cc1e90910692e6a2c6a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf9d7f7add0e2f3d4bc2d56c1b4803d97"><td class="memItemLeft" align="right" valign="top">Display_Status&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__DisplayPage.html#gaf9d7f7add0e2f3d4bc2d56c1b4803d97">p_Drumcomputer_Settings</a> (void)</td></tr>
<tr class="memdesc:gaf9d7f7add0e2f3d4bc2d56c1b4803d97"><td class="mdescLeft">&#160;</td><td class="mdescRight">GUI-site function, all functions with the beginning p_ represent a site of the GUI menu.  <a href="group__DisplayPage.html#gaf9d7f7add0e2f3d4bc2d56c1b4803d97">More...</a><br /></td></tr>
<tr class="separator:gaf9d7f7add0e2f3d4bc2d56c1b4803d97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8c0c367ef7802a6af877619b174d12ec"><td class="memItemLeft" align="right" valign="top">Display_Status&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__DisplayPage.html#ga8c0c367ef7802a6af877619b174d12ec">p_Sequencer_overview</a> (void)</td></tr>
<tr class="memdesc:ga8c0c367ef7802a6af877619b174d12ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">GUI-site function, all functions with the beginning p_ represent a site of the GUI menu.  <a href="group__DisplayPage.html#ga8c0c367ef7802a6af877619b174d12ec">More...</a><br /></td></tr>
<tr class="separator:ga8c0c367ef7802a6af877619b174d12ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9eb195ca66d081452b9af0da2689dae2"><td class="memItemLeft" align="right" valign="top">Display_Status&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__DisplayPage.html#ga9eb195ca66d081452b9af0da2689dae2">p_Sequencer_Settings</a> (void)</td></tr>
<tr class="memdesc:ga9eb195ca66d081452b9af0da2689dae2"><td class="mdescLeft">&#160;</td><td class="mdescRight">GUI-site function, all functions with the beginning p_ represent a site of the GUI menu.  <a href="group__DisplayPage.html#ga9eb195ca66d081452b9af0da2689dae2">More...</a><br /></td></tr>
<tr class="separator:ga9eb195ca66d081452b9af0da2689dae2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p >Functions containing the display pages. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="gadf582a2e8ef7f900542820189b94f22d" name="gadf582a2e8ef7f900542820189b94f22d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadf582a2e8ef7f900542820189b94f22d">&#9670;&nbsp;</a></span>Display_LoadSingleSample()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Display_Status Display_LoadSingleSample </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>SampleNUM</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>KitNUM</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function loads the single sample, which is e.g. triggered by the emg-sensor from the sd card. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">SampleNUM</td><td>the number of the sample </td></tr>
    <tr><td class="paramname">KitNUM</td><td>the number of the drumkit </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Display_Status </dd></dl>

<p class="definition">Definition at line <a class="el" href="display_8c_source.html#l01259">1259</a> of file <a class="el" href="display_8c_source.html">display.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1259</span>                                                                           {</div>
<div class="line"><span class="lineno"> 1260</span> </div>
<div class="line"><span class="lineno"> 1261</span>    sd_card_mount();</div>
<div class="line"><span class="lineno"> 1262</span> </div>
<div class="line"><span class="lineno"> 1263</span>    <span class="comment">// Kit switch</span></div>
<div class="line"><span class="lineno"> 1264</span>    <span class="keywordflow">switch</span> (KitNUM){</div>
<div class="line"><span class="lineno"> 1265</span> </div>
<div class="line"><span class="lineno"> 1266</span>    <span class="keywordflow">case</span> 0:</div>
<div class="line"><span class="lineno"> 1267</span>        <span class="comment">// Sample switch</span></div>
<div class="line"><span class="lineno"> 1268</span>        <span class="keywordflow">switch</span> (SampleNUM){</div>
<div class="line"><span class="lineno"> 1269</span>        <span class="keywordflow">case</span> 0:</div>
<div class="line"><span class="lineno"> 1270</span>            sd_card_read(<span class="stringliteral">&quot;909_Kick.txt&quot;</span>, &amp;PSS);</div>
<div class="line"><span class="lineno"> 1271</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1272</span>        <span class="keywordflow">case</span> 1:</div>
<div class="line"><span class="lineno"> 1273</span>            sd_card_read(<span class="stringliteral">&quot;909_OpenHihat.txt&quot;</span>, &amp;PSS);</div>
<div class="line"><span class="lineno"> 1274</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1275</span>        <span class="keywordflow">case</span> 2:</div>
<div class="line"><span class="lineno"> 1276</span>            sd_card_read(<span class="stringliteral">&quot;909_Clap.txt&quot;</span>, &amp;PSS);</div>
<div class="line"><span class="lineno"> 1277</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1278</span>        <span class="keywordflow">case</span> 3:</div>
<div class="line"><span class="lineno"> 1279</span>            sd_card_read(<span class="stringliteral">&quot;909_LowTom.txt&quot;</span>, &amp;PSS);</div>
<div class="line"><span class="lineno"> 1280</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1281</span>        }</div>
<div class="line"><span class="lineno"> 1282</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1283</span> </div>
<div class="line"><span class="lineno"> 1284</span>        <span class="keywordflow">case</span> 1:</div>
<div class="line"><span class="lineno"> 1285</span>            <span class="comment">// Sample switch</span></div>
<div class="line"><span class="lineno"> 1286</span>            <span class="keywordflow">switch</span> (SampleNUM){</div>
<div class="line"><span class="lineno"> 1287</span>            <span class="keywordflow">case</span> 0:</div>
<div class="line"><span class="lineno"> 1288</span>                sd_card_read(<span class="stringliteral">&quot;Rock_loud_Kick.txt&quot;</span>, &amp;PSS);</div>
<div class="line"><span class="lineno"> 1289</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1290</span>            <span class="keywordflow">case</span> 1:</div>
<div class="line"><span class="lineno"> 1291</span>                sd_card_read(<span class="stringliteral">&quot;Rock_loud_Hihat.txt&quot;</span>, &amp;PSS);</div>
<div class="line"><span class="lineno"> 1292</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1293</span>            <span class="keywordflow">case</span> 2:</div>
<div class="line"><span class="lineno"> 1294</span>                sd_card_read(<span class="stringliteral">&quot;Rock_loud_Snare.txt&quot;</span>, &amp;PSS);</div>
<div class="line"><span class="lineno"> 1295</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1296</span>            <span class="keywordflow">case</span> 3:</div>
<div class="line"><span class="lineno"> 1297</span>                sd_card_read(<span class="stringliteral">&quot;Rock_loud_Ride.txt&quot;</span>, &amp;PSS);</div>
<div class="line"><span class="lineno"> 1298</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1299</span>            }</div>
<div class="line"><span class="lineno"> 1300</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1301</span> </div>
<div class="line"><span class="lineno"> 1302</span>            <span class="keywordflow">case</span> 2:</div>
<div class="line"><span class="lineno"> 1303</span>                <span class="comment">// Sample switch</span></div>
<div class="line"><span class="lineno"> 1304</span>                <span class="keywordflow">switch</span> (SampleNUM){</div>
<div class="line"><span class="lineno"> 1305</span>                <span class="keywordflow">case</span> 0:</div>
<div class="line"><span class="lineno"> 1306</span>                    sd_card_read(<span class="stringliteral">&quot;Rock_Kick.txt&quot;</span>, &amp;PSS);</div>
<div class="line"><span class="lineno"> 1307</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1308</span>                <span class="keywordflow">case</span> 1:</div>
<div class="line"><span class="lineno"> 1309</span>                    sd_card_read(<span class="stringliteral">&quot;Rock_Hihat.txt&quot;</span>, &amp;PSS);</div>
<div class="line"><span class="lineno"> 1310</span> </div>
<div class="line"><span class="lineno"> 1311</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1312</span>                <span class="keywordflow">case</span> 2:</div>
<div class="line"><span class="lineno"> 1313</span>                    sd_card_read(<span class="stringliteral">&quot;Rock_Snare.txt&quot;</span>, &amp;PSS);</div>
<div class="line"><span class="lineno"> 1314</span> </div>
<div class="line"><span class="lineno"> 1315</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1316</span>                <span class="keywordflow">case</span> 3:</div>
<div class="line"><span class="lineno"> 1317</span>                    sd_card_read(<span class="stringliteral">&quot;Rock_Ride.txt&quot;</span>, &amp;PSS);</div>
<div class="line"><span class="lineno"> 1318</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1319</span>                }</div>
<div class="line"><span class="lineno"> 1320</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1321</span> </div>
<div class="line"><span class="lineno"> 1322</span>                <span class="keywordflow">case</span> 3:</div>
<div class="line"><span class="lineno"> 1323</span>                    <span class="comment">// Sample switch</span></div>
<div class="line"><span class="lineno"> 1324</span>                    <span class="keywordflow">switch</span> (SampleNUM){</div>
<div class="line"><span class="lineno"> 1325</span>                    <span class="keywordflow">case</span> 0:</div>
<div class="line"><span class="lineno"> 1326</span>                        sd_card_read(<span class="stringliteral">&quot;Windows_Chord.txt&quot;</span>, &amp;PSS);</div>
<div class="line"><span class="lineno"> 1327</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1328</span>                    <span class="keywordflow">case</span> 1:</div>
<div class="line"><span class="lineno"> 1329</span>                        sd_card_read(<span class="stringliteral">&quot;Windows_Recycle.txt&quot;</span>, &amp;PSS);</div>
<div class="line"><span class="lineno"> 1330</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1331</span>                    <span class="keywordflow">case</span> 2:</div>
<div class="line"><span class="lineno"> 1332</span>                        sd_card_read(<span class="stringliteral">&quot;Windows_Hardware_Remove.txt&quot;</span>, &amp;PSS);</div>
<div class="line"><span class="lineno"> 1333</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1334</span>                    <span class="keywordflow">case</span> 3:</div>
<div class="line"><span class="lineno"> 1335</span>                        sd_card_read(<span class="stringliteral">&quot;Windows_Background.txt&quot;</span>, &amp;PSS);</div>
<div class="line"><span class="lineno"> 1336</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1337</span>                    }</div>
<div class="line"><span class="lineno"> 1338</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1339</span>    }</div>
<div class="line"><span class="lineno"> 1340</span> </div>
<div class="line"><span class="lineno"> 1341</span>    sd_card_unmount();</div>
<div class="line"><span class="lineno"> 1342</span> </div>
<div class="line"><span class="lineno"> 1343</span>    <span class="keywordflow">return</span> DISPLAY_OK;</div>
<div class="line"><span class="lineno"> 1344</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ga84ad5e4c5b1f9dca651caf624ed02d91" name="ga84ad5e4c5b1f9dca651caf624ed02d91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga84ad5e4c5b1f9dca651caf624ed02d91">&#9670;&nbsp;</a></span>Full_Reset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Full_Reset </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Makes a full reset of all efffects paramter to the default values. </p>

<p class="definition">Definition at line <a class="el" href="display_8c_source.html#l04678">4678</a> of file <a class="el" href="display_8c_source.html">display.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4678</span>                      {</div>
<div class="line"><span class="lineno"> 4679</span> </div>
<div class="line"><span class="lineno"> 4680</span>    <span class="keywordflow">for</span>(uint8_t i=0; i&lt;3; i++)</div>
<div class="line"><span class="lineno"> 4681</span>        <a class="code hl_variable" href="group__SSynth.html#ga0c06ec02b1329cdb21df9311f9bc3712">volume</a>[i] = 1;</div>
<div class="line"><span class="lineno"> 4682</span>    <a class="code hl_function" href="group__DrumComputer.html#ga0945a49b026be615b8a70c8ec885ac08">Drum_Computer_Reset</a>();</div>
<div class="line"><span class="lineno"> 4683</span>    <a class="code hl_function" href="group__Sequencer.html#gaf1fa77afa44aa624f611ecb1bcb9117e">Sequencer_Reset</a>();</div>
<div class="line"><span class="lineno"> 4684</span>    <a class="code hl_function" href="group__SSynth.html#gaf4829c3aeeaf3dbcda0b5266e2834898">Voices_Reset</a>();</div>
<div class="line"><span class="lineno"> 4685</span>    <span class="keywordflow">for</span>(uint8_t i=0; i&lt;MAX_SIMULTANEOUS_KEYBOARD_NOTES; i++)</div>
<div class="line"><span class="lineno"> 4686</span>        <a class="code hl_function" href="group__ADSR.html#gab059a1f2cde16bed41f0f4e0f113a5d9">ADSR_Reset</a>(&amp;<a class="code hl_variable" href="group__ADSR.html#ga742e13f70ae8c573509abfd794271f44">adsr_keyboard</a>[i]);</div>
<div class="line"><span class="lineno"> 4687</span>    <a class="code hl_function" href="group__Filters.html#gab23086039f9e38c9538b24412c2e397d">Equalizer_Reset</a>();</div>
<div class="line"><span class="lineno"> 4688</span>    <a class="code hl_function" href="group__wahwah.html#ga9b91a7fae64755689936b60cf1820535">WahWah_Reset</a>(&amp;WahWah);</div>
<div class="line"><span class="lineno"> 4689</span>    <a class="code hl_function" href="group__Distortion.html#gac69b82a1179f795d9205a246de59a37a">Distortion_Reset</a>();</div>
<div class="line"><span class="lineno"> 4690</span>    <a class="code hl_function" href="group__tremolo.html#ga7ec31bc72214199a5efdbe88b3a3f8b8">Tremolo_Reset</a>();</div>
<div class="line"><span class="lineno"> 4691</span>}</div>
<div class="ttc" id="agroup__ADSR_html_ga742e13f70ae8c573509abfd794271f44"><div class="ttname"><a href="group__ADSR.html#ga742e13f70ae8c573509abfd794271f44">adsr_keyboard</a></div><div class="ttdeci">struct adsr adsr_keyboard[5]</div><div class="ttdoc">ADSR storage for the keyboard.</div><div class="ttdef"><b>Definition:</b> <a href="adsr_8h_source.html#l00082">adsr.h:82</a></div></div>
<div class="ttc" id="agroup__ADSR_html_gab059a1f2cde16bed41f0f4e0f113a5d9"><div class="ttname"><a href="group__ADSR.html#gab059a1f2cde16bed41f0f4e0f113a5d9">ADSR_Reset</a></div><div class="ttdeci">ADSR_Status ADSR_Reset(struct adsr *envelope)</div><div class="ttdoc">Reset function for the ADSR.</div><div class="ttdef"><b>Definition:</b> <a href="adsr_8c_source.html#l00060">adsr.c:60</a></div></div>
<div class="ttc" id="agroup__Distortion_html_gac69b82a1179f795d9205a246de59a37a"><div class="ttname"><a href="group__Distortion.html#gac69b82a1179f795d9205a246de59a37a">Distortion_Reset</a></div><div class="ttdeci">Distortion_Status Distortion_Reset(void)</div><div class="ttdoc">This function resets the distortion variables to its initial state.</div><div class="ttdef"><b>Definition:</b> <a href="distortion_8c_source.html#l00033">distortion.c:33</a></div></div>
<div class="ttc" id="agroup__DrumComputer_html_ga0945a49b026be615b8a70c8ec885ac08"><div class="ttname"><a href="group__DrumComputer.html#ga0945a49b026be615b8a70c8ec885ac08">Drum_Computer_Reset</a></div><div class="ttdeci">HAL_StatusTypeDef Drum_Computer_Reset(void)</div><div class="ttdoc">This function resets the drumcomputer to its initial state.</div><div class="ttdef"><b>Definition:</b> <a href="drum__computer_8c_source.html#l00198">drum_computer.c:198</a></div></div>
<div class="ttc" id="agroup__Filters_html_gab23086039f9e38c9538b24412c2e397d"><div class="ttname"><a href="group__Filters.html#gab23086039f9e38c9538b24412c2e397d">Equalizer_Reset</a></div><div class="ttdeci">Filter_Status Equalizer_Reset(void)</div><div class="ttdoc">This function resets the equalizer parameters to its initial states.</div><div class="ttdef"><b>Definition:</b> <a href="filters_8c_source.html#l00265">filters.c:265</a></div></div>
<div class="ttc" id="agroup__SSynth_html_ga0c06ec02b1329cdb21df9311f9bc3712"><div class="ttname"><a href="group__SSynth.html#ga0c06ec02b1329cdb21df9311f9bc3712">volume</a></div><div class="ttdeci">float volume[4]</div><div class="ttdef"><b>Definition:</b> <a href="signal__synthesis_8h_source.html#l00117">signal_synthesis.h:117</a></div></div>
<div class="ttc" id="agroup__SSynth_html_gaf4829c3aeeaf3dbcda0b5266e2834898"><div class="ttname"><a href="group__SSynth.html#gaf4829c3aeeaf3dbcda0b5266e2834898">Voices_Reset</a></div><div class="ttdeci">HAL_StatusTypeDef Voices_Reset(void)</div><div class="ttdoc">resets the voice parameter which can be changed in the GUI</div><div class="ttdef"><b>Definition:</b> <a href="signal__synthesis_8c_source.html#l00058">signal_synthesis.c:58</a></div></div>
<div class="ttc" id="agroup__Sequencer_html_gaf1fa77afa44aa624f611ecb1bcb9117e"><div class="ttname"><a href="group__Sequencer.html#gaf1fa77afa44aa624f611ecb1bcb9117e">Sequencer_Reset</a></div><div class="ttdeci">HAL_StatusTypeDef Sequencer_Reset(void)</div><div class="ttdoc">This function resets the sequencer to its initial state.</div><div class="ttdef"><b>Definition:</b> <a href="drum__computer_8c_source.html#l00261">drum_computer.c:261</a></div></div>
<div class="ttc" id="agroup__tremolo_html_ga7ec31bc72214199a5efdbe88b3a3f8b8"><div class="ttname"><a href="group__tremolo.html#ga7ec31bc72214199a5efdbe88b3a3f8b8">Tremolo_Reset</a></div><div class="ttdeci">Tremolo_Status Tremolo_Reset(void)</div><div class="ttdoc">resets all tremelo parameters</div><div class="ttdef"><b>Definition:</b> <a href="tremolo_8c_source.html#l00045">tremolo.c:45</a></div></div>
<div class="ttc" id="agroup__wahwah_html_ga9b91a7fae64755689936b60cf1820535"><div class="ttname"><a href="group__wahwah.html#ga9b91a7fae64755689936b60cf1820535">WahWah_Reset</a></div><div class="ttdeci">WahWah_Status WahWah_Reset(struct WahWah_t *WahWah)</div><div class="ttdoc">resets all wahwah parameters</div><div class="ttdef"><b>Definition:</b> <a href="wahwah_8c_source.html#l00055">wahwah.c:55</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga9c50283b04038fadbf006a1a7ecf27c8" name="ga9c50283b04038fadbf006a1a7ecf27c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9c50283b04038fadbf006a1a7ecf27c8">&#9670;&nbsp;</a></span>p_ADSR_overview()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void p_ADSR_overview </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>this function edits the settings of the ADSR, just the sources have can be edited on another page or you can switch to the next effect </p>

<p class="definition">Definition at line <a class="el" href="display_8c_source.html#l03307">3307</a> of file <a class="el" href="display_8c_source.html">display.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3307</span>                           {</div>
<div class="line"><span class="lineno"> 3308</span> </div>
<div class="line"><span class="lineno"> 3309</span>    <span class="comment">// Header line</span></div>
<div class="line"><span class="lineno"> 3310</span>    <span class="keywordtype">char</span> headerstring[] = <span class="stringliteral">&quot;KEYBOARD ADSR&quot;</span>;</div>
<div class="line"><span class="lineno"> 3311</span>    Paint_DrawStringAt(&amp;paint, 1, CASE0, headerstring, &amp;Font16, COLORED);</div>
<div class="line"><span class="lineno"> 3312</span> </div>
<div class="line"><span class="lineno"> 3313</span>    <span class="keywordtype">char</span> str_1[] = <span class="stringliteral">&quot;Next effect&quot;</span>;</div>
<div class="line"><span class="lineno"> 3314</span>    <span class="keywordtype">char</span> str_2[] = <span class="stringliteral">&quot;Attack Time&quot;</span>;</div>
<div class="line"><span class="lineno"> 3315</span>    <span class="keywordtype">char</span> str_3[] = <span class="stringliteral">&quot;Decay Time&quot;</span>;</div>
<div class="line"><span class="lineno"> 3316</span>    <span class="keywordtype">char</span> str_4[] = <span class="stringliteral">&quot;Sustain Time&quot;</span>;</div>
<div class="line"><span class="lineno"> 3317</span>    <span class="keywordtype">char</span> str_5[] = <span class="stringliteral">&quot;Sustain Level&quot;</span>;</div>
<div class="line"><span class="lineno"> 3318</span>    <span class="keywordtype">char</span> str_6[] = <span class="stringliteral">&quot;Release Time&quot;</span>;</div>
<div class="line"><span class="lineno"> 3319</span>    <span class="keywordtype">char</span> str_7[] = <span class="stringliteral">&quot;Keyboard FX ON/OFF&quot;</span>;</div>
<div class="line"><span class="lineno"> 3320</span>    <span class="keywordtype">char</span> str_8[] = <span class="stringliteral">&quot;ADSR Reset&quot;</span>;</div>
<div class="line"><span class="lineno"> 3321</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE1, str_1, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 3322</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE2, str_2, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 3323</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE3, str_3, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 3324</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE4, str_4, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 3325</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE5, str_5, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 3326</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE6, str_6, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 3327</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE7, str_7, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 3328</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE8, str_8, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 3329</span> </div>
<div class="line"><span class="lineno"> 3330</span>    <span class="comment">// As big as the number of parameters</span></div>
<div class="line"><span class="lineno"> 3331</span>    Display.max_parameter = 8;</div>
<div class="line"><span class="lineno"> 3332</span> </div>
<div class="line"><span class="lineno"> 3333</span>    <span class="keywordflow">switch</span>(Display.JoystickParameterPosition) {</div>
<div class="line"><span class="lineno"> 3334</span>    <span class="keywordflow">case</span> 1:</div>
<div class="line"><span class="lineno"> 3335</span>        <span class="comment">// Next Effect</span></div>
<div class="line"><span class="lineno"> 3336</span>        Display.currentADSR = 0;</div>
<div class="line"><span class="lineno"> 3337</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3338</span>    <span class="keywordflow">case</span> 2:</div>
<div class="line"><span class="lineno"> 3339</span>        <span class="comment">// Attack Time</span></div>
<div class="line"><span class="lineno"> 3340</span>        Display.currentADSR = 1;</div>
<div class="line"><span class="lineno"> 3341</span> </div>
<div class="line"><span class="lineno"> 3342</span>        <span class="keywordflow">if</span>(Display.poti_moved == <span class="keyword">true</span>) {</div>
<div class="line"><span class="lineno"> 3343</span> </div>
<div class="line"><span class="lineno"> 3344</span>            Display.ADSR_Attacktime = (((float)Display.ADC2inputs[2]/Display.ADC_FullRange) * <a class="code hl_variable" href="group__ADSR.html#ga742e13f70ae8c573509abfd794271f44">adsr_keyboard</a>[0].adsr_maximum_attack);</div>
<div class="line"><span class="lineno"> 3345</span> </div>
<div class="line"><span class="lineno"> 3346</span>            <span class="comment">// 0.05 to prevent 0 -&gt; fuckup</span></div>
<div class="line"><span class="lineno"> 3347</span>            <span class="keywordflow">if</span>(Display.ADSR_Attacktime &lt; 0.05)</div>
<div class="line"><span class="lineno"> 3348</span>                Display.ADSR_Attacktime = 0.05;</div>
<div class="line"><span class="lineno"> 3349</span> </div>
<div class="line"><span class="lineno"> 3350</span>            <span class="keywordflow">for</span>(uint8_t i=0; i&lt;MAX_SIMULTANEOUS_KEYBOARD_NOTES; i++)</div>
<div class="line"><span class="lineno"> 3351</span>                <a class="code hl_variable" href="group__ADSR.html#ga742e13f70ae8c573509abfd794271f44">adsr_keyboard</a>[i].adsr_attack_time = Display.ADSR_Attacktime * LUT_SR;</div>
<div class="line"><span class="lineno"> 3352</span>        }</div>
<div class="line"><span class="lineno"> 3353</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3354</span>    <span class="keywordflow">case</span> 3:</div>
<div class="line"><span class="lineno"> 3355</span>        <span class="comment">// Decay Time</span></div>
<div class="line"><span class="lineno"> 3356</span>        Display.currentADSR = 2;</div>
<div class="line"><span class="lineno"> 3357</span> </div>
<div class="line"><span class="lineno"> 3358</span>        <span class="keywordflow">if</span>(Display.poti_moved == <span class="keyword">true</span>) {</div>
<div class="line"><span class="lineno"> 3359</span> </div>
<div class="line"><span class="lineno"> 3360</span>            Display.ADSR_Decaytime = (((float)Display.ADC2inputs[2]/Display.ADC_FullRange) * <a class="code hl_variable" href="group__ADSR.html#ga742e13f70ae8c573509abfd794271f44">adsr_keyboard</a>[0].adsr_maximum_decay);</div>
<div class="line"><span class="lineno"> 3361</span> </div>
<div class="line"><span class="lineno"> 3362</span>            <span class="keywordflow">for</span>(uint8_t i=0; i&lt;MAX_SIMULTANEOUS_KEYBOARD_NOTES; i++)</div>
<div class="line"><span class="lineno"> 3363</span>                <a class="code hl_variable" href="group__ADSR.html#ga742e13f70ae8c573509abfd794271f44">adsr_keyboard</a>[i].adsr_decay_time = Display.ADSR_Decaytime * LUT_SR;</div>
<div class="line"><span class="lineno"> 3364</span>        }</div>
<div class="line"><span class="lineno"> 3365</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3366</span>    <span class="keywordflow">case</span> 4:</div>
<div class="line"><span class="lineno"> 3367</span>        <span class="comment">// Sustain Time</span></div>
<div class="line"><span class="lineno"> 3368</span>        Display.currentADSR = 3;</div>
<div class="line"><span class="lineno"> 3369</span> </div>
<div class="line"><span class="lineno"> 3370</span>        <span class="keywordflow">if</span>(Display.poti_moved == <span class="keyword">true</span>) {</div>
<div class="line"><span class="lineno"> 3371</span> </div>
<div class="line"><span class="lineno"> 3372</span>            Display.ADSR_Sustaintime = (((float)Display.ADC2inputs[2]/Display.ADC_FullRange) * <a class="code hl_variable" href="group__ADSR.html#ga742e13f70ae8c573509abfd794271f44">adsr_keyboard</a>[0].adsr_maximum_sustaintime);</div>
<div class="line"><span class="lineno"> 3373</span> </div>
<div class="line"><span class="lineno"> 3374</span>            <span class="keywordflow">for</span>(uint8_t i=0; i&lt;MAX_SIMULTANEOUS_KEYBOARD_NOTES; i++)</div>
<div class="line"><span class="lineno"> 3375</span>                <a class="code hl_variable" href="group__ADSR.html#ga742e13f70ae8c573509abfd794271f44">adsr_keyboard</a>[i].adsr_sustain_time = Display.ADSR_Sustaintime * LUT_SR;</div>
<div class="line"><span class="lineno"> 3376</span>        }</div>
<div class="line"><span class="lineno"> 3377</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3378</span>    <span class="keywordflow">case</span> 5:</div>
<div class="line"><span class="lineno"> 3379</span>        <span class="comment">// Sustain Level</span></div>
<div class="line"><span class="lineno"> 3380</span>        Display.currentADSR = 4;</div>
<div class="line"><span class="lineno"> 3381</span> </div>
<div class="line"><span class="lineno"> 3382</span>        <span class="keywordflow">if</span>(Display.poti_moved == <span class="keyword">true</span>) {</div>
<div class="line"><span class="lineno"> 3383</span> </div>
<div class="line"><span class="lineno"> 3384</span>            Display.ADSR_Sustainlevel = (((float)Display.ADC2inputs[2]/Display.ADC_FullRange) * <a class="code hl_variable" href="group__ADSR.html#ga742e13f70ae8c573509abfd794271f44">adsr_keyboard</a>[0].adsr_max_amp);</div>
<div class="line"><span class="lineno"> 3385</span> </div>
<div class="line"><span class="lineno"> 3386</span>            <span class="keywordflow">for</span>(uint8_t i=0; i&lt;MAX_SIMULTANEOUS_KEYBOARD_NOTES; i++)</div>
<div class="line"><span class="lineno"> 3387</span>                <a class="code hl_variable" href="group__ADSR.html#ga742e13f70ae8c573509abfd794271f44">adsr_keyboard</a>[i].adsr_sustain_amplitude = Display.ADSR_Sustainlevel;</div>
<div class="line"><span class="lineno"> 3388</span>        }</div>
<div class="line"><span class="lineno"> 3389</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3390</span>    <span class="keywordflow">case</span> 6:</div>
<div class="line"><span class="lineno"> 3391</span>        <span class="comment">// Release Time</span></div>
<div class="line"><span class="lineno"> 3392</span>        Display.currentADSR = 5;</div>
<div class="line"><span class="lineno"> 3393</span> </div>
<div class="line"><span class="lineno"> 3394</span>        <span class="keywordflow">if</span>(Display.poti_moved == <span class="keyword">true</span>) {</div>
<div class="line"><span class="lineno"> 3395</span> </div>
<div class="line"><span class="lineno"> 3396</span>            Display.ADSR_Releasetime = (((float)Display.ADC2inputs[2]/Display.ADC_FullRange) * <a class="code hl_variable" href="group__ADSR.html#ga742e13f70ae8c573509abfd794271f44">adsr_keyboard</a>[0].adsr_maximum_release);</div>
<div class="line"><span class="lineno"> 3397</span> </div>
<div class="line"><span class="lineno"> 3398</span>            <span class="keywordflow">for</span>(uint8_t i=0; i&lt;MAX_SIMULTANEOUS_KEYBOARD_NOTES; i++)</div>
<div class="line"><span class="lineno"> 3399</span>                <a class="code hl_variable" href="group__ADSR.html#ga742e13f70ae8c573509abfd794271f44">adsr_keyboard</a>[i].adsr_release_time = Display.ADSR_Releasetime * LUT_SR;</div>
<div class="line"><span class="lineno"> 3400</span>        }</div>
<div class="line"><span class="lineno"> 3401</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3402</span>    <span class="keywordflow">case</span> 7:</div>
<div class="line"><span class="lineno"> 3403</span>        <span class="comment">// Keyboard FX ON/OFF</span></div>
<div class="line"><span class="lineno"> 3404</span>        Display.currentADSR = 6;</div>
<div class="line"><span class="lineno"> 3405</span> </div>
<div class="line"><span class="lineno"> 3406</span>        <span class="keywordflow">if</span>(Display.poti_moved == <span class="keyword">true</span>) {</div>
<div class="line"><span class="lineno"> 3407</span>            <span class="keywordtype">float</span> potVal = (float)Display.ADC2inputs[2]/(<span class="keywordtype">float</span>)Display.ADC_FullRange * 100; <span class="comment">// Potentiometer Input in %</span></div>
<div class="line"><span class="lineno"> 3408</span> </div>
<div class="line"><span class="lineno"> 3409</span>            <span class="keywordflow">if</span>(potVal &lt; 50) {</div>
<div class="line"><span class="lineno"> 3410</span>                Display.KeyboardFX_ONOFF = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3411</span>                strcpy(Display.value_str_adsr_overview[5], <span class="stringliteral">&quot;OFF&quot;</span>);</div>
<div class="line"><span class="lineno"> 3412</span>            }</div>
<div class="line"><span class="lineno"> 3413</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span>(potVal &gt;= 50) {</div>
<div class="line"><span class="lineno"> 3414</span>                Display.KeyboardFX_ONOFF = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3415</span>                strcpy(Display.value_str_adsr_overview[5], <span class="stringliteral">&quot;ON&quot;</span>);</div>
<div class="line"><span class="lineno"> 3416</span>            }</div>
<div class="line"><span class="lineno"> 3417</span>        }</div>
<div class="line"><span class="lineno"> 3418</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3419</span>    <span class="keywordflow">case</span> 8:</div>
<div class="line"><span class="lineno"> 3420</span>        <span class="comment">// ADSR Reset</span></div>
<div class="line"><span class="lineno"> 3421</span>        Display.currentADSR = 7;</div>
<div class="line"><span class="lineno"> 3422</span> </div>
<div class="line"><span class="lineno"> 3423</span>        <span class="keywordflow">if</span>(Display.Reset == <span class="keyword">true</span>) {</div>
<div class="line"><span class="lineno"> 3424</span>            <span class="keywordflow">for</span>(uint8_t i=0; i&lt;MAX_SIMULTANEOUS_KEYBOARD_NOTES; i++){</div>
<div class="line"><span class="lineno"> 3425</span>                <a class="code hl_function" href="group__ADSR.html#gab059a1f2cde16bed41f0f4e0f113a5d9">ADSR_Reset</a>(&amp;<a class="code hl_variable" href="group__ADSR.html#ga742e13f70ae8c573509abfd794271f44">adsr_keyboard</a>[i]);</div>
<div class="line"><span class="lineno"> 3426</span>            }</div>
<div class="line"><span class="lineno"> 3427</span> </div>
<div class="line"><span class="lineno"> 3428</span>            Display.Reset = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3429</span>            strcpy(Display.value_str_adsr_overview[6], <span class="stringliteral">&quot;done&quot;</span>);</div>
<div class="line"><span class="lineno"> 3430</span>        }</div>
<div class="line"><span class="lineno"> 3431</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(Display.Reset == <span class="keyword">false</span>)</div>
<div class="line"><span class="lineno"> 3432</span>            strcpy(Display.value_str_adsr_overview[6], <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><span class="lineno"> 3433</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3434</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 3435</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3436</span>    }</div>
<div class="line"><span class="lineno"> 3437</span> </div>
<div class="line"><span class="lineno"> 3438</span>    Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position, CASE2, Display.value_end_x_position, CASE2+VALUE_ROW_LENGTH, UNCOLORED);</div>
<div class="line"><span class="lineno"> 3439</span>    Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position, CASE3, Display.value_end_x_position, CASE3+VALUE_ROW_LENGTH, UNCOLORED);</div>
<div class="line"><span class="lineno"> 3440</span>    Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position, CASE4, Display.value_end_x_position, CASE4+VALUE_ROW_LENGTH, UNCOLORED);</div>
<div class="line"><span class="lineno"> 3441</span>    Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position, CASE5, Display.value_end_x_position, CASE5+VALUE_ROW_LENGTH, UNCOLORED);</div>
<div class="line"><span class="lineno"> 3442</span>    Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position, CASE6, Display.value_end_x_position, CASE6+VALUE_ROW_LENGTH, UNCOLORED);</div>
<div class="line"><span class="lineno"> 3443</span>    Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position, CASE7, Display.value_end_x_position, CASE7+VALUE_ROW_LENGTH, UNCOLORED);</div>
<div class="line"><span class="lineno"> 3444</span>    Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position, CASE8, Display.value_end_x_position, CASE8+VALUE_ROW_LENGTH, UNCOLORED);</div>
<div class="line"><span class="lineno"> 3445</span>    sprintf(Display.value_str_adsr_overview[0], <span class="stringliteral">&quot;%.2f&quot;</span>, Display.ADSR_Attacktime);</div>
<div class="line"><span class="lineno"> 3446</span>    sprintf(Display.value_str_adsr_overview[1], <span class="stringliteral">&quot;%.2f&quot;</span>, Display.ADSR_Decaytime);</div>
<div class="line"><span class="lineno"> 3447</span>    sprintf(Display.value_str_adsr_overview[2], <span class="stringliteral">&quot;%.2f&quot;</span>, Display.ADSR_Sustaintime);</div>
<div class="line"><span class="lineno"> 3448</span>    sprintf(Display.value_str_adsr_overview[3], <span class="stringliteral">&quot;%.2f&quot;</span>, Display.ADSR_Sustainlevel);</div>
<div class="line"><span class="lineno"> 3449</span>    sprintf(Display.value_str_adsr_overview[4], <span class="stringliteral">&quot;%.2f&quot;</span>, Display.ADSR_Releasetime);</div>
<div class="line"><span class="lineno"> 3450</span>    <span class="comment">// Print value row</span></div>
<div class="line"><span class="lineno"> 3451</span>    Paint_DrawStringAt(&amp;paint, Display.value_start_x_position, CASE2, Display.value_str_adsr_overview[0], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 3452</span>    Paint_DrawStringAt(&amp;paint, Display.value_start_x_position, CASE3, Display.value_str_adsr_overview[1], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 3453</span>    Paint_DrawStringAt(&amp;paint, Display.value_start_x_position, CASE4, Display.value_str_adsr_overview[2], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 3454</span>    Paint_DrawStringAt(&amp;paint, Display.value_start_x_position, CASE5, Display.value_str_adsr_overview[3], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 3455</span>    Paint_DrawStringAt(&amp;paint, Display.value_start_x_position, CASE6, Display.value_str_adsr_overview[4], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 3456</span>    Paint_DrawStringAt(&amp;paint, Display.value_start_x_position, CASE7, Display.value_str_adsr_overview[5], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 3457</span>    Paint_DrawStringAt(&amp;paint, Display.value_start_x_position, CASE8, Display.value_str_adsr_overview[6], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 3458</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ga59adc18e5d5ce7fc2cfa665772b52302" name="ga59adc18e5d5ce7fc2cfa665772b52302"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga59adc18e5d5ce7fc2cfa665772b52302">&#9670;&nbsp;</a></span>p_ADSR_Settings()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void p_ADSR_Settings </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>this function edits the sources of the ADSR parameters </p>

<p class="definition">Definition at line <a class="el" href="display_8c_source.html#l03463">3463</a> of file <a class="el" href="display_8c_source.html">display.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3463</span>                           {</div>
<div class="line"><span class="lineno"> 3464</span> </div>
<div class="line"><span class="lineno"> 3465</span>    <span class="comment">// Header line</span></div>
<div class="line"><span class="lineno"> 3466</span>    <span class="keywordtype">char</span> headerstring[] = <span class="stringliteral">&quot;ADSR&quot;</span>;</div>
<div class="line"><span class="lineno"> 3467</span>    Paint_DrawStringAt(&amp;paint, 1, CASE0, headerstring, &amp;Font16, COLORED);</div>
<div class="line"><span class="lineno"> 3468</span> </div>
<div class="line"><span class="lineno"> 3469</span>    <span class="keywordtype">char</span> str_1[] = <span class="stringliteral">&quot;A. Time Source&quot;</span>;</div>
<div class="line"><span class="lineno"> 3470</span>    <span class="keywordtype">char</span> str_2[] = <span class="stringliteral">&quot;D. Time Source&quot;</span>;</div>
<div class="line"><span class="lineno"> 3471</span>    <span class="keywordtype">char</span> str_3[] = <span class="stringliteral">&quot;S. Time Source&quot;</span>;</div>
<div class="line"><span class="lineno"> 3472</span>    <span class="keywordtype">char</span> str_4[] = <span class="stringliteral">&quot;S. Level Source&quot;</span>;</div>
<div class="line"><span class="lineno"> 3473</span>    <span class="keywordtype">char</span> str_5[] = <span class="stringliteral">&quot;R. Time Source&quot;</span>;</div>
<div class="line"><span class="lineno"> 3474</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE1, str_1, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 3475</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE2, str_2, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 3476</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE3, str_3, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 3477</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE4, str_4, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 3478</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE5, str_5, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 3479</span> </div>
<div class="line"><span class="lineno"> 3480</span>    <span class="comment">// As big as the number of parameters</span></div>
<div class="line"><span class="lineno"> 3481</span>    Display.max_parameter = 5;</div>
<div class="line"><span class="lineno"> 3482</span> </div>
<div class="line"><span class="lineno"> 3483</span>    <span class="keywordflow">if</span>(Display.poti_moved == <span class="keyword">true</span>) {</div>
<div class="line"><span class="lineno"> 3484</span> </div>
<div class="line"><span class="lineno"> 3485</span>        <span class="keywordflow">switch</span>(Display.JoystickParameterPosition) {</div>
<div class="line"><span class="lineno"> 3486</span>        <span class="keywordflow">case</span> 1:</div>
<div class="line"><span class="lineno"> 3487</span>            <span class="comment">// Attack Time Source</span></div>
<div class="line"><span class="lineno"> 3488</span>            <span class="comment">//          //          Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position-30, CASE1, Display.value_end_x_position, CASE1+10, UNCOLORED);</span></div>
<div class="line"><span class="lineno"> 3489</span>            <span class="comment">//          mode_number = ((uint8_t)(((float)Display.ADC2inputs[2] / (float)Display.ADC_FullRange) * (NUMBER_OF_SOURCES-1)));</span></div>
<div class="line"><span class="lineno"> 3490</span>            <span class="comment">//          //          Display.ADSR_Sources[0] = ((uint8_t)(((float)Display.ADC2inputs[2] / (float)Display.ADC_FullRange) * (NUMBER_OF_SOURCES)));</span></div>
<div class="line"><span class="lineno"> 3491</span>            <span class="comment">//          Display.ADSR_Sources[0] = mode_number;</span></div>
<div class="line"><span class="lineno"> 3492</span>            <span class="comment">//          //          strcpy(Display.value_str_adsr_settings[0], Display.source_names[mode_number]);</span></div>
<div class="line"><span class="lineno"> 3493</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3494</span>        <span class="keywordflow">case</span> 2:</div>
<div class="line"><span class="lineno"> 3495</span>            <span class="comment">// Decay Time Source</span></div>
<div class="line"><span class="lineno"> 3496</span>            <span class="comment">//          //          Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position-30, CASE2, Display.value_end_x_position, CASE2+10, UNCOLORED);</span></div>
<div class="line"><span class="lineno"> 3497</span>            <span class="comment">//          mode_number = ((uint8_t)(((float)Display.ADC2inputs[2] / (float)Display.ADC_FullRange) * (NUMBER_OF_SOURCES-1)));</span></div>
<div class="line"><span class="lineno"> 3498</span>            <span class="comment">//          //          Display.ADSR_Sources[1] = ((uint8_t)(((float)Display.ADC2inputs[2] / (float)Display.ADC_FullRange) * (NUMBER_OF_SOURCES)));</span></div>
<div class="line"><span class="lineno"> 3499</span>            <span class="comment">//          Display.ADSR_Sources[1] = mode_number;</span></div>
<div class="line"><span class="lineno"> 3500</span>            <span class="comment">//          //          strcpy(Display.value_str_adsr_settings[1], Display.source_names[mode_number]);</span></div>
<div class="line"><span class="lineno"> 3501</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3502</span>        <span class="keywordflow">case</span> 3:</div>
<div class="line"><span class="lineno"> 3503</span>            <span class="comment">// Sustain Time Source</span></div>
<div class="line"><span class="lineno"> 3504</span>            <span class="comment">//          //          Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position-30, CASE3, Display.value_end_x_position, CASE3+10, UNCOLORED);</span></div>
<div class="line"><span class="lineno"> 3505</span>            <span class="comment">//          mode_number = ((uint8_t)(((float)Display.ADC2inputs[2] / (float)Display.ADC_FullRange) * (NUMBER_OF_SOURCES-1)));</span></div>
<div class="line"><span class="lineno"> 3506</span>            <span class="comment">//          //          Display.ADSR_Sources[2] = ((uint8_t)(((float)Display.ADC2inputs[2] / (float)Display.ADC_FullRange) * (NUMBER_OF_SOURCES)));</span></div>
<div class="line"><span class="lineno"> 3507</span>            <span class="comment">//          Display.ADSR_Sources[2] = mode_number;</span></div>
<div class="line"><span class="lineno"> 3508</span>            <span class="comment">//          //          strcpy(Display.value_str_adsr_settings[2], Display.source_names[mode_number]);</span></div>
<div class="line"><span class="lineno"> 3509</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3510</span> </div>
<div class="line"><span class="lineno"> 3511</span>        <span class="keywordflow">case</span> 4:</div>
<div class="line"><span class="lineno"> 3512</span>            <span class="comment">// Sustain Level Source</span></div>
<div class="line"><span class="lineno"> 3513</span>            <span class="comment">//          //          Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position-30, CASE4, Display.value_end_x_position, CASE4+10, UNCOLORED);</span></div>
<div class="line"><span class="lineno"> 3514</span>            <span class="comment">//          mode_number = ((uint8_t)(((float)Display.ADC2inputs[2] / (float)Display.ADC_FullRange) * (NUMBER_OF_SOURCES-1)));</span></div>
<div class="line"><span class="lineno"> 3515</span>            <span class="comment">//          //          Display.ADSR_Sources[3] = ((uint8_t)(((float)Display.ADC2inputs[2] / (float)Display.ADC_FullRange) * (NUMBER_OF_SOURCES)));</span></div>
<div class="line"><span class="lineno"> 3516</span>            <span class="comment">//          Display.ADSR_Sources[3] = mode_number;</span></div>
<div class="line"><span class="lineno"> 3517</span>            <span class="comment">//          //          strcpy(Display.value_str_adsr_settings[3], Display.source_names[mode_number]);</span></div>
<div class="line"><span class="lineno"> 3518</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3519</span>        <span class="keywordflow">case</span> 5:</div>
<div class="line"><span class="lineno"> 3520</span>            <span class="comment">// Release Time Source</span></div>
<div class="line"><span class="lineno"> 3521</span>            <span class="comment">//          //          Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position-30, CASE5, Display.value_end_x_position, CASE5+10, UNCOLORED);</span></div>
<div class="line"><span class="lineno"> 3522</span>            <span class="comment">//          mode_number = ((uint8_t)(((float)Display.ADC2inputs[2] / (float)Display.ADC_FullRange) * (NUMBER_OF_SOURCES-1)));</span></div>
<div class="line"><span class="lineno"> 3523</span>            <span class="comment">//          //          Display.ADSR_Sources[4] = ((uint8_t)(((float)Display.ADC2inputs[2] / (float)Display.ADC_FullRange) * (NUMBER_OF_SOURCES)));</span></div>
<div class="line"><span class="lineno"> 3524</span>            <span class="comment">//          Display.ADSR_Sources[4] = mode_number;</span></div>
<div class="line"><span class="lineno"> 3525</span>            <span class="comment">//          //          strcpy(Display.value_str_adsr_settings[4], Display.source_names[mode_number]);</span></div>
<div class="line"><span class="lineno"> 3526</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3527</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 3528</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3529</span>        }</div>
<div class="line"><span class="lineno"> 3530</span>    }</div>
<div class="line"><span class="lineno"> 3531</span> </div>
<div class="line"><span class="lineno"> 3532</span>    Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position-30, CASE1, Display.value_end_x_position, CASE1+10, UNCOLORED);</div>
<div class="line"><span class="lineno"> 3533</span>    Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position-30, CASE2, Display.value_end_x_position, CASE2+10, UNCOLORED);</div>
<div class="line"><span class="lineno"> 3534</span>    Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position-30, CASE3, Display.value_end_x_position, CASE3+10, UNCOLORED);</div>
<div class="line"><span class="lineno"> 3535</span>    Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position-30, CASE4, Display.value_end_x_position, CASE4+10, UNCOLORED);</div>
<div class="line"><span class="lineno"> 3536</span>    Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position-30, CASE5, Display.value_end_x_position, CASE5+10, UNCOLORED);</div>
<div class="line"><span class="lineno"> 3537</span> </div>
<div class="line"><span class="lineno"> 3538</span>    strcpy(Display.value_str_adsr_settings[0], Display.source_names[Display.ADSR_Sources[0]]);</div>
<div class="line"><span class="lineno"> 3539</span>    strcpy(Display.value_str_adsr_settings[1], Display.source_names[Display.ADSR_Sources[1]]);</div>
<div class="line"><span class="lineno"> 3540</span>    strcpy(Display.value_str_adsr_settings[2], Display.source_names[Display.ADSR_Sources[2]]);</div>
<div class="line"><span class="lineno"> 3541</span>    strcpy(Display.value_str_adsr_settings[3], Display.source_names[Display.ADSR_Sources[3]]);</div>
<div class="line"><span class="lineno"> 3542</span>    strcpy(Display.value_str_adsr_settings[4], Display.source_names[Display.ADSR_Sources[4]]);</div>
<div class="line"><span class="lineno"> 3543</span>    <span class="comment">// Print value row</span></div>
<div class="line"><span class="lineno"> 3544</span>    Paint_DrawStringAt(&amp;paint, Display.value_start_x_position-30, CASE1, Display.value_str_adsr_settings[0], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 3545</span>    Paint_DrawStringAt(&amp;paint, Display.value_start_x_position-30, CASE2, Display.value_str_adsr_settings[1], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 3546</span>    Paint_DrawStringAt(&amp;paint, Display.value_start_x_position-30, CASE3, Display.value_str_adsr_settings[2], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 3547</span>    Paint_DrawStringAt(&amp;paint, Display.value_start_x_position-30, CASE4, Display.value_str_adsr_settings[3], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 3548</span>    Paint_DrawStringAt(&amp;paint, Display.value_start_x_position-30, CASE5, Display.value_str_adsr_settings[4], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 3549</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ga1165fc18d03b690c887a8e8de4286a53" name="ga1165fc18d03b690c887a8e8de4286a53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1165fc18d03b690c887a8e8de4286a53">&#9670;&nbsp;</a></span>p_Distortion()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void p_Distortion </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structeffects__distortion.html">effects_distortion</a> *&#160;</td>
          <td class="paramname"><em>HardClipping</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>this function prints the Distortion submenu and edits its values </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">HardClipping</td><td>struct of hard clipping distortion effect </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="display_8c_source.html#l04152">4152</a> of file <a class="el" href="display_8c_source.html">display.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4152</span>                                                           {</div>
<div class="line"><span class="lineno"> 4153</span> </div>
<div class="line"><span class="lineno"> 4154</span>    <span class="comment">// Header line</span></div>
<div class="line"><span class="lineno"> 4155</span>    <span class="keywordtype">char</span> headerstring[] = <span class="stringliteral">&quot;DISTORTION&quot;</span>;</div>
<div class="line"><span class="lineno"> 4156</span>    Paint_DrawStringAt(&amp;paint, 1, CASE0, headerstring, &amp;Font16, COLORED);</div>
<div class="line"><span class="lineno"> 4157</span> </div>
<div class="line"><span class="lineno"> 4158</span>    <span class="keywordtype">char</span> str_1[] = <span class="stringliteral">&quot;Distortion ON/OFF&quot;</span>;</div>
<div class="line"><span class="lineno"> 4159</span>    <span class="keywordtype">char</span> str_2[] = <span class="stringliteral">&quot;Type&quot;</span>;</div>
<div class="line"><span class="lineno"> 4160</span>    <span class="keywordtype">char</span> str_3[] = <span class="stringliteral">&quot;Gain&quot;</span>;</div>
<div class="line"><span class="lineno"> 4161</span>    <span class="keywordtype">char</span> str_4[] = <span class="stringliteral">&quot;Source&quot;</span>;</div>
<div class="line"><span class="lineno"> 4162</span>    <span class="keywordtype">char</span> str_5[] = <span class="stringliteral">&quot;Distortion Reset&quot;</span>;</div>
<div class="line"><span class="lineno"> 4163</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE1, str_1, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 4164</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE2, str_2, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 4165</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE3, str_3, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 4166</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE4, str_4, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 4167</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE5, str_5, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 4168</span> </div>
<div class="line"><span class="lineno"> 4169</span>    <span class="comment">// As big as the number of parameters</span></div>
<div class="line"><span class="lineno"> 4170</span>    Display.max_parameter = 5;</div>
<div class="line"><span class="lineno"> 4171</span> </div>
<div class="line"><span class="lineno"> 4172</span>    <span class="comment">// Potentiometer Input in %</span></div>
<div class="line"><span class="lineno"> 4173</span>    <span class="keywordtype">float</span> potVal = (float)Display.ADC2inputs[2]/(<span class="keywordtype">float</span>)Display.ADC_FullRange * 100;</div>
<div class="line"><span class="lineno"> 4174</span> </div>
<div class="line"><span class="lineno"> 4175</span>    <span class="keywordflow">switch</span> (Display.JoystickParameterPosition){</div>
<div class="line"><span class="lineno"> 4176</span>    <span class="keywordflow">case</span> 1: <span class="comment">// Distortion ON/OFF</span></div>
<div class="line"><span class="lineno"> 4177</span>        <span class="keywordflow">if</span>(Display.poti_moved == <span class="keyword">true</span>) {</div>
<div class="line"><span class="lineno"> 4178</span> </div>
<div class="line"><span class="lineno"> 4179</span>            <span class="keywordflow">if</span>(potVal &lt; 50) {   <span class="comment">// smaller than 50 %</span></div>
<div class="line"><span class="lineno"> 4180</span>                Display.Distortion_ONOFF = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 4181</span>                strcpy(Display.value_str_distortion[0], <span class="stringliteral">&quot;OFF&quot;</span>);</div>
<div class="line"><span class="lineno"> 4182</span>            }</div>
<div class="line"><span class="lineno"> 4183</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span>(potVal &gt;= 50) { <span class="comment">// greater than 50 %</span></div>
<div class="line"><span class="lineno"> 4184</span>                Display.Distortion_ONOFF = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 4185</span>                strcpy(Display.value_str_distortion[0], <span class="stringliteral">&quot;ON&quot;</span>);</div>
<div class="line"><span class="lineno"> 4186</span>            }</div>
<div class="line"><span class="lineno"> 4187</span>        }</div>
<div class="line"><span class="lineno"> 4188</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4189</span>    <span class="keywordflow">case</span> 2: <span class="comment">// Distortion Type</span></div>
<div class="line"><span class="lineno"> 4190</span>        <span class="keywordflow">if</span>(Display.poti_moved == <span class="keyword">true</span>) {</div>
<div class="line"><span class="lineno"> 4191</span>            Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position, 50, Display.value_end_x_position, 60, UNCOLORED);</div>
<div class="line"><span class="lineno"> 4192</span>            <span class="keywordflow">if</span>(potVal &lt; 50) {   <span class="comment">// smaller than 50 %</span></div>
<div class="line"><span class="lineno"> 4193</span>                Display.Distortion_Type = 0;</div>
<div class="line"><span class="lineno"> 4194</span>                strcpy(Display.value_str_distortion[1], <span class="stringliteral">&quot;Soft&quot;</span>);</div>
<div class="line"><span class="lineno"> 4195</span>                Display.Distortion_Gain = 1.0;  <span class="comment">// reset the distortion gain</span></div>
<div class="line"><span class="lineno"> 4196</span>            }</div>
<div class="line"><span class="lineno"> 4197</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span>(potVal &gt;= 50) { <span class="comment">// greater than 50 %</span></div>
<div class="line"><span class="lineno"> 4198</span>                Display.Distortion_Type = 1;</div>
<div class="line"><span class="lineno"> 4199</span>                strcpy(Display.value_str_distortion[1], <span class="stringliteral">&quot;Hard&quot;</span>);</div>
<div class="line"><span class="lineno"> 4200</span>                Display.Distortion_Gain = 1.0;  <span class="comment">// reset the distortion gain</span></div>
<div class="line"><span class="lineno"> 4201</span>            }</div>
<div class="line"><span class="lineno"> 4202</span>        }</div>
<div class="line"><span class="lineno"> 4203</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4204</span>    <span class="keywordflow">case</span> 3: <span class="comment">// Distortion Gain</span></div>
<div class="line"><span class="lineno"> 4205</span>        <span class="keywordflow">if</span>(Display.poti_moved == <span class="keyword">true</span>) {</div>
<div class="line"><span class="lineno"> 4206</span> </div>
<div class="line"><span class="lineno"> 4207</span>            <span class="comment">// Soft Clipping</span></div>
<div class="line"><span class="lineno"> 4208</span>            <span class="keywordflow">if</span>(Display.Distortion_Type == 0) {</div>
<div class="line"><span class="lineno"> 4209</span> </div>
<div class="line"><span class="lineno"> 4210</span>                Display.Distortion_Gain = (((float)Display.ADC2inputs[2]/(<span class="keywordtype">float</span>)Display.ADC_FullRange) * SoftClipping.distortion_maximum_gain);</div>
<div class="line"><span class="lineno"> 4211</span>                <span class="keywordflow">if</span>(Display.Distortion_Gain &lt; 1)</div>
<div class="line"><span class="lineno"> 4212</span>                    Display.Distortion_Gain = 1;</div>
<div class="line"><span class="lineno"> 4213</span>            }</div>
<div class="line"><span class="lineno"> 4214</span>            <span class="comment">// Hard Clipping</span></div>
<div class="line"><span class="lineno"> 4215</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span>(Display.Distortion_Type == 1) {</div>
<div class="line"><span class="lineno"> 4216</span> </div>
<div class="line"><span class="lineno"> 4217</span>                Display.Distortion_Gain = (((float)Display.ADC2inputs[2]/(<span class="keywordtype">float</span>)Display.ADC_FullRange) * HardClipping-&gt;distortion_maximum_gain) + 1;    <span class="comment">// 1 to 10</span></div>
<div class="line"><span class="lineno"> 4218</span>            }</div>
<div class="line"><span class="lineno"> 4219</span>        }</div>
<div class="line"><span class="lineno"> 4220</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4221</span>    <span class="keywordflow">case</span> 4: <span class="comment">// Distortion Gain Source</span></div>
<div class="line"><span class="lineno"> 4222</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4223</span>    <span class="keywordflow">case</span> 5: <span class="comment">// Distortion Reset</span></div>
<div class="line"><span class="lineno"> 4224</span>        <span class="keywordflow">if</span>(Display.Reset == <span class="keyword">true</span>) {</div>
<div class="line"><span class="lineno"> 4225</span>            <a class="code hl_function" href="group__Distortion.html#gac69b82a1179f795d9205a246de59a37a">Distortion_Reset</a>();</div>
<div class="line"><span class="lineno"> 4226</span>            Display.Reset = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 4227</span>            strcpy(Display.value_str_distortion[4], <span class="stringliteral">&quot;done&quot;</span>);</div>
<div class="line"><span class="lineno"> 4228</span>        }</div>
<div class="line"><span class="lineno"> 4229</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(Display.Reset == <span class="keyword">false</span>)</div>
<div class="line"><span class="lineno"> 4230</span>            strcpy(Display.value_str_distortion[4], <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><span class="lineno"> 4231</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4232</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 4233</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4234</span>    }</div>
<div class="line"><span class="lineno"> 4235</span> </div>
<div class="line"><span class="lineno"> 4236</span>    Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position, CASE1, Display.value_end_x_position, CASE1+VALUE_ROW_LENGTH, UNCOLORED);</div>
<div class="line"><span class="lineno"> 4237</span>    Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position, CASE2, Display.value_end_x_position, CASE2+VALUE_ROW_LENGTH, UNCOLORED);</div>
<div class="line"><span class="lineno"> 4238</span>    Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position, CASE3, Display.value_end_x_position, CASE3+VALUE_ROW_LENGTH, UNCOLORED);</div>
<div class="line"><span class="lineno"> 4239</span>    Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position-30, CASE4, Display.value_end_x_position, CASE4+VALUE_ROW_LENGTH, UNCOLORED);</div>
<div class="line"><span class="lineno"> 4240</span>    Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position, CASE5, Display.value_end_x_position, CASE5+VALUE_ROW_LENGTH, UNCOLORED);</div>
<div class="line"><span class="lineno"> 4241</span> </div>
<div class="line"><span class="lineno"> 4242</span>    sprintf(Display.value_str_distortion[2], <span class="stringliteral">&quot;%.1f&quot;</span>, Display.Distortion_Gain);</div>
<div class="line"><span class="lineno"> 4243</span>    strcpy(Display.value_str_distortion[3], Display.source_names[Display.Distortion_Sources]);</div>
<div class="line"><span class="lineno"> 4244</span>    <span class="comment">// Print value row</span></div>
<div class="line"><span class="lineno"> 4245</span>    Paint_DrawStringAt(&amp;paint, Display.value_start_x_position, CASE1, Display.value_str_distortion[0], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 4246</span>    Paint_DrawStringAt(&amp;paint, Display.value_start_x_position, CASE2, Display.value_str_distortion[1], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 4247</span>    Paint_DrawStringAt(&amp;paint, Display.value_start_x_position, CASE3, Display.value_str_distortion[2], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 4248</span>    Paint_DrawStringAt(&amp;paint, Display.value_start_x_position-30, CASE4, Display.value_str_distortion[3], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 4249</span>    Paint_DrawStringAt(&amp;paint, Display.value_start_x_position, CASE5, Display.value_str_distortion[4], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 4250</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="gae23937cde028cc1e90910692e6a2c6a4" name="gae23937cde028cc1e90910692e6a2c6a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae23937cde028cc1e90910692e6a2c6a4">&#9670;&nbsp;</a></span>p_Drumcomputer_overview()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Display_Status p_Drumcomputer_overview </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>GUI-site function, all functions with the beginning p_ represent a site of the GUI menu. </p>
<dl class="section return"><dt>Returns</dt><dd>Display_Status returns DISPLAY_OK when function reaches the end </dd></dl>

<p class="definition">Definition at line <a class="el" href="display_8c_source.html#l00749">749</a> of file <a class="el" href="display_8c_source.html">display.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  749</span>                                             {</div>
<div class="line"><span class="lineno">  750</span> </div>
<div class="line"><span class="lineno">  751</span>    <span class="comment">// Header line</span></div>
<div class="line"><span class="lineno">  752</span>    <span class="keywordtype">char</span> headerstring[] = <span class="stringliteral">&quot;DRUMCOMPUTER&quot;</span>;</div>
<div class="line"><span class="lineno">  753</span>    Paint_DrawStringAt(&amp;paint, 1, CASE0, headerstring, &amp;Font16, COLORED);</div>
<div class="line"><span class="lineno">  754</span> </div>
<div class="line"><span class="lineno">  755</span>    <span class="keywordtype">char</span> str_1[] = <span class="stringliteral">&quot;Next effect&quot;</span>;</div>
<div class="line"><span class="lineno">  756</span>    <span class="keywordtype">char</span> str_2[] = <span class="stringliteral">&quot;Drumcomputer ON/OFF&quot;</span>;</div>
<div class="line"><span class="lineno">  757</span>    <span class="keywordtype">char</span> str_3[] = <span class="stringliteral">&quot;Drumfilter ON/OFF&quot;</span>;</div>
<div class="line"><span class="lineno">  758</span>    <span class="keywordtype">char</span> str_4[] = <span class="stringliteral">&quot;Q-Factor&quot;</span>;</div>
<div class="line"><span class="lineno">  759</span>    <span class="keywordtype">char</span> str_5[] = <span class="stringliteral">&quot;Cutoff&quot;</span>;</div>
<div class="line"><span class="lineno">  760</span>    <span class="keywordtype">char</span> str_6[] = <span class="stringliteral">&quot;Gain&quot;</span>;</div>
<div class="line"><span class="lineno">  761</span>    <span class="keywordtype">char</span> str_7[] = <span class="stringliteral">&quot;Cutoff Source&quot;</span>;</div>
<div class="line"><span class="lineno">  762</span>    <span class="keywordtype">char</span> str_8[] = <span class="stringliteral">&quot;BPM by ECG ON/OFF&quot;</span>;</div>
<div class="line"><span class="lineno">  763</span>    <span class="keywordtype">char</span> str_9[] = <span class="stringliteral">&quot;Drumcomputer Reset&quot;</span>;</div>
<div class="line"><span class="lineno">  764</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE1, str_1, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno">  765</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE2, str_2, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno">  766</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE3, str_3, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno">  767</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE4, str_4, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno">  768</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE5, str_5, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno">  769</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE6, str_6, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno">  770</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE7, str_7, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno">  771</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE8, str_8, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno">  772</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE9, str_9, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno">  773</span> </div>
<div class="line"><span class="lineno">  774</span>    <span class="comment">// As big as the number of parameters</span></div>
<div class="line"><span class="lineno">  775</span>    Display.max_parameter = 9;</div>
<div class="line"><span class="lineno">  776</span> </div>
<div class="line"><span class="lineno">  777</span>    <span class="keywordflow">switch</span>(Display.JoystickParameterPosition) {</div>
<div class="line"><span class="lineno">  778</span>    <span class="keywordflow">case</span> 1:</div>
<div class="line"><span class="lineno">  779</span>        <span class="comment">// Next Effect</span></div>
<div class="line"><span class="lineno">  780</span>        Display.currentDrumcomputer = 0;</div>
<div class="line"><span class="lineno">  781</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  782</span>    <span class="keywordflow">case</span> 2:</div>
<div class="line"><span class="lineno">  783</span>        <span class="comment">// Drumcomputer ON/OFF</span></div>
<div class="line"><span class="lineno">  784</span>        Display.currentDrumcomputer = 1;</div>
<div class="line"><span class="lineno">  785</span> </div>
<div class="line"><span class="lineno">  786</span>        <span class="keywordflow">if</span>(Display.poti_moved == <span class="keyword">true</span>) {</div>
<div class="line"><span class="lineno">  787</span>            <span class="keywordtype">float</span> potVal = (float)Display.ADC2inputs[2]/(<span class="keywordtype">float</span>)Display.ADC_FullRange * 100; <span class="comment">// Potentiometer Input in %</span></div>
<div class="line"><span class="lineno">  788</span>            <span class="keywordflow">if</span>(potVal &lt; 50) {   <span class="comment">// smaller than 50 %</span></div>
<div class="line"><span class="lineno">  789</span>                Display.Drumcomputer_ONOFF = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  790</span>                strcpy(Display.value_str_drumcomputer[0], <span class="stringliteral">&quot;OFF&quot;</span>);</div>
<div class="line"><span class="lineno">  791</span>            }</div>
<div class="line"><span class="lineno">  792</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span>(potVal &gt;= 50) { <span class="comment">// greater than 50 %</span></div>
<div class="line"><span class="lineno">  793</span>                Display.Drumcomputer_ONOFF = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  794</span>                strcpy(Display.value_str_drumcomputer[0], <span class="stringliteral">&quot;ON&quot;</span>);</div>
<div class="line"><span class="lineno">  795</span>            }</div>
<div class="line"><span class="lineno">  796</span>        }</div>
<div class="line"><span class="lineno">  797</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  798</span>    <span class="keywordflow">case</span> 3: <span class="comment">// Drumfilter ON/OFF</span></div>
<div class="line"><span class="lineno">  799</span>        Display.currentDrumcomputer = 2;</div>
<div class="line"><span class="lineno">  800</span> </div>
<div class="line"><span class="lineno">  801</span>        <span class="keywordflow">if</span>(Display.poti_moved == <span class="keyword">true</span>) {</div>
<div class="line"><span class="lineno">  802</span>            <span class="keywordtype">float</span> potVal = (float)Display.ADC2inputs[2]/(<span class="keywordtype">float</span>)Display.ADC_FullRange * 100; <span class="comment">// Potentiometer Input in %</span></div>
<div class="line"><span class="lineno">  803</span>            <span class="keywordflow">if</span>(potVal &lt; 50) {   <span class="comment">// smaller than 50 %</span></div>
<div class="line"><span class="lineno">  804</span>                Display.Drumfilter_ONOFF = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  805</span>                strcpy(Display.value_str_drumcomputer[1], <span class="stringliteral">&quot;OFF&quot;</span>);</div>
<div class="line"><span class="lineno">  806</span>            }</div>
<div class="line"><span class="lineno">  807</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span>(potVal &gt;= 50) { <span class="comment">// greater than 50 %</span></div>
<div class="line"><span class="lineno">  808</span>                Display.Drumfilter_ONOFF = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  809</span>                strcpy(Display.value_str_drumcomputer[1], <span class="stringliteral">&quot;ON&quot;</span>);</div>
<div class="line"><span class="lineno">  810</span>            }</div>
<div class="line"><span class="lineno">  811</span>        }</div>
<div class="line"><span class="lineno">  812</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  813</span>    <span class="keywordflow">case</span> 4:</div>
<div class="line"><span class="lineno">  814</span>        <span class="comment">// Q-Factor</span></div>
<div class="line"><span class="lineno">  815</span>        Display.currentDrumcomputer = 3;</div>
<div class="line"><span class="lineno">  816</span> </div>
<div class="line"><span class="lineno">  817</span>        <span class="keywordflow">if</span>(Display.poti_moved == <span class="keyword">true</span>) {</div>
<div class="line"><span class="lineno">  818</span>            Display.Drumfilter_Q = (((float)Display.ADC2inputs[2]/(<span class="keywordtype">float</span>)Display.ADC_FullRange) * LS_DRUMS.maximum_Q);</div>
<div class="line"><span class="lineno">  819</span>            <span class="keywordflow">if</span>(Display.Drumfilter_Q &lt; 0.01) <span class="comment">// guard for Q-factor, so it is never 0</span></div>
<div class="line"><span class="lineno">  820</span>                Display.Drumfilter_Q = 0.01;</div>
<div class="line"><span class="lineno">  821</span> </div>
<div class="line"><span class="lineno">  822</span>            <a class="code hl_function" href="group__Filters.html#ga251962656e367a604dfd084fabcc7076">DrumFilters_Reinit_Gyro</a>(Display.Drumfilter_Cutoff, Display.Drumfilter_Q, Display.Drumfilter_Gain);  <span class="comment">// this function can be used here as well</span></div>
<div class="line"><span class="lineno">  823</span>        }</div>
<div class="line"><span class="lineno">  824</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  825</span>    <span class="keywordflow">case</span> 5:</div>
<div class="line"><span class="lineno">  826</span>        <span class="comment">// Cutoff</span></div>
<div class="line"><span class="lineno">  827</span>        Display.currentDrumcomputer = 4;</div>
<div class="line"><span class="lineno">  828</span> </div>
<div class="line"><span class="lineno">  829</span>        <span class="keywordflow">if</span>(Display.poti_moved == <span class="keyword">true</span>) {</div>
<div class="line"><span class="lineno">  830</span>            <span class="keywordflow">if</span>(Display.Drumfilter_Cutoff_Source == POTI) {</div>
<div class="line"><span class="lineno">  831</span>                Display.Drumfilter_Cutoff = (((float)Display.ADC2inputs[2]/(<span class="keywordtype">float</span>)Display.ADC_FullRange) * LS_DRUMS.maximum_cutoff);</div>
<div class="line"><span class="lineno">  832</span>                <span class="keywordflow">if</span>(Display.Drumfilter_Cutoff &lt; II_FILTER_CUTOFF_MIN)</div>
<div class="line"><span class="lineno">  833</span>                    Display.Drumfilter_Cutoff = II_FILTER_CUTOFF_MIN;</div>
<div class="line"><span class="lineno">  834</span> </div>
<div class="line"><span class="lineno">  835</span>                <a class="code hl_function" href="group__Filters.html#ga251962656e367a604dfd084fabcc7076">DrumFilters_Reinit_Gyro</a>(Display.Drumfilter_Cutoff, Display.Drumfilter_Q, Display.Drumfilter_Gain);  <span class="comment">// this function can be used here as well</span></div>
<div class="line"><span class="lineno">  836</span>            }</div>
<div class="line"><span class="lineno">  837</span>        }</div>
<div class="line"><span class="lineno">  838</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  839</span>    <span class="keywordflow">case</span> 6:</div>
<div class="line"><span class="lineno">  840</span>        <span class="comment">// Filter Gain</span></div>
<div class="line"><span class="lineno">  841</span>        Display.currentDrumcomputer = 5;</div>
<div class="line"><span class="lineno">  842</span> </div>
<div class="line"><span class="lineno">  843</span>        <span class="keywordflow">if</span>(Display.poti_moved == <span class="keyword">true</span>) {</div>
<div class="line"><span class="lineno">  844</span> </div>
<div class="line"><span class="lineno">  845</span><span class="comment">            /*****************************</span></div>
<div class="line"><span class="lineno">  846</span><span class="comment">             * @brief   HS / LS Gain: -18dB to 6dB</span></div>
<div class="line"><span class="lineno">  847</span><span class="comment">             * @brief   Scaling 4095 (ADC_value) to a range of 24dB by dividing with 170.625</span></div>
<div class="line"><span class="lineno">  848</span><span class="comment">             * @brief   Center around 0dB by subtracting (4095/(2*170.625))</span></div>
<div class="line"><span class="lineno">  849</span><span class="comment">             * @brief   Subtract 6dB for final adjust</span></div>
<div class="line"><span class="lineno">  850</span><span class="comment">             ******************************/</span></div>
<div class="line"><span class="lineno">  851</span>            Display.Drumfilter_Gain = ((float)Display.ADC2inputs[2] / 170.625)-(4095/(2*170.625))-6;</div>
<div class="line"><span class="lineno">  852</span> </div>
<div class="line"><span class="lineno">  853</span>            <a class="code hl_function" href="group__Filters.html#ga251962656e367a604dfd084fabcc7076">DrumFilters_Reinit_Gyro</a>(Display.Drumfilter_Cutoff, Display.Drumfilter_Q, Display.Drumfilter_Gain);  <span class="comment">// this function can be used here as well</span></div>
<div class="line"><span class="lineno">  854</span>        }</div>
<div class="line"><span class="lineno">  855</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  856</span>    <span class="keywordflow">case</span> 7:</div>
<div class="line"><span class="lineno">  857</span>        <span class="comment">// Cutoff Source</span></div>
<div class="line"><span class="lineno">  858</span>        Display.currentDrumcomputer = 6;</div>
<div class="line"><span class="lineno">  859</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  860</span>    <span class="keywordflow">case</span> 8:</div>
<div class="line"><span class="lineno">  861</span>        <span class="comment">// BPM by ECG ON/OFF</span></div>
<div class="line"><span class="lineno">  862</span>        Display.currentDrumcomputer = 8;</div>
<div class="line"><span class="lineno">  863</span> </div>
<div class="line"><span class="lineno">  864</span>        <span class="keywordflow">if</span>(Display.poti_moved == <span class="keyword">true</span>) {</div>
<div class="line"><span class="lineno">  865</span>            <span class="keywordtype">float</span> potVal = (float)Display.ADC2inputs[2]/(<span class="keywordtype">float</span>)Display.ADC_FullRange * 100; <span class="comment">// Potentiometer Input in %</span></div>
<div class="line"><span class="lineno">  866</span>            <span class="keywordflow">if</span>(potVal &lt; 50) {   <span class="comment">// smaller than 50 %</span></div>
<div class="line"><span class="lineno">  867</span>                Display.Drumcomputer_BPMbyECG_ONOFF = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  868</span>                strcpy(Display.value_str_drumcomputer[6], <span class="stringliteral">&quot;OFF&quot;</span>);</div>
<div class="line"><span class="lineno">  869</span>            }</div>
<div class="line"><span class="lineno">  870</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span>(potVal &gt;= 50) { <span class="comment">// greater than 50 %</span></div>
<div class="line"><span class="lineno">  871</span>                Display.Drumcomputer_BPMbyECG_ONOFF = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  872</span>                strcpy(Display.value_str_drumcomputer[6], <span class="stringliteral">&quot;ON&quot;</span>);</div>
<div class="line"><span class="lineno">  873</span>            }</div>
<div class="line"><span class="lineno">  874</span>        }</div>
<div class="line"><span class="lineno">  875</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  876</span>    <span class="keywordflow">case</span> 9:</div>
<div class="line"><span class="lineno">  877</span>        <span class="comment">// Drumcomputer Reset</span></div>
<div class="line"><span class="lineno">  878</span>        Display.currentDrumcomputer = 8;</div>
<div class="line"><span class="lineno">  879</span> </div>
<div class="line"><span class="lineno">  880</span>        <span class="keywordflow">if</span>(Display.Reset == <span class="keyword">true</span>) {</div>
<div class="line"><span class="lineno">  881</span>            <a class="code hl_function" href="group__DrumComputer.html#ga0945a49b026be615b8a70c8ec885ac08">Drum_Computer_Reset</a>();</div>
<div class="line"><span class="lineno">  882</span>            Display.Reset = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  883</span>            strcpy(Display.value_str_drumcomputer[7], <span class="stringliteral">&quot;done&quot;</span>);</div>
<div class="line"><span class="lineno">  884</span>        }</div>
<div class="line"><span class="lineno">  885</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(Display.Reset == <span class="keyword">false</span>)</div>
<div class="line"><span class="lineno">  886</span>            strcpy(Display.value_str_drumcomputer[7], <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><span class="lineno">  887</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  888</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  889</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  890</span>    }</div>
<div class="line"><span class="lineno">  891</span> </div>
<div class="line"><span class="lineno">  892</span>    Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position, CASE2, Display.value_end_x_position, CASE2+VALUE_ROW_LENGTH, UNCOLORED);</div>
<div class="line"><span class="lineno">  893</span>    Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position, CASE3, Display.value_end_x_position, CASE3+VALUE_ROW_LENGTH, UNCOLORED);</div>
<div class="line"><span class="lineno">  894</span>    Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position-30, CASE4, Display.value_end_x_position, CASE4+VALUE_ROW_LENGTH, UNCOLORED);</div>
<div class="line"><span class="lineno">  895</span>    Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position-30, CASE5, Display.value_end_x_position, CASE5+VALUE_ROW_LENGTH, UNCOLORED);</div>
<div class="line"><span class="lineno">  896</span>    Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position-30, CASE6, Display.value_end_x_position, CASE6+VALUE_ROW_LENGTH, UNCOLORED);</div>
<div class="line"><span class="lineno">  897</span>    Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position-30, CASE7, Display.value_end_x_position, CASE7+VALUE_ROW_LENGTH, UNCOLORED);</div>
<div class="line"><span class="lineno">  898</span>    Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position, CASE8, Display.value_end_x_position, CASE8+VALUE_ROW_LENGTH, UNCOLORED);</div>
<div class="line"><span class="lineno">  899</span>    Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position, CASE9, Display.value_end_x_position, CASE9+VALUE_ROW_LENGTH, UNCOLORED);</div>
<div class="line"><span class="lineno">  900</span> </div>
<div class="line"><span class="lineno">  901</span>    sprintf(Display.value_str_drumcomputer[2], <span class="stringliteral">&quot;%.3f&quot;</span>, Display.Drumfilter_Q);</div>
<div class="line"><span class="lineno">  902</span>    sprintf(Display.value_str_drumcomputer[3], <span class="stringliteral">&quot;%.0f&quot;</span>, Display.Drumfilter_Cutoff);</div>
<div class="line"><span class="lineno">  903</span>    sprintf(Display.value_str_drumcomputer[4], <span class="stringliteral">&quot;%.0f&quot;</span>, Display.Drumfilter_Gain);</div>
<div class="line"><span class="lineno">  904</span>    strcpy(Display.value_str_drumcomputer[5], Display.source_names[Display.Drumfilter_Cutoff_Source]);</div>
<div class="line"><span class="lineno">  905</span> </div>
<div class="line"><span class="lineno">  906</span>    Paint_DrawStringAt(&amp;paint, Display.value_start_x_position, CASE2, Display.value_str_drumcomputer[0], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno">  907</span>    Paint_DrawStringAt(&amp;paint, Display.value_start_x_position, CASE3, Display.value_str_drumcomputer[1], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno">  908</span>    Paint_DrawStringAt(&amp;paint, Display.value_start_x_position-30, CASE4, Display.value_str_drumcomputer[2], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno">  909</span>    Paint_DrawStringAt(&amp;paint, Display.value_start_x_position-30, CASE5, Display.value_str_drumcomputer[3], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno">  910</span>    Paint_DrawStringAt(&amp;paint, Display.value_start_x_position-30, CASE6, Display.value_str_drumcomputer[4], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno">  911</span>    Paint_DrawStringAt(&amp;paint, Display.value_start_x_position-30, CASE7, Display.value_str_drumcomputer[5], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno">  912</span>    Paint_DrawStringAt(&amp;paint, Display.value_start_x_position, CASE8, Display.value_str_drumcomputer[6], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno">  913</span>    Paint_DrawStringAt(&amp;paint, Display.value_start_x_position, CASE9, Display.value_str_drumcomputer[7], &amp;Font12, COLORED); <span class="comment">// reset</span></div>
<div class="line"><span class="lineno">  914</span> </div>
<div class="line"><span class="lineno">  915</span>    <span class="keywordflow">return</span> DISPLAY_OK;</div>
<div class="line"><span class="lineno">  916</span>}</div>
<div class="ttc" id="agroup__Filters_html_ga251962656e367a604dfd084fabcc7076"><div class="ttname"><a href="group__Filters.html#ga251962656e367a604dfd084fabcc7076">DrumFilters_Reinit_Gyro</a></div><div class="ttdeci">Filter_Status DrumFilters_Reinit_Gyro(float cutoff_d, float Qfactor_d, float gain_d)</div><div class="ttdoc">This function re-calculates the filter coefficients of the drum filter.</div><div class="ttdef"><b>Definition:</b> <a href="filters_8c_source.html#l00171">filters.c:171</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="gaf9d7f7add0e2f3d4bc2d56c1b4803d97" name="gaf9d7f7add0e2f3d4bc2d56c1b4803d97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf9d7f7add0e2f3d4bc2d56c1b4803d97">&#9670;&nbsp;</a></span>p_Drumcomputer_Settings()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Display_Status p_Drumcomputer_Settings </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>GUI-site function, all functions with the beginning p_ represent a site of the GUI menu. </p>
<dl class="section return"><dt>Returns</dt><dd>Display_Status returns DISPLAY_OK when function reaches the end </dd></dl>

<p class="definition">Definition at line <a class="el" href="display_8c_source.html#l00922">922</a> of file <a class="el" href="display_8c_source.html">display.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  922</span>                                             {</div>
<div class="line"><span class="lineno">  923</span> </div>
<div class="line"><span class="lineno">  924</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE1, <span class="stringliteral">&quot;Last page&quot;</span>, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno">  925</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE2, <span class="stringliteral">&quot;BPM&quot;</span>, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno">  926</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE3, <span class="stringliteral">&quot;Load samples&quot;</span>, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno">  927</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE4, <span class="stringliteral">&quot;Edit drums&quot;</span>, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno">  928</span> </div>
<div class="line"><span class="lineno">  929</span>    <span class="comment">// As big as the number of parameters</span></div>
<div class="line"><span class="lineno">  930</span>    Display.max_parameter = 4;</div>
<div class="line"><span class="lineno">  931</span> </div>
<div class="line"><span class="lineno">  932</span>    <span class="keywordflow">if</span>(Display.JoystickParameterPosition == 1) {    <span class="comment">// Last page</span></div>
<div class="line"><span class="lineno">  933</span>        Display.EditDrums = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  934</span>    }</div>
<div class="line"><span class="lineno">  935</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(Display.JoystickParameterPosition == 2) {   <span class="comment">// change BPM -&gt; processing done in interrupt</span></div>
<div class="line"><span class="lineno">  936</span>        Display.EditDrums = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  937</span>    }</div>
<div class="line"><span class="lineno">  938</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(Display.JoystickParameterPosition == 3) {   <span class="comment">// load sample from sd card -&gt; right button pressed registered in gpio exti callback</span></div>
<div class="line"><span class="lineno">  939</span>        Display.EditDrums = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  940</span> </div>
<div class="line"><span class="lineno">  941</span>        <span class="keywordtype">float</span> potVal = (float)Display.ADC2inputs[2]/(<span class="keywordtype">float</span>)Display.ADC_FullRange * 100; <span class="comment">// Potentiometer Input in %</span></div>
<div class="line"><span class="lineno">  942</span> </div>
<div class="line"><span class="lineno">  943</span>        <span class="keywordflow">if</span>(potVal &gt;= 0 &amp;&amp; potVal &lt; 25) {</div>
<div class="line"><span class="lineno">  944</span> </div>
<div class="line"><span class="lineno">  945</span>            strcpy(Display.value_str_drumcomputer[9], <span class="stringliteral">&quot;909&quot;</span>);</div>
<div class="line"><span class="lineno">  946</span> </div>
<div class="line"><span class="lineno">  947</span>            <span class="keywordflow">if</span>(Display.LoadDrumkit == <span class="keyword">true</span>) {</div>
<div class="line"><span class="lineno">  948</span> </div>
<div class="line"><span class="lineno">  949</span>                <span class="comment">// Reset drumcomputer variables when a new drumkit is loaded</span></div>
<div class="line"><span class="lineno">  950</span>                <span class="comment">// INIT: Sound bins</span></div>
<div class="line"><span class="lineno">  951</span>                <a class="code hl_variable" href="group__DrumComputer.html#ga1d0ce949a258b04a5822d3442fd73d83">DS1s</a> = 0;</div>
<div class="line"><span class="lineno">  952</span>                DS2s = 0;</div>
<div class="line"><span class="lineno">  953</span>                DS3s = 0;</div>
<div class="line"><span class="lineno">  954</span>                DS4s = 0;</div>
<div class="line"><span class="lineno">  955</span>                drums = 0;</div>
<div class="line"><span class="lineno">  956</span> </div>
<div class="line"><span class="lineno">  957</span>                <span class="comment">// Drums: Index</span></div>
<div class="line"><span class="lineno">  958</span>                <a class="code hl_variable" href="group__DrumComputer.html#gad32e19a8282780d0a134ec07797ac10b">drum_index</a> = 0;</div>
<div class="line"><span class="lineno">  959</span>                <a class="code hl_variable" href="group__DrumComputer.html#ga148d70203e23260f999890046d5509b0">counter_master</a> = 0;</div>
<div class="line"><span class="lineno">  960</span> </div>
<div class="line"><span class="lineno">  961</span>                <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;<a class="code hl_define" href="group__DrumComputer.html#ga267b06d60a7514d898b5cac91b4380ec">FourFour</a>; i++) {</div>
<div class="line"><span class="lineno">  962</span>                    counter_DS1[i] = 0;</div>
<div class="line"><span class="lineno">  963</span>                    <a class="code hl_variable" href="group__DrumComputer.html#ga88744615d25a485f31d6718453e6d324">flag_DS1</a>[i]    = 0;</div>
<div class="line"><span class="lineno">  964</span>                    counter_DS2[i] = 0;</div>
<div class="line"><span class="lineno">  965</span>                    flag_DS2[i]    = 0;</div>
<div class="line"><span class="lineno">  966</span>                    counter_DS3[i] = 0;</div>
<div class="line"><span class="lineno">  967</span>                    flag_DS3[i]    = 0;</div>
<div class="line"><span class="lineno">  968</span>                    counter_DS4[i] = 0;</div>
<div class="line"><span class="lineno">  969</span>                    flag_DS4[i]    = 0;</div>
<div class="line"><span class="lineno">  970</span>                }</div>
<div class="line"><span class="lineno">  971</span> </div>
<div class="line"><span class="lineno">  972</span>                <a class="code hl_function" href="group__Display.html#gafeebe386ce2f442752742b054674b40d">Display_LoadDrumKits</a>(0);</div>
<div class="line"><span class="lineno">  973</span>                Display.LoadDrumkit = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  974</span> </div>
<div class="line"><span class="lineno">  975</span>                <span class="comment">// Print name of loaded drumkit above the name of the samples</span></div>
<div class="line"><span class="lineno">  976</span>                strcpy(Display.value_str_drumcomputer[11], <span class="stringliteral">&quot;909&quot;</span>);</div>
<div class="line"><span class="lineno">  977</span>                strcpy(Display.sample1, <span class="stringliteral">&quot;Kick&quot;</span>);</div>
<div class="line"><span class="lineno">  978</span>                strcpy(Display.sample2, <span class="stringliteral">&quot;Op.HH&quot;</span>);</div>
<div class="line"><span class="lineno">  979</span>                strcpy(Display.sample3, <span class="stringliteral">&quot;Clap&quot;</span>);</div>
<div class="line"><span class="lineno">  980</span>                strcpy(Display.sample4, <span class="stringliteral">&quot;L.Tom&quot;</span>);</div>
<div class="line"><span class="lineno">  981</span> </div>
<div class="line"><span class="lineno">  982</span>                Display.UpdateDisplay = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  983</span>            }</div>
<div class="line"><span class="lineno">  984</span>        }</div>
<div class="line"><span class="lineno">  985</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(potVal &gt;= 25 &amp;&amp; potVal &lt; 50) {</div>
<div class="line"><span class="lineno">  986</span> </div>
<div class="line"><span class="lineno">  987</span>            strcpy(Display.value_str_drumcomputer[9], <span class="stringliteral">&quot;Rock loud&quot;</span>);</div>
<div class="line"><span class="lineno">  988</span> </div>
<div class="line"><span class="lineno">  989</span>            <span class="keywordflow">if</span>(Display.LoadDrumkit == <span class="keyword">true</span>) {</div>
<div class="line"><span class="lineno">  990</span> </div>
<div class="line"><span class="lineno">  991</span>                <span class="comment">// Reset drumcomputer variables when a new drumkit is loaded</span></div>
<div class="line"><span class="lineno">  992</span>                <span class="comment">// INIT: Sound bins</span></div>
<div class="line"><span class="lineno">  993</span>                <a class="code hl_variable" href="group__DrumComputer.html#ga1d0ce949a258b04a5822d3442fd73d83">DS1s</a> = 0;</div>
<div class="line"><span class="lineno">  994</span>                DS2s = 0;</div>
<div class="line"><span class="lineno">  995</span>                DS3s = 0;</div>
<div class="line"><span class="lineno">  996</span>                DS4s = 0;</div>
<div class="line"><span class="lineno">  997</span>                drums = 0;</div>
<div class="line"><span class="lineno">  998</span> </div>
<div class="line"><span class="lineno">  999</span>                <span class="comment">// Drums: Index</span></div>
<div class="line"><span class="lineno"> 1000</span>                <a class="code hl_variable" href="group__DrumComputer.html#gad32e19a8282780d0a134ec07797ac10b">drum_index</a> = 0;</div>
<div class="line"><span class="lineno"> 1001</span>                <a class="code hl_variable" href="group__DrumComputer.html#ga148d70203e23260f999890046d5509b0">counter_master</a> = 0;</div>
<div class="line"><span class="lineno"> 1002</span> </div>
<div class="line"><span class="lineno"> 1003</span>                <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;<a class="code hl_define" href="group__DrumComputer.html#ga267b06d60a7514d898b5cac91b4380ec">FourFour</a>; i++) {</div>
<div class="line"><span class="lineno"> 1004</span>                    counter_DS1[i] = 0;</div>
<div class="line"><span class="lineno"> 1005</span>                    <a class="code hl_variable" href="group__DrumComputer.html#ga88744615d25a485f31d6718453e6d324">flag_DS1</a>[i]    = 0;</div>
<div class="line"><span class="lineno"> 1006</span>                    counter_DS2[i] = 0;</div>
<div class="line"><span class="lineno"> 1007</span>                    flag_DS2[i]    = 0;</div>
<div class="line"><span class="lineno"> 1008</span>                    counter_DS3[i] = 0;</div>
<div class="line"><span class="lineno"> 1009</span>                    flag_DS3[i]    = 0;</div>
<div class="line"><span class="lineno"> 1010</span>                    counter_DS4[i] = 0;</div>
<div class="line"><span class="lineno"> 1011</span>                    flag_DS4[i]    = 0;</div>
<div class="line"><span class="lineno"> 1012</span>                }</div>
<div class="line"><span class="lineno"> 1013</span> </div>
<div class="line"><span class="lineno"> 1014</span>                <a class="code hl_function" href="group__Display.html#gafeebe386ce2f442752742b054674b40d">Display_LoadDrumKits</a>(1);</div>
<div class="line"><span class="lineno"> 1015</span>                Display.LoadDrumkit = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1016</span> </div>
<div class="line"><span class="lineno"> 1017</span>                <span class="comment">// Print name of loaded drumkit above the name of the samples</span></div>
<div class="line"><span class="lineno"> 1018</span>                strcpy(Display.value_str_drumcomputer[11], <span class="stringliteral">&quot;Rock loud&quot;</span>);</div>
<div class="line"><span class="lineno"> 1019</span>                strcpy(Display.sample1, <span class="stringliteral">&quot;Kick&quot;</span>);</div>
<div class="line"><span class="lineno"> 1020</span>                strcpy(Display.sample2, <span class="stringliteral">&quot;Hihat&quot;</span>);</div>
<div class="line"><span class="lineno"> 1021</span>                strcpy(Display.sample3, <span class="stringliteral">&quot;Snare&quot;</span>);</div>
<div class="line"><span class="lineno"> 1022</span>                strcpy(Display.sample4, <span class="stringliteral">&quot;Ride&quot;</span>);</div>
<div class="line"><span class="lineno"> 1023</span> </div>
<div class="line"><span class="lineno"> 1024</span>                Display.UpdateDisplay = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1025</span>            }</div>
<div class="line"><span class="lineno"> 1026</span>        }</div>
<div class="line"><span class="lineno"> 1027</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(potVal &gt;= 50 &amp;&amp; potVal &lt; 75) {</div>
<div class="line"><span class="lineno"> 1028</span> </div>
<div class="line"><span class="lineno"> 1029</span>            strcpy(Display.value_str_drumcomputer[9], <span class="stringliteral">&quot;Rock&quot;</span>);</div>
<div class="line"><span class="lineno"> 1030</span> </div>
<div class="line"><span class="lineno"> 1031</span>            <span class="keywordflow">if</span>(Display.LoadDrumkit == <span class="keyword">true</span>) {</div>
<div class="line"><span class="lineno"> 1032</span> </div>
<div class="line"><span class="lineno"> 1033</span>                <span class="comment">// Reset drumcomputer variables when a new drumkit is loaded</span></div>
<div class="line"><span class="lineno"> 1034</span>                <span class="comment">// INIT: Sound bins</span></div>
<div class="line"><span class="lineno"> 1035</span>                <a class="code hl_variable" href="group__DrumComputer.html#ga1d0ce949a258b04a5822d3442fd73d83">DS1s</a> = 0;</div>
<div class="line"><span class="lineno"> 1036</span>                DS2s = 0;</div>
<div class="line"><span class="lineno"> 1037</span>                DS3s = 0;</div>
<div class="line"><span class="lineno"> 1038</span>                DS4s = 0;</div>
<div class="line"><span class="lineno"> 1039</span>                drums = 0;</div>
<div class="line"><span class="lineno"> 1040</span> </div>
<div class="line"><span class="lineno"> 1041</span>                <span class="comment">// Drums: Index</span></div>
<div class="line"><span class="lineno"> 1042</span>                <a class="code hl_variable" href="group__DrumComputer.html#gad32e19a8282780d0a134ec07797ac10b">drum_index</a> = 0;</div>
<div class="line"><span class="lineno"> 1043</span>                <a class="code hl_variable" href="group__DrumComputer.html#ga148d70203e23260f999890046d5509b0">counter_master</a> = 0;</div>
<div class="line"><span class="lineno"> 1044</span> </div>
<div class="line"><span class="lineno"> 1045</span>                <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;<a class="code hl_define" href="group__DrumComputer.html#ga267b06d60a7514d898b5cac91b4380ec">FourFour</a>; i++) {</div>
<div class="line"><span class="lineno"> 1046</span>                    counter_DS1[i] = 0;</div>
<div class="line"><span class="lineno"> 1047</span>                    <a class="code hl_variable" href="group__DrumComputer.html#ga88744615d25a485f31d6718453e6d324">flag_DS1</a>[i]    = 0;</div>
<div class="line"><span class="lineno"> 1048</span>                    counter_DS2[i] = 0;</div>
<div class="line"><span class="lineno"> 1049</span>                    flag_DS2[i]    = 0;</div>
<div class="line"><span class="lineno"> 1050</span>                    counter_DS3[i] = 0;</div>
<div class="line"><span class="lineno"> 1051</span>                    flag_DS3[i]    = 0;</div>
<div class="line"><span class="lineno"> 1052</span>                    counter_DS4[i] = 0;</div>
<div class="line"><span class="lineno"> 1053</span>                    flag_DS4[i]    = 0;</div>
<div class="line"><span class="lineno"> 1054</span>                }</div>
<div class="line"><span class="lineno"> 1055</span> </div>
<div class="line"><span class="lineno"> 1056</span>                <a class="code hl_function" href="group__Display.html#gafeebe386ce2f442752742b054674b40d">Display_LoadDrumKits</a>(2);</div>
<div class="line"><span class="lineno"> 1057</span>                Display.LoadDrumkit = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1058</span> </div>
<div class="line"><span class="lineno"> 1059</span>                <span class="comment">// Print name of loaded drumkit above the name of the samples</span></div>
<div class="line"><span class="lineno"> 1060</span>                strcpy(Display.value_str_drumcomputer[11], <span class="stringliteral">&quot;Rock&quot;</span>);</div>
<div class="line"><span class="lineno"> 1061</span>                strcpy(Display.sample1, <span class="stringliteral">&quot;Kick&quot;</span>);</div>
<div class="line"><span class="lineno"> 1062</span>                strcpy(Display.sample2, <span class="stringliteral">&quot;Hihat&quot;</span>);</div>
<div class="line"><span class="lineno"> 1063</span>                strcpy(Display.sample3, <span class="stringliteral">&quot;Snare&quot;</span>);</div>
<div class="line"><span class="lineno"> 1064</span>                strcpy(Display.sample4, <span class="stringliteral">&quot;Ride&quot;</span>);</div>
<div class="line"><span class="lineno"> 1065</span> </div>
<div class="line"><span class="lineno"> 1066</span>                Display.UpdateDisplay = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1067</span>            }</div>
<div class="line"><span class="lineno"> 1068</span>        }</div>
<div class="line"><span class="lineno"> 1069</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(potVal &gt;= 75 &amp;&amp; potVal &lt;= 100) {</div>
<div class="line"><span class="lineno"> 1070</span> </div>
<div class="line"><span class="lineno"> 1071</span>            strcpy(Display.value_str_drumcomputer[9], <span class="stringliteral">&quot;Windows&quot;</span>);</div>
<div class="line"><span class="lineno"> 1072</span> </div>
<div class="line"><span class="lineno"> 1073</span>            <span class="keywordflow">if</span>(Display.LoadDrumkit == <span class="keyword">true</span>) {</div>
<div class="line"><span class="lineno"> 1074</span> </div>
<div class="line"><span class="lineno"> 1075</span>                <span class="comment">// Reset drumcomputer variables when a new drumkit is loaded</span></div>
<div class="line"><span class="lineno"> 1076</span>                <span class="comment">// INIT: Sound bins</span></div>
<div class="line"><span class="lineno"> 1077</span>                <a class="code hl_variable" href="group__DrumComputer.html#ga1d0ce949a258b04a5822d3442fd73d83">DS1s</a> = 0;</div>
<div class="line"><span class="lineno"> 1078</span>                DS2s = 0;</div>
<div class="line"><span class="lineno"> 1079</span>                DS3s = 0;</div>
<div class="line"><span class="lineno"> 1080</span>                DS4s = 0;</div>
<div class="line"><span class="lineno"> 1081</span>                drums = 0;</div>
<div class="line"><span class="lineno"> 1082</span> </div>
<div class="line"><span class="lineno"> 1083</span>                <span class="comment">// Drums: Index</span></div>
<div class="line"><span class="lineno"> 1084</span>                <a class="code hl_variable" href="group__DrumComputer.html#gad32e19a8282780d0a134ec07797ac10b">drum_index</a> = 0;</div>
<div class="line"><span class="lineno"> 1085</span>                <a class="code hl_variable" href="group__DrumComputer.html#ga148d70203e23260f999890046d5509b0">counter_master</a> = 0;</div>
<div class="line"><span class="lineno"> 1086</span> </div>
<div class="line"><span class="lineno"> 1087</span>                <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;<a class="code hl_define" href="group__DrumComputer.html#ga267b06d60a7514d898b5cac91b4380ec">FourFour</a>; i++) {</div>
<div class="line"><span class="lineno"> 1088</span>                    counter_DS1[i] = 0;</div>
<div class="line"><span class="lineno"> 1089</span>                    <a class="code hl_variable" href="group__DrumComputer.html#ga88744615d25a485f31d6718453e6d324">flag_DS1</a>[i]    = 0;</div>
<div class="line"><span class="lineno"> 1090</span>                    counter_DS2[i] = 0;</div>
<div class="line"><span class="lineno"> 1091</span>                    flag_DS2[i]    = 0;</div>
<div class="line"><span class="lineno"> 1092</span>                    counter_DS3[i] = 0;</div>
<div class="line"><span class="lineno"> 1093</span>                    flag_DS3[i]    = 0;</div>
<div class="line"><span class="lineno"> 1094</span>                    counter_DS4[i] = 0;</div>
<div class="line"><span class="lineno"> 1095</span>                    flag_DS4[i]    = 0;</div>
<div class="line"><span class="lineno"> 1096</span>                }</div>
<div class="line"><span class="lineno"> 1097</span> </div>
<div class="line"><span class="lineno"> 1098</span>                <a class="code hl_function" href="group__Display.html#gafeebe386ce2f442752742b054674b40d">Display_LoadDrumKits</a>(3);</div>
<div class="line"><span class="lineno"> 1099</span>                Display.LoadDrumkit = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1100</span> </div>
<div class="line"><span class="lineno"> 1101</span>                <span class="comment">// Print name of loaded drumkit above the name of the samples</span></div>
<div class="line"><span class="lineno"> 1102</span>                strcpy(Display.value_str_drumcomputer[11], <span class="stringliteral">&quot;Windows&quot;</span>);</div>
<div class="line"><span class="lineno"> 1103</span>                strcpy(Display.sample1, <span class="stringliteral">&quot;Chord&quot;</span>);</div>
<div class="line"><span class="lineno"> 1104</span>                strcpy(Display.sample2, <span class="stringliteral">&quot;Trash&quot;</span>);</div>
<div class="line"><span class="lineno"> 1105</span>                strcpy(Display.sample3, <span class="stringliteral">&quot;Remove&quot;</span>);</div>
<div class="line"><span class="lineno"> 1106</span>                strcpy(Display.sample4, <span class="stringliteral">&quot;Back&quot;</span>);</div>
<div class="line"><span class="lineno"> 1107</span> </div>
<div class="line"><span class="lineno"> 1108</span>                Display.UpdateDisplay = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1109</span>            }</div>
<div class="line"><span class="lineno"> 1110</span>        }</div>
<div class="line"><span class="lineno"> 1111</span>    }</div>
<div class="line"><span class="lineno"> 1112</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(Display.JoystickParameterPosition == 4) {   <span class="comment">// Edit drums on/off</span></div>
<div class="line"><span class="lineno"> 1113</span> </div>
<div class="line"><span class="lineno"> 1114</span>        <span class="keywordflow">if</span>(Display.poti_moved == <span class="keyword">true</span>) {</div>
<div class="line"><span class="lineno"> 1115</span>            Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position, CASE4, Display.value_end_x_position, CASE4+VALUE_ROW_LENGTH, UNCOLORED);</div>
<div class="line"><span class="lineno"> 1116</span>            <span class="keywordtype">float</span> potVal = (float)Display.ADC2inputs[2]/(<span class="keywordtype">float</span>)Display.ADC_FullRange * 100; <span class="comment">// Potentiometer Input in %</span></div>
<div class="line"><span class="lineno"> 1117</span>            <span class="keywordflow">if</span>(potVal &lt; 50) {   <span class="comment">// smaller than 50 %</span></div>
<div class="line"><span class="lineno"> 1118</span>                Display.EditDrums = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1119</span>                strcpy(Display.value_str_drumcomputer[10], <span class="stringliteral">&quot;OFF&quot;</span>);</div>
<div class="line"><span class="lineno"> 1120</span>            }</div>
<div class="line"><span class="lineno"> 1121</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span>(potVal &gt;= 50) { <span class="comment">// greater than 50 %</span></div>
<div class="line"><span class="lineno"> 1122</span>                Display.EditDrums = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1123</span>                strcpy(Display.value_str_drumcomputer[10], <span class="stringliteral">&quot;ON&quot;</span>);</div>
<div class="line"><span class="lineno"> 1124</span>            }</div>
<div class="line"><span class="lineno"> 1125</span>        }</div>
<div class="line"><span class="lineno"> 1126</span>    }</div>
<div class="line"><span class="lineno"> 1127</span> </div>
<div class="line"><span class="lineno"> 1128</span>    <span class="comment">// Print name of loaded drumkit above the name of the samples</span></div>
<div class="line"><span class="lineno"> 1129</span>    Paint_DrawFilledRectangle(&amp;paint, Display.row_start_x_position, CASE5-10, Display.row_start_x_position+50, CASE5-10+VALUE_ROW_LENGTH, UNCOLORED);</div>
<div class="line"><span class="lineno"> 1130</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE5-10, Display.value_str_drumcomputer[11], &amp;Font8, COLORED);</div>
<div class="line"><span class="lineno"> 1131</span> </div>
<div class="line"><span class="lineno"> 1132</span>    Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position-50, CASE2, Display.value_end_x_position, CASE2+VALUE_ROW_LENGTH, UNCOLORED);</div>
<div class="line"><span class="lineno"> 1133</span>    Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position-50, CASE3, Display.value_end_x_position, CASE3+VALUE_ROW_LENGTH, UNCOLORED);</div>
<div class="line"><span class="lineno"> 1134</span> </div>
<div class="line"><span class="lineno"> 1135</span>    <a class="code hl_function" href="group__Display.html#ga6f1e5fd55fe52c0da6ed8691a043c7e3">Display_DrawDrumcomputerIcons</a>(Display.sample1, Display.sample2, Display.sample3, Display.sample4);</div>
<div class="line"><span class="lineno"> 1136</span>    <a class="code hl_function" href="group__Display.html#gaeee4736127d8842a23ce57021443c5af">DISPLAY_DrawDrumcomputerPatternFrame</a>(8);</div>
<div class="line"><span class="lineno"> 1137</span> </div>
<div class="line"><span class="lineno"> 1138</span>    Paint_DrawStringAt(&amp;paint, Display.value_start_x_position-50, CASE2, Display.value_str_drumcomputer[8], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 1139</span>    Paint_DrawStringAt(&amp;paint, Display.value_start_x_position-50, CASE3, Display.value_str_drumcomputer[9], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 1140</span>    Paint_DrawStringAt(&amp;paint, Display.value_start_x_position, CASE4, Display.value_str_drumcomputer[10], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 1141</span> </div>
<div class="line"><span class="lineno"> 1142</span>    <span class="keywordflow">return</span> DISPLAY_OK;</div>
<div class="line"><span class="lineno"> 1143</span>}</div>
<div class="ttc" id="agroup__Display_html_ga6f1e5fd55fe52c0da6ed8691a043c7e3"><div class="ttname"><a href="group__Display.html#ga6f1e5fd55fe52c0da6ed8691a043c7e3">Display_DrawDrumcomputerIcons</a></div><div class="ttdeci">Display_Status Display_DrawDrumcomputerIcons(char *S1, char *S2, char *S3, char *S4)</div><div class="ttdoc">This function draws the sample names of the drumkit, which is currently chosen.</div><div class="ttdef"><b>Definition:</b> <a href="display_8c_source.html#l01355">display.c:1355</a></div></div>
<div class="ttc" id="agroup__Display_html_gaeee4736127d8842a23ce57021443c5af"><div class="ttname"><a href="group__Display.html#gaeee4736127d8842a23ce57021443c5af">DISPLAY_DrawDrumcomputerPatternFrame</a></div><div class="ttdeci">Display_Status DISPLAY_DrawDrumcomputerPatternFrame(uint8_t Drumsteps)</div><div class="ttdoc">This function draws the frame of the drumcomputer pattern.</div><div class="ttdef"><b>Definition:</b> <a href="display_8c_source.html#l01378">display.c:1378</a></div></div>
<div class="ttc" id="agroup__Display_html_gafeebe386ce2f442752742b054674b40d"><div class="ttname"><a href="group__Display.html#gafeebe386ce2f442752742b054674b40d">Display_LoadDrumKits</a></div><div class="ttdeci">Display_Status Display_LoadDrumKits(uint8_t Drumkit)</div><div class="ttdoc">This function loads the expected drumkit from the sd card.</div><div class="ttdef"><b>Definition:</b> <a href="display_8c_source.html#l01203">display.c:1203</a></div></div>
<div class="ttc" id="agroup__DrumComputer_html_ga148d70203e23260f999890046d5509b0"><div class="ttname"><a href="group__DrumComputer.html#ga148d70203e23260f999890046d5509b0">counter_master</a></div><div class="ttdeci">uint32_t counter_master</div><div class="ttdoc">Counter.</div><div class="ttdef"><b>Definition:</b> <a href="drum__computer_8h_source.html#l00048">drum_computer.h:48</a></div></div>
<div class="ttc" id="agroup__DrumComputer_html_ga1d0ce949a258b04a5822d3442fd73d83"><div class="ttname"><a href="group__DrumComputer.html#ga1d0ce949a258b04a5822d3442fd73d83">DS1s</a></div><div class="ttdeci">float DS1s</div><div class="ttdoc">Sound bins.</div><div class="ttdef"><b>Definition:</b> <a href="drum__computer_8h_source.html#l00068">drum_computer.h:68</a></div></div>
<div class="ttc" id="agroup__DrumComputer_html_ga267b06d60a7514d898b5cac91b4380ec"><div class="ttname"><a href="group__DrumComputer.html#ga267b06d60a7514d898b5cac91b4380ec">FourFour</a></div><div class="ttdeci">#define FourFour</div><div class="ttdoc">Common Sample Length &amp; Time Signature.</div><div class="ttdef"><b>Definition:</b> <a href="drum__computer_8h_source.html#l00030">drum_computer.h:30</a></div></div>
<div class="ttc" id="agroup__DrumComputer_html_ga88744615d25a485f31d6718453e6d324"><div class="ttname"><a href="group__DrumComputer.html#ga88744615d25a485f31d6718453e6d324">flag_DS1</a></div><div class="ttdeci">uint32_t flag_DS1[FourFour]</div><div class="ttdoc">Flag drums.</div><div class="ttdef"><b>Definition:</b> <a href="drum__computer_8h_source.html#l00055">drum_computer.h:55</a></div></div>
<div class="ttc" id="agroup__DrumComputer_html_gad32e19a8282780d0a134ec07797ac10b"><div class="ttname"><a href="group__DrumComputer.html#gad32e19a8282780d0a134ec07797ac10b">drum_index</a></div><div class="ttdeci">uint32_t drum_index</div><div class="ttdoc">Index.</div><div class="ttdef"><b>Definition:</b> <a href="drum__computer_8h_source.html#l00045">drum_computer.h:45</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="gae9490b1e7da6a8a226cf5065174d5ae3" name="gae9490b1e7da6a8a226cf5065174d5ae3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae9490b1e7da6a8a226cf5065174d5ae3">&#9670;&nbsp;</a></span>p_EMG()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void p_EMG </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>GUI-site function, all functions with the beginning p_ represent a site of the GUI menu. </p>

<p class="definition">Definition at line <a class="el" href="display_8c_source.html#l04346">4346</a> of file <a class="el" href="display_8c_source.html">display.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4346</span>                 {</div>
<div class="line"><span class="lineno"> 4347</span> </div>
<div class="line"><span class="lineno"> 4348</span>    <span class="comment">// Header line</span></div>
<div class="line"><span class="lineno"> 4349</span>    <span class="keywordtype">char</span> headerstring_emg[] = <span class="stringliteral">&quot;EMG&quot;</span>;</div>
<div class="line"><span class="lineno"> 4350</span>    Paint_DrawStringAt(&amp;paint, 1, CASE0, headerstring_emg, &amp;Font16, COLORED);</div>
<div class="line"><span class="lineno"> 4351</span>    <span class="keywordtype">char</span> headerstring_ecg[] = <span class="stringliteral">&quot;ECG&quot;</span>;</div>
<div class="line"><span class="lineno"> 4352</span>    Paint_DrawStringAt(&amp;paint, 1, CASE7, headerstring_ecg, &amp;Font16, COLORED);</div>
<div class="line"><span class="lineno"> 4353</span> </div>
<div class="line"><span class="lineno"> 4354</span>    <span class="keywordtype">char</span> str_1[] = <span class="stringliteral">&quot;Amplitude Thresh&quot;</span>;</div>
<div class="line"><span class="lineno"> 4355</span>    <span class="keywordtype">char</span> str_2[] = <span class="stringliteral">&quot;Peak Debouncing&quot;</span>;</div>
<div class="line"><span class="lineno"> 4356</span>    <span class="keywordtype">char</span> str_3[] = <span class="stringliteral">&quot;Play Sample ON/OFF&quot;</span>;</div>
<div class="line"><span class="lineno"> 4357</span>    <span class="keywordtype">char</span> str_4[] = <span class="stringliteral">&quot;Choose kit&quot;</span>;</div>
<div class="line"><span class="lineno"> 4358</span>    <span class="keywordtype">char</span> str_5[] = <span class="stringliteral">&quot;Choose sample&quot;</span>;</div>
<div class="line"><span class="lineno"> 4359</span>    <span class="keywordtype">char</span> str_6[] = <span class="stringliteral">&quot;Amplitude Thresh&quot;</span>;</div>
<div class="line"><span class="lineno"> 4360</span>    <span class="keywordtype">char</span> str_7[] = <span class="stringliteral">&quot;Peak Debouncing&quot;</span>;</div>
<div class="line"><span class="lineno"> 4361</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE1, str_1, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 4362</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE2, str_2, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 4363</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE3, str_3, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 4364</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE4, str_4, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 4365</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE5, str_5, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 4366</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE8, str_6, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 4367</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE9, str_7, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 4368</span>    <span class="comment">// As big as the number of parameters</span></div>
<div class="line"><span class="lineno"> 4369</span>    Display.max_parameter = 9;</div>
<div class="line"><span class="lineno"> 4370</span> </div>
<div class="line"><span class="lineno"> 4371</span>    <span class="keywordtype">float</span> potVal = (float)Display.ADC2inputs[2]/(<span class="keywordtype">float</span>)Display.ADC_FullRange * 100;</div>
<div class="line"><span class="lineno"> 4372</span> </div>
<div class="line"><span class="lineno"> 4373</span>    <span class="keywordflow">if</span>(Display.poti_moved == <span class="keyword">true</span>) {</div>
<div class="line"><span class="lineno"> 4374</span> </div>
<div class="line"><span class="lineno"> 4375</span>        <span class="keywordflow">switch</span>(Display.JoystickParameterPosition) {</div>
<div class="line"><span class="lineno"> 4376</span>        <span class="keywordflow">case</span> 1:</div>
<div class="line"><span class="lineno"> 4377</span>            emg_detectionThreshold = (((float)Display.ADC2inputs[2]/(<span class="keywordtype">float</span>)Display.ADC_FullRange) * (<span class="keywordtype">float</span>)emg_maxDetectionThreshold);</div>
<div class="line"><span class="lineno"> 4378</span>            Display.EMG_detectionThreshold = ((float)emg_detectionThreshold/(<span class="keywordtype">float</span>)Display.ADC_FullRange) * 3.3;    <span class="comment">// map to volts</span></div>
<div class="line"><span class="lineno"> 4379</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4380</span>        <span class="keywordflow">case</span> 2:</div>
<div class="line"><span class="lineno"> 4381</span>            emg_toggleThreshold = (uint32_t)(((<span class="keywordtype">float</span>)Display.ADC2inputs[2]/(float)Display.ADC_FullRange) * (float)emg_maxToggleThreshold);</div>
<div class="line"><span class="lineno"> 4382</span>            Display.EMG_toggleThreshold = ((float)emg_toggleThreshold/(<span class="keywordtype">float</span>)EMG_SR) * 1000;    <span class="comment">// map to time in milliseconds</span></div>
<div class="line"><span class="lineno"> 4383</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4384</span>        <span class="keywordflow">case</span> 3:</div>
<div class="line"><span class="lineno"> 4385</span>            <span class="keywordflow">if</span>(potVal &lt; 50) {</div>
<div class="line"><span class="lineno"> 4386</span>                Display.PlaySingleSample_ONOFF = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 4387</span>                strcpy(Display.value_str_emg[2], <span class="stringliteral">&quot;OFF&quot;</span>);</div>
<div class="line"><span class="lineno"> 4388</span>            }</div>
<div class="line"><span class="lineno"> 4389</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span>(potVal &gt;= 50) {</div>
<div class="line"><span class="lineno"> 4390</span>                Display.PlaySingleSample_ONOFF = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 4391</span>                strcpy(Display.value_str_emg[2], <span class="stringliteral">&quot;ON&quot;</span>);</div>
<div class="line"><span class="lineno"> 4392</span>            }</div>
<div class="line"><span class="lineno"> 4393</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4394</span>        <span class="keywordflow">case</span> 4:</div>
<div class="line"><span class="lineno"> 4395</span>            <span class="comment">// Choose Single Sample Kit</span></div>
<div class="line"><span class="lineno"> 4396</span>            <span class="keywordflow">if</span>(potVal &lt;= 25){</div>
<div class="line"><span class="lineno"> 4397</span>                strcpy(Display.value_str_emg[3], <span class="stringliteral">&quot;909&quot;</span>);</div>
<div class="line"><span class="lineno"> 4398</span>                Display.SingleSampleKit = 0;</div>
<div class="line"><span class="lineno"> 4399</span>            }</div>
<div class="line"><span class="lineno"> 4400</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span>((potVal &gt; 25) &amp;&amp; (potVal &lt;= 50)){</div>
<div class="line"><span class="lineno"> 4401</span>                strcpy(Display.value_str_emg[3], <span class="stringliteral">&quot;Rock loud&quot;</span>);</div>
<div class="line"><span class="lineno"> 4402</span>                Display.SingleSampleKit = 1;</div>
<div class="line"><span class="lineno"> 4403</span>            }</div>
<div class="line"><span class="lineno"> 4404</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span>((potVal&gt;50) &amp;&amp; (potVal &lt;= 75)){</div>
<div class="line"><span class="lineno"> 4405</span>                strcpy(Display.value_str_emg[3], <span class="stringliteral">&quot;Rock&quot;</span>);</div>
<div class="line"><span class="lineno"> 4406</span>                Display.SingleSampleKit = 2;</div>
<div class="line"><span class="lineno"> 4407</span>            }</div>
<div class="line"><span class="lineno"> 4408</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span>(potVal &gt; 75){</div>
<div class="line"><span class="lineno"> 4409</span>                strcpy(Display.value_str_emg[3], <span class="stringliteral">&quot;Windows&quot;</span>);</div>
<div class="line"><span class="lineno"> 4410</span>                Display.SingleSampleKit = 3;</div>
<div class="line"><span class="lineno"> 4411</span>            }</div>
<div class="line"><span class="lineno"> 4412</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4413</span>        <span class="keywordflow">case</span> 5:</div>
<div class="line"><span class="lineno"> 4414</span>            <span class="comment">// Choose Single Sample from Kit</span></div>
<div class="line"><span class="lineno"> 4415</span>            <span class="keywordflow">if</span>(Display.SingleSampleKit == 0) {  <span class="comment">// 909</span></div>
<div class="line"><span class="lineno"> 4416</span> </div>
<div class="line"><span class="lineno"> 4417</span>                <span class="keywordflow">if</span>(potVal &lt;= 25){</div>
<div class="line"><span class="lineno"> 4418</span>                    strcpy(Display.value_str_emg[4], <span class="stringliteral">&quot;Kick&quot;</span>);</div>
<div class="line"><span class="lineno"> 4419</span>                    Display.SingleSample = 0;</div>
<div class="line"><span class="lineno"> 4420</span>                }</div>
<div class="line"><span class="lineno"> 4421</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span>((potVal &gt; 25) &amp;&amp; (potVal &lt;= 50)){</div>
<div class="line"><span class="lineno"> 4422</span>                    strcpy(Display.value_str_emg[4], <span class="stringliteral">&quot;Op. HH&quot;</span>);</div>
<div class="line"><span class="lineno"> 4423</span>                    Display.SingleSample = 1;</div>
<div class="line"><span class="lineno"> 4424</span>                }</div>
<div class="line"><span class="lineno"> 4425</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span>((potVal&gt;50) &amp;&amp; (potVal &lt;= 75)){</div>
<div class="line"><span class="lineno"> 4426</span>                    strcpy(Display.value_str_emg[4], <span class="stringliteral">&quot;Clap&quot;</span>);</div>
<div class="line"><span class="lineno"> 4427</span>                    Display.SingleSample = 2;</div>
<div class="line"><span class="lineno"> 4428</span>                }</div>
<div class="line"><span class="lineno"> 4429</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span>(potVal &gt; 75){</div>
<div class="line"><span class="lineno"> 4430</span>                    strcpy(Display.value_str_emg[4], <span class="stringliteral">&quot;L. Tom&quot;</span>);</div>
<div class="line"><span class="lineno"> 4431</span>                    Display.SingleSample = 3;</div>
<div class="line"><span class="lineno"> 4432</span>                }</div>
<div class="line"><span class="lineno"> 4433</span>            }</div>
<div class="line"><span class="lineno"> 4434</span> </div>
<div class="line"><span class="lineno"> 4435</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span>(Display.SingleSampleKit == 1) { <span class="comment">// Rock loud</span></div>
<div class="line"><span class="lineno"> 4436</span> </div>
<div class="line"><span class="lineno"> 4437</span>                <span class="keywordflow">if</span>(potVal &lt;= 25){</div>
<div class="line"><span class="lineno"> 4438</span>                    strcpy(Display.value_str_emg[4], <span class="stringliteral">&quot;Kick&quot;</span>);</div>
<div class="line"><span class="lineno"> 4439</span>                    Display.SingleSample = 0;</div>
<div class="line"><span class="lineno"> 4440</span>                }</div>
<div class="line"><span class="lineno"> 4441</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span>((potVal &gt; 25) &amp;&amp; (potVal &lt;= 50)){</div>
<div class="line"><span class="lineno"> 4442</span>                    strcpy(Display.value_str_emg[4], <span class="stringliteral">&quot;Hihat&quot;</span>);</div>
<div class="line"><span class="lineno"> 4443</span>                    Display.SingleSample = 1;</div>
<div class="line"><span class="lineno"> 4444</span>                }</div>
<div class="line"><span class="lineno"> 4445</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span>((potVal&gt;50) &amp;&amp; (potVal &lt;= 75)){</div>
<div class="line"><span class="lineno"> 4446</span>                    strcpy(Display.value_str_emg[4], <span class="stringliteral">&quot;Snare&quot;</span>);</div>
<div class="line"><span class="lineno"> 4447</span>                    Display.SingleSample = 2;</div>
<div class="line"><span class="lineno"> 4448</span>                }</div>
<div class="line"><span class="lineno"> 4449</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span>(potVal &gt; 75){</div>
<div class="line"><span class="lineno"> 4450</span>                    strcpy(Display.value_str_emg[4], <span class="stringliteral">&quot;Ride&quot;</span>);</div>
<div class="line"><span class="lineno"> 4451</span>                    Display.SingleSample = 3;</div>
<div class="line"><span class="lineno"> 4452</span>                }</div>
<div class="line"><span class="lineno"> 4453</span>            }</div>
<div class="line"><span class="lineno"> 4454</span> </div>
<div class="line"><span class="lineno"> 4455</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span>(Display.SingleSampleKit == 2) { <span class="comment">// Rock</span></div>
<div class="line"><span class="lineno"> 4456</span> </div>
<div class="line"><span class="lineno"> 4457</span>                <span class="keywordflow">if</span>(potVal &lt;= 25){</div>
<div class="line"><span class="lineno"> 4458</span>                    strcpy(Display.value_str_emg[4], <span class="stringliteral">&quot;Kick&quot;</span>);</div>
<div class="line"><span class="lineno"> 4459</span>                    Display.SingleSample = 0;</div>
<div class="line"><span class="lineno"> 4460</span>                }</div>
<div class="line"><span class="lineno"> 4461</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span>((potVal &gt; 25) &amp;&amp; (potVal &lt;= 50)){</div>
<div class="line"><span class="lineno"> 4462</span>                    strcpy(Display.value_str_emg[4], <span class="stringliteral">&quot;Hihat&quot;</span>);</div>
<div class="line"><span class="lineno"> 4463</span>                    Display.SingleSample = 1;</div>
<div class="line"><span class="lineno"> 4464</span>                }</div>
<div class="line"><span class="lineno"> 4465</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span>((potVal&gt;50) &amp;&amp; (potVal &lt;= 75)){</div>
<div class="line"><span class="lineno"> 4466</span>                    strcpy(Display.value_str_emg[4], <span class="stringliteral">&quot;Snare&quot;</span>);</div>
<div class="line"><span class="lineno"> 4467</span>                    Display.SingleSample = 2;</div>
<div class="line"><span class="lineno"> 4468</span>                }</div>
<div class="line"><span class="lineno"> 4469</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span>(potVal &gt; 75){</div>
<div class="line"><span class="lineno"> 4470</span>                    strcpy(Display.value_str_emg[4], <span class="stringliteral">&quot;Ride&quot;</span>);</div>
<div class="line"><span class="lineno"> 4471</span>                    Display.SingleSample = 3;</div>
<div class="line"><span class="lineno"> 4472</span>                }</div>
<div class="line"><span class="lineno"> 4473</span>            }</div>
<div class="line"><span class="lineno"> 4474</span> </div>
<div class="line"><span class="lineno"> 4475</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span>(Display.SingleSampleKit == 3) { <span class="comment">// Windows</span></div>
<div class="line"><span class="lineno"> 4476</span> </div>
<div class="line"><span class="lineno"> 4477</span>                <span class="keywordflow">if</span>(potVal &lt;= 25){</div>
<div class="line"><span class="lineno"> 4478</span>                    strcpy(Display.value_str_emg[4], <span class="stringliteral">&quot;Chord&quot;</span>);</div>
<div class="line"><span class="lineno"> 4479</span>                    Display.SingleSample = 0;</div>
<div class="line"><span class="lineno"> 4480</span>                }</div>
<div class="line"><span class="lineno"> 4481</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span>((potVal &gt; 25) &amp;&amp; (potVal &lt;= 50)){</div>
<div class="line"><span class="lineno"> 4482</span>                    strcpy(Display.value_str_emg[4], <span class="stringliteral">&quot;Trash&quot;</span>);</div>
<div class="line"><span class="lineno"> 4483</span>                    Display.SingleSample = 1;</div>
<div class="line"><span class="lineno"> 4484</span>                }</div>
<div class="line"><span class="lineno"> 4485</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span>((potVal&gt;50) &amp;&amp; (potVal &lt;= 75)){</div>
<div class="line"><span class="lineno"> 4486</span>                    strcpy(Display.value_str_emg[4], <span class="stringliteral">&quot;Remove&quot;</span>);</div>
<div class="line"><span class="lineno"> 4487</span>                    Display.SingleSample = 2;</div>
<div class="line"><span class="lineno"> 4488</span>                }</div>
<div class="line"><span class="lineno"> 4489</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span>(potVal &gt; 75){</div>
<div class="line"><span class="lineno"> 4490</span>                    strcpy(Display.value_str_emg[4], <span class="stringliteral">&quot;Back&quot;</span>);</div>
<div class="line"><span class="lineno"> 4491</span>                    Display.SingleSample = 3;</div>
<div class="line"><span class="lineno"> 4492</span>                }</div>
<div class="line"><span class="lineno"> 4493</span>            }</div>
<div class="line"><span class="lineno"> 4494</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4495</span>        <span class="keywordflow">case</span> 8:</div>
<div class="line"><span class="lineno"> 4496</span>            ecg_detectionThreshold = (((float)Display.ADC2inputs[2]/(<span class="keywordtype">float</span>)Display.ADC_FullRange) * (<span class="keywordtype">float</span>)ecg_maxDetectionThreshold);</div>
<div class="line"><span class="lineno"> 4497</span>            Display.ECG_detectionThreshold = ((float)ecg_detectionThreshold/(<span class="keywordtype">float</span>)Display.ADC_FullRange) * 3.3;    <span class="comment">// map to volts</span></div>
<div class="line"><span class="lineno"> 4498</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4499</span>        <span class="keywordflow">case</span> 9:</div>
<div class="line"><span class="lineno"> 4500</span>            ecg_toggleThreshold = (uint32_t)(((<span class="keywordtype">float</span>)Display.ADC2inputs[2]/(float)Display.ADC_FullRange) * (float)ecg_maxToggleThreshold);</div>
<div class="line"><span class="lineno"> 4501</span>            Display.ECG_toggleThreshold = ((float)ecg_toggleThreshold/(<span class="keywordtype">float</span>)EMG_SR) * 1000;</div>
<div class="line"><span class="lineno"> 4502</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4503</span>        }</div>
<div class="line"><span class="lineno"> 4504</span>    }</div>
<div class="line"><span class="lineno"> 4505</span> </div>
<div class="line"><span class="lineno"> 4506</span>    Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position, CASE1, Display.value_end_x_position, CASE1+VALUE_ROW_LENGTH , UNCOLORED);</div>
<div class="line"><span class="lineno"> 4507</span>    Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position, CASE2, Display.value_end_x_position, CASE2+VALUE_ROW_LENGTH, UNCOLORED);</div>
<div class="line"><span class="lineno"> 4508</span>    Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position, CASE3, Display.value_end_x_position, CASE3+VALUE_ROW_LENGTH, UNCOLORED);</div>
<div class="line"><span class="lineno"> 4509</span>    Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position-35, CASE4, Display.value_end_x_position, CASE4+VALUE_ROW_LENGTH, UNCOLORED);</div>
<div class="line"><span class="lineno"> 4510</span>    Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position-35, CASE5, Display.value_end_x_position, CASE5+VALUE_ROW_LENGTH, UNCOLORED);</div>
<div class="line"><span class="lineno"> 4511</span>    Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position, CASE8, Display.value_end_x_position, CASE8+VALUE_ROW_LENGTH , UNCOLORED);</div>
<div class="line"><span class="lineno"> 4512</span>    Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position, CASE9, Display.value_end_x_position, CASE9+VALUE_ROW_LENGTH, UNCOLORED);</div>
<div class="line"><span class="lineno"> 4513</span>    sprintf(Display.value_str_emg[0], <span class="stringliteral">&quot;%.2f&quot;</span>, Display.EMG_detectionThreshold);</div>
<div class="line"><span class="lineno"> 4514</span>    sprintf(Display.value_str_emg[1], <span class="stringliteral">&quot;%.0f&quot;</span>, Display.EMG_toggleThreshold);</div>
<div class="line"><span class="lineno"> 4515</span>    sprintf(Display.value_str_ecg[0], <span class="stringliteral">&quot;%.2f&quot;</span>, Display.ECG_detectionThreshold);</div>
<div class="line"><span class="lineno"> 4516</span>    sprintf(Display.value_str_ecg[1], <span class="stringliteral">&quot;%.0f&quot;</span>, Display.ECG_toggleThreshold);</div>
<div class="line"><span class="lineno"> 4517</span>    <span class="comment">// Print value row</span></div>
<div class="line"><span class="lineno"> 4518</span>    Paint_DrawStringAt(&amp;paint, Display.value_start_x_position, CASE1, Display.value_str_emg[0], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 4519</span>    Paint_DrawStringAt(&amp;paint, Display.value_start_x_position, CASE2, Display.value_str_emg[1], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 4520</span>    Paint_DrawStringAt(&amp;paint, Display.value_start_x_position, CASE3, Display.value_str_emg[2], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 4521</span>    Paint_DrawStringAt(&amp;paint, Display.value_start_x_position-35, CASE4, Display.value_str_emg[3], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 4522</span>    Paint_DrawStringAt(&amp;paint, Display.value_start_x_position-35, CASE5, Display.value_str_emg[4], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 4523</span>    Paint_DrawStringAt(&amp;paint, Display.value_start_x_position, CASE8, Display.value_str_ecg[0], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 4524</span>    Paint_DrawStringAt(&amp;paint, Display.value_start_x_position, CASE9, Display.value_str_ecg[1], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 4525</span> </div>
<div class="line"><span class="lineno"> 4526</span>    <span class="comment">// Load Single Sample from SD Card</span></div>
<div class="line"><span class="lineno"> 4527</span>    <span class="keywordflow">if</span>(Display.LoadDrumkit == <span class="keyword">true</span>) {</div>
<div class="line"><span class="lineno"> 4528</span> </div>
<div class="line"><span class="lineno"> 4529</span>        <span class="comment">// Reset single sample variables when a new sample is loaded</span></div>
<div class="line"><span class="lineno"> 4530</span>        <span class="comment">// INIT: Sound bins</span></div>
<div class="line"><span class="lineno"> 4531</span>        PSSs = 0;</div>
<div class="line"><span class="lineno"> 4532</span> </div>
<div class="line"><span class="lineno"> 4533</span>        counter_single_sample = 0;</div>
<div class="line"><span class="lineno"> 4534</span>        play_single_sample_flag = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 4535</span>        <a class="code hl_function" href="group__DisplayPage.html#gadf582a2e8ef7f900542820189b94f22d">Display_LoadSingleSample</a>(Display.SingleSample, Display.SingleSampleKit);</div>
<div class="line"><span class="lineno"> 4536</span> </div>
<div class="line"><span class="lineno"> 4537</span>        <span class="comment">// Reset Drummachine to avoid plop</span></div>
<div class="line"><span class="lineno"> 4538</span>        <a class="code hl_variable" href="group__DrumComputer.html#ga1d0ce949a258b04a5822d3442fd73d83">DS1s</a> = 0;</div>
<div class="line"><span class="lineno"> 4539</span>        DS2s = 0;</div>
<div class="line"><span class="lineno"> 4540</span>        DS3s = 0;</div>
<div class="line"><span class="lineno"> 4541</span>        DS4s = 0;</div>
<div class="line"><span class="lineno"> 4542</span>        drums = 0;</div>
<div class="line"><span class="lineno"> 4543</span> </div>
<div class="line"><span class="lineno"> 4544</span>        <span class="comment">// Drums: Index</span></div>
<div class="line"><span class="lineno"> 4545</span>        <a class="code hl_variable" href="group__DrumComputer.html#gad32e19a8282780d0a134ec07797ac10b">drum_index</a> = 0;</div>
<div class="line"><span class="lineno"> 4546</span>        <a class="code hl_variable" href="group__DrumComputer.html#ga148d70203e23260f999890046d5509b0">counter_master</a> = 0;</div>
<div class="line"><span class="lineno"> 4547</span> </div>
<div class="line"><span class="lineno"> 4548</span>        <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;<a class="code hl_define" href="group__DrumComputer.html#ga267b06d60a7514d898b5cac91b4380ec">FourFour</a>; i++) {</div>
<div class="line"><span class="lineno"> 4549</span>            counter_DS1[i] = 0;</div>
<div class="line"><span class="lineno"> 4550</span>            <a class="code hl_variable" href="group__DrumComputer.html#ga88744615d25a485f31d6718453e6d324">flag_DS1</a>[i]    = 0;</div>
<div class="line"><span class="lineno"> 4551</span>            counter_DS2[i] = 0;</div>
<div class="line"><span class="lineno"> 4552</span>            flag_DS2[i]    = 0;</div>
<div class="line"><span class="lineno"> 4553</span>            counter_DS3[i] = 0;</div>
<div class="line"><span class="lineno"> 4554</span>            flag_DS3[i]    = 0;</div>
<div class="line"><span class="lineno"> 4555</span>            counter_DS4[i] = 0;</div>
<div class="line"><span class="lineno"> 4556</span>            flag_DS4[i]    = 0;</div>
<div class="line"><span class="lineno"> 4557</span>        }</div>
<div class="line"><span class="lineno"> 4558</span> </div>
<div class="line"><span class="lineno"> 4559</span>        Display.LoadDrumkit = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 4560</span>        Display.UpdateDisplay = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 4561</span>    }</div>
<div class="line"><span class="lineno"> 4562</span>}</div>
<div class="ttc" id="agroup__DisplayPage_html_gadf582a2e8ef7f900542820189b94f22d"><div class="ttname"><a href="group__DisplayPage.html#gadf582a2e8ef7f900542820189b94f22d">Display_LoadSingleSample</a></div><div class="ttdeci">Display_Status Display_LoadSingleSample(uint8_t SampleNUM, uint8_t KitNUM)</div><div class="ttdoc">This function loads the single sample, which is e.g. triggered by the emg-sensor from the sd card.</div><div class="ttdef"><b>Definition:</b> <a href="display_8c_source.html#l01259">display.c:1259</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga98cc1f263ddc00ac8fbf80266616ce1c" name="ga98cc1f263ddc00ac8fbf80266616ce1c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga98cc1f263ddc00ac8fbf80266616ce1c">&#9670;&nbsp;</a></span>p_Equalizer_overview()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void p_Equalizer_overview </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>this function edits the ON/OFF settings of the Equalizer, the parameters and sources have to be edited on another page or you can switch to the next effect </p>

<p class="definition">Definition at line <a class="el" href="display_8c_source.html#l03554">3554</a> of file <a class="el" href="display_8c_source.html">display.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3554</span>                                {</div>
<div class="line"><span class="lineno"> 3555</span> </div>
<div class="line"><span class="lineno"> 3556</span>    <span class="comment">// Header line</span></div>
<div class="line"><span class="lineno"> 3557</span>    <span class="keywordtype">char</span> headerstring[] = <span class="stringliteral">&quot;EQUALIZER&quot;</span>;</div>
<div class="line"><span class="lineno"> 3558</span>    Paint_DrawStringAt(&amp;paint, 1, CASE0, headerstring, &amp;Font16, COLORED);</div>
<div class="line"><span class="lineno"> 3559</span> </div>
<div class="line"><span class="lineno"> 3560</span>    <span class="keywordtype">char</span> str_1[] = <span class="stringliteral">&quot;Next effect&quot;</span>;</div>
<div class="line"><span class="lineno"> 3561</span>    <span class="keywordtype">char</span> str_2[] = <span class="stringliteral">&quot;Band 1&quot;</span>;</div>
<div class="line"><span class="lineno"> 3562</span>    <span class="keywordtype">char</span> str_3[] = <span class="stringliteral">&quot;Band 2&quot;</span>;</div>
<div class="line"><span class="lineno"> 3563</span>    <span class="keywordtype">char</span> str_4[] = <span class="stringliteral">&quot;Band 3&quot;</span>;</div>
<div class="line"><span class="lineno"> 3564</span>    <span class="keywordtype">char</span> str_5[] = <span class="stringliteral">&quot;Band 4&quot;</span>;</div>
<div class="line"><span class="lineno"> 3565</span>    <span class="keywordtype">char</span> str_6[] = <span class="stringliteral">&quot;Band 5&quot;</span>;</div>
<div class="line"><span class="lineno"> 3566</span>    <span class="keywordtype">char</span> str_7[] = <span class="stringliteral">&quot;EQ Reset&quot;</span>;</div>
<div class="line"><span class="lineno"> 3567</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE1, str_1, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 3568</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE2, str_2, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 3569</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE3, str_3, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 3570</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE4, str_4, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 3571</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE5, str_5, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 3572</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE6, str_6, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 3573</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE7, str_7, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 3574</span> </div>
<div class="line"><span class="lineno"> 3575</span>    <span class="comment">// As big as the number of parameters</span></div>
<div class="line"><span class="lineno"> 3576</span>    Display.max_parameter = 7;</div>
<div class="line"><span class="lineno"> 3577</span> </div>
<div class="line"><span class="lineno"> 3578</span>    <span class="comment">// Potentiometer Input in %</span></div>
<div class="line"><span class="lineno"> 3579</span>    <span class="keywordtype">float</span> potVal = (float)Display.ADC2inputs[2]/(<span class="keywordtype">float</span>)Display.ADC_FullRange * 100;</div>
<div class="line"><span class="lineno"> 3580</span> </div>
<div class="line"><span class="lineno"> 3581</span>    <span class="keywordflow">switch</span>(Display.JoystickParameterPosition) {</div>
<div class="line"><span class="lineno"> 3582</span>    <span class="keywordflow">case</span> 1:</div>
<div class="line"><span class="lineno"> 3583</span>        <span class="comment">// Next Effect</span></div>
<div class="line"><span class="lineno"> 3584</span>        Display.currentBand = 0;</div>
<div class="line"><span class="lineno"> 3585</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3586</span>    <span class="keywordflow">case</span> 2:</div>
<div class="line"><span class="lineno"> 3587</span>        <span class="comment">// Band 1 ON/OFF</span></div>
<div class="line"><span class="lineno"> 3588</span>        Display.currentBand = 1;</div>
<div class="line"><span class="lineno"> 3589</span> </div>
<div class="line"><span class="lineno"> 3590</span>        <span class="keywordflow">if</span>(Display.poti_moved == <span class="keyword">true</span>) {</div>
<div class="line"><span class="lineno"> 3591</span> </div>
<div class="line"><span class="lineno"> 3592</span>            <span class="keywordflow">if</span>(potVal &lt; 50) {   <span class="comment">// smaller than 50 %</span></div>
<div class="line"><span class="lineno"> 3593</span>                Display.Filter_ONOFF[Display.currentBand-1] = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3594</span>                strcpy(Display.value_str_equalizer_overview[0], <span class="stringliteral">&quot;OFF&quot;</span>);</div>
<div class="line"><span class="lineno"> 3595</span>            }</div>
<div class="line"><span class="lineno"> 3596</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span>(potVal &gt;= 50) { <span class="comment">// greater than 50 %</span></div>
<div class="line"><span class="lineno"> 3597</span>                Display.Filter_ONOFF[Display.currentBand-1] = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3598</span>                strcpy(Display.value_str_equalizer_overview[0], <span class="stringliteral">&quot;ON&quot;</span>);</div>
<div class="line"><span class="lineno"> 3599</span>            }</div>
<div class="line"><span class="lineno"> 3600</span>        }</div>
<div class="line"><span class="lineno"> 3601</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3602</span>    <span class="keywordflow">case</span> 3:</div>
<div class="line"><span class="lineno"> 3603</span>        <span class="comment">// Band 2 ON/OFF</span></div>
<div class="line"><span class="lineno"> 3604</span>        Display.currentBand = 2;</div>
<div class="line"><span class="lineno"> 3605</span> </div>
<div class="line"><span class="lineno"> 3606</span>        <span class="keywordflow">if</span>(Display.poti_moved == <span class="keyword">true</span>) {</div>
<div class="line"><span class="lineno"> 3607</span> </div>
<div class="line"><span class="lineno"> 3608</span>            <span class="keywordflow">if</span>(potVal &lt; 50) {   <span class="comment">// smaller than 50 %</span></div>
<div class="line"><span class="lineno"> 3609</span>                Display.Filter_ONOFF[Display.currentBand-1] = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3610</span>                strcpy(Display.value_str_equalizer_overview[1], <span class="stringliteral">&quot;OFF&quot;</span>);</div>
<div class="line"><span class="lineno"> 3611</span>            }</div>
<div class="line"><span class="lineno"> 3612</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span>(potVal &gt;= 50) { <span class="comment">// greater than 50 %</span></div>
<div class="line"><span class="lineno"> 3613</span>                Display.Filter_ONOFF[Display.currentBand-1] = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3614</span>                strcpy(Display.value_str_equalizer_overview[1], <span class="stringliteral">&quot;ON&quot;</span>);</div>
<div class="line"><span class="lineno"> 3615</span>            }</div>
<div class="line"><span class="lineno"> 3616</span>        }</div>
<div class="line"><span class="lineno"> 3617</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3618</span>    <span class="keywordflow">case</span> 4:</div>
<div class="line"><span class="lineno"> 3619</span>        <span class="comment">// Band 3 ON/OFF</span></div>
<div class="line"><span class="lineno"> 3620</span>        Display.currentBand = 3;</div>
<div class="line"><span class="lineno"> 3621</span> </div>
<div class="line"><span class="lineno"> 3622</span>        <span class="keywordflow">if</span>(Display.poti_moved == <span class="keyword">true</span>) {</div>
<div class="line"><span class="lineno"> 3623</span> </div>
<div class="line"><span class="lineno"> 3624</span>            <span class="keywordflow">if</span>(potVal &lt; 50) {   <span class="comment">// smaller than 50 %</span></div>
<div class="line"><span class="lineno"> 3625</span>                Display.Filter_ONOFF[Display.currentBand-1] = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3626</span>                strcpy(Display.value_str_equalizer_overview[2], <span class="stringliteral">&quot;OFF&quot;</span>);</div>
<div class="line"><span class="lineno"> 3627</span>            }</div>
<div class="line"><span class="lineno"> 3628</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span>(potVal &gt;= 50) { <span class="comment">// greater than 50 %</span></div>
<div class="line"><span class="lineno"> 3629</span>                Display.Filter_ONOFF[Display.currentBand-1] = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3630</span>                strcpy(Display.value_str_equalizer_overview[2], <span class="stringliteral">&quot;ON&quot;</span>);</div>
<div class="line"><span class="lineno"> 3631</span>            }</div>
<div class="line"><span class="lineno"> 3632</span>        }</div>
<div class="line"><span class="lineno"> 3633</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3634</span>    <span class="keywordflow">case</span> 5:</div>
<div class="line"><span class="lineno"> 3635</span>        <span class="comment">// Band 4 ON/OFF</span></div>
<div class="line"><span class="lineno"> 3636</span>        Display.currentBand = 4;</div>
<div class="line"><span class="lineno"> 3637</span> </div>
<div class="line"><span class="lineno"> 3638</span>        <span class="keywordflow">if</span>(Display.poti_moved == <span class="keyword">true</span>) {</div>
<div class="line"><span class="lineno"> 3639</span> </div>
<div class="line"><span class="lineno"> 3640</span>            <span class="keywordflow">if</span>(potVal &lt; 50) {   <span class="comment">// smaller than 50 %</span></div>
<div class="line"><span class="lineno"> 3641</span>                Display.Filter_ONOFF[Display.currentBand-1] = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3642</span>                strcpy(Display.value_str_equalizer_overview[3], <span class="stringliteral">&quot;OFF&quot;</span>);</div>
<div class="line"><span class="lineno"> 3643</span>            }</div>
<div class="line"><span class="lineno"> 3644</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span>(potVal &gt;= 50) { <span class="comment">// greater than 50 %</span></div>
<div class="line"><span class="lineno"> 3645</span>                Display.Filter_ONOFF[Display.currentBand-1] = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3646</span>                strcpy(Display.value_str_equalizer_overview[3], <span class="stringliteral">&quot;ON&quot;</span>);</div>
<div class="line"><span class="lineno"> 3647</span>            }</div>
<div class="line"><span class="lineno"> 3648</span>        }</div>
<div class="line"><span class="lineno"> 3649</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3650</span>    <span class="keywordflow">case</span> 6:</div>
<div class="line"><span class="lineno"> 3651</span>        <span class="comment">// Band 5 ON/OFF</span></div>
<div class="line"><span class="lineno"> 3652</span>        Display.currentBand = 5;</div>
<div class="line"><span class="lineno"> 3653</span> </div>
<div class="line"><span class="lineno"> 3654</span>        <span class="keywordflow">if</span>(Display.poti_moved == <span class="keyword">true</span>) {</div>
<div class="line"><span class="lineno"> 3655</span> </div>
<div class="line"><span class="lineno"> 3656</span>            <span class="keywordflow">if</span>(potVal &lt; 50) {   <span class="comment">// smaller than 50 %</span></div>
<div class="line"><span class="lineno"> 3657</span>                Display.Filter_ONOFF[Display.currentBand-1] = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3658</span>                strcpy(Display.value_str_equalizer_overview[4], <span class="stringliteral">&quot;OFF&quot;</span>);</div>
<div class="line"><span class="lineno"> 3659</span>            }</div>
<div class="line"><span class="lineno"> 3660</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span>(potVal &gt;= 50) { <span class="comment">// greater than 50 %</span></div>
<div class="line"><span class="lineno"> 3661</span>                Display.Filter_ONOFF[Display.currentBand-1] = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3662</span>                strcpy(Display.value_str_equalizer_overview[4], <span class="stringliteral">&quot;ON&quot;</span>);</div>
<div class="line"><span class="lineno"> 3663</span>            }</div>
<div class="line"><span class="lineno"> 3664</span>        }</div>
<div class="line"><span class="lineno"> 3665</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3666</span>    <span class="keywordflow">case</span> 7:</div>
<div class="line"><span class="lineno"> 3667</span>        <span class="comment">// Equalizer Reset</span></div>
<div class="line"><span class="lineno"> 3668</span>        Display.currentBand = 6;</div>
<div class="line"><span class="lineno"> 3669</span> </div>
<div class="line"><span class="lineno"> 3670</span>        <span class="keywordflow">if</span>(Display.Reset == <span class="keyword">true</span>) {</div>
<div class="line"><span class="lineno"> 3671</span>            <a class="code hl_function" href="group__Filters.html#gab23086039f9e38c9538b24412c2e397d">Equalizer_Reset</a>();</div>
<div class="line"><span class="lineno"> 3672</span>            Display.Reset = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3673</span>            strcpy(Display.value_str_equalizer_overview[5], <span class="stringliteral">&quot;done&quot;</span>);</div>
<div class="line"><span class="lineno"> 3674</span>        }</div>
<div class="line"><span class="lineno"> 3675</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(Display.Reset == <span class="keyword">false</span>)</div>
<div class="line"><span class="lineno"> 3676</span>            strcpy(Display.value_str_equalizer_overview[5], <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><span class="lineno"> 3677</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3678</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 3679</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3680</span>    }</div>
<div class="line"><span class="lineno"> 3681</span> </div>
<div class="line"><span class="lineno"> 3682</span>    Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position, CASE2, Display.value_end_x_position, CASE2+VALUE_ROW_LENGTH, UNCOLORED);</div>
<div class="line"><span class="lineno"> 3683</span>    Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position, CASE3, Display.value_end_x_position, CASE3+VALUE_ROW_LENGTH, UNCOLORED);</div>
<div class="line"><span class="lineno"> 3684</span>    Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position, CASE4, Display.value_end_x_position, CASE4+VALUE_ROW_LENGTH, UNCOLORED);</div>
<div class="line"><span class="lineno"> 3685</span>    Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position, CASE5, Display.value_end_x_position, CASE5+VALUE_ROW_LENGTH, UNCOLORED);</div>
<div class="line"><span class="lineno"> 3686</span>    Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position, CASE6, Display.value_end_x_position, CASE6+VALUE_ROW_LENGTH, UNCOLORED);</div>
<div class="line"><span class="lineno"> 3687</span>    Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position, CASE7, Display.value_end_x_position, CASE7+VALUE_ROW_LENGTH, UNCOLORED);</div>
<div class="line"><span class="lineno"> 3688</span> </div>
<div class="line"><span class="lineno"> 3689</span>    <span class="comment">// Print value row</span></div>
<div class="line"><span class="lineno"> 3690</span>    Paint_DrawStringAt(&amp;paint, Display.value_start_x_position, CASE2, Display.value_str_equalizer_overview[0], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 3691</span>    Paint_DrawStringAt(&amp;paint, Display.value_start_x_position, CASE3, Display.value_str_equalizer_overview[1], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 3692</span>    Paint_DrawStringAt(&amp;paint, Display.value_start_x_position, CASE4, Display.value_str_equalizer_overview[2], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 3693</span>    Paint_DrawStringAt(&amp;paint, Display.value_start_x_position, CASE5, Display.value_str_equalizer_overview[3], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 3694</span>    Paint_DrawStringAt(&amp;paint, Display.value_start_x_position, CASE6, Display.value_str_equalizer_overview[4], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 3695</span>    Paint_DrawStringAt(&amp;paint, Display.value_start_x_position, CASE7, Display.value_str_equalizer_overview[5], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 3696</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ga7b732b0224608d1d160f657ee80e3b6e" name="ga7b732b0224608d1d160f657ee80e3b6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7b732b0224608d1d160f657ee80e3b6e">&#9670;&nbsp;</a></span>p_Equalizer_Settings()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void p_Equalizer_Settings </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>this function prints the Equalizer submenu and edits its values </p>

<p class="definition">Definition at line <a class="el" href="display_8c_source.html#l03701">3701</a> of file <a class="el" href="display_8c_source.html">display.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3701</span>                                {</div>
<div class="line"><span class="lineno"> 3702</span> </div>
<div class="line"><span class="lineno"> 3703</span>    <span class="keywordflow">if</span>(Display.currentBand &lt;= 5) {  <span class="comment">// To make sure that no content is printed if joystick is switched right when parameter is &quot;EQ Reset&quot;</span></div>
<div class="line"><span class="lineno"> 3704</span> </div>
<div class="line"><span class="lineno"> 3705</span>        <span class="comment">// Header line</span></div>
<div class="line"><span class="lineno"> 3706</span>        <span class="keywordtype">char</span> headerstring[] = <span class="stringliteral">&quot;Band &quot;</span>;</div>
<div class="line"><span class="lineno"> 3707</span>        <span class="keywordtype">char</span> headerstring_2[5];</div>
<div class="line"><span class="lineno"> 3708</span>        itoa(Display.currentBand, headerstring_2, 10);</div>
<div class="line"><span class="lineno"> 3709</span>        strcat(headerstring, headerstring_2);</div>
<div class="line"><span class="lineno"> 3710</span>        Paint_DrawStringAt(&amp;paint, 1, CASE0, headerstring, &amp;Font16, COLORED);</div>
<div class="line"><span class="lineno"> 3711</span> </div>
<div class="line"><span class="lineno"> 3712</span>        <span class="keywordtype">char</span> str_1[] = <span class="stringliteral">&quot;Q-Factor&quot;</span>;</div>
<div class="line"><span class="lineno"> 3713</span>        <span class="keywordtype">char</span> str_2[] = <span class="stringliteral">&quot;Cutoff&quot;</span>;</div>
<div class="line"><span class="lineno"> 3714</span>        <span class="keywordtype">char</span> str_3[] = <span class="stringliteral">&quot;Gain&quot;</span>;</div>
<div class="line"><span class="lineno"> 3715</span>        <span class="keywordtype">char</span> str_4[] = <span class="stringliteral">&quot;Q-Factor Source&quot;</span>;</div>
<div class="line"><span class="lineno"> 3716</span>        <span class="keywordtype">char</span> str_5[] = <span class="stringliteral">&quot;Cutoff Source&quot;</span>;</div>
<div class="line"><span class="lineno"> 3717</span>        <span class="keywordtype">char</span> str_6[] = <span class="stringliteral">&quot;Gain Source&quot;</span>;</div>
<div class="line"><span class="lineno"> 3718</span>        Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE1, str_1, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 3719</span>        Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE2, str_2, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 3720</span>        Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE3, str_3, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 3721</span>        Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE4, str_4, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 3722</span>        Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE5, str_5, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 3723</span>        Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE6, str_6, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 3724</span> </div>
<div class="line"><span class="lineno"> 3725</span>        <span class="comment">// As big as the number of parameters</span></div>
<div class="line"><span class="lineno"> 3726</span>        Display.max_parameter = 6;</div>
<div class="line"><span class="lineno"> 3727</span> </div>
<div class="line"><span class="lineno"> 3728</span>        <span class="keywordflow">if</span>(Display.poti_moved == <span class="keyword">true</span>) {</div>
<div class="line"><span class="lineno"> 3729</span> </div>
<div class="line"><span class="lineno"> 3730</span>            <span class="keywordflow">switch</span>(Display.JoystickParameterPosition) {</div>
<div class="line"><span class="lineno"> 3731</span>            <span class="keywordflow">case</span> 1:</div>
<div class="line"><span class="lineno"> 3732</span>                <span class="comment">// Q-Factor</span></div>
<div class="line"><span class="lineno"> 3733</span>                Display.Filter_Q[Display.currentBand-1] = (((float)Display.ADC2inputs[2]/(<span class="keywordtype">float</span>)Display.ADC_FullRange) * EQ_BAND1.maximum_Q);</div>
<div class="line"><span class="lineno"> 3734</span>                <span class="keywordflow">if</span>(Display.Filter_Q[Display.currentBand-1] &lt; 0.01)  <span class="comment">// Guard for Q-factor, so it is never 0</span></div>
<div class="line"><span class="lineno"> 3735</span>                    Display.Filter_Q[Display.currentBand-1] = 0.01;</div>
<div class="line"><span class="lineno"> 3736</span> </div>
<div class="line"><span class="lineno"> 3737</span>                <span class="comment">// BAND 1: Low-Shelf filter</span></div>
<div class="line"><span class="lineno"> 3738</span>                <span class="keywordflow">if</span>(Display.currentBand == 1) {</div>
<div class="line"><span class="lineno"> 3739</span>                    EQ_BAND1.Q = Display.Filter_Q[Display.currentBand-1];</div>
<div class="line"><span class="lineno"> 3740</span>                    <a class="code hl_function" href="group__Filters.html#ga1345bd0312350f65e08e824e6413f219">SetupLowShelf</a>(&amp;EQ_BAND1, EQ_BAND1.cutoff, EQ_BAND1.Q, EQ_BAND1.dBGain);</div>
<div class="line"><span class="lineno"> 3741</span>                }</div>
<div class="line"><span class="lineno"> 3742</span>                <span class="comment">// BAND 2: Peaking-EQ</span></div>
<div class="line"><span class="lineno"> 3743</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span>(Display.currentBand == 2) {</div>
<div class="line"><span class="lineno"> 3744</span>                    EQ_BAND2.Q = Display.Filter_Q[Display.currentBand-1];</div>
<div class="line"><span class="lineno"> 3745</span>                    <a class="code hl_function" href="group__Filters.html#gae324262d60a906226a1ddf27ba0860b9">SetupPeakingEQ</a>(&amp;EQ_BAND2, EQ_BAND2.cutoff, EQ_BAND2.Q, EQ_BAND2.dBGain);</div>
<div class="line"><span class="lineno"> 3746</span>                }</div>
<div class="line"><span class="lineno"> 3747</span>                <span class="comment">// BAND 3: Peaking-EQ</span></div>
<div class="line"><span class="lineno"> 3748</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span>(Display.currentBand == 3) {</div>
<div class="line"><span class="lineno"> 3749</span>                    EQ_BAND3.Q = Display.Filter_Q[Display.currentBand-1];</div>
<div class="line"><span class="lineno"> 3750</span>                    <a class="code hl_function" href="group__Filters.html#gae324262d60a906226a1ddf27ba0860b9">SetupPeakingEQ</a>(&amp;EQ_BAND3, EQ_BAND3.cutoff, EQ_BAND3.Q, EQ_BAND3.dBGain);</div>
<div class="line"><span class="lineno"> 3751</span>                }</div>
<div class="line"><span class="lineno"> 3752</span>                <span class="comment">// BAND 4: Peaking-EQ</span></div>
<div class="line"><span class="lineno"> 3753</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span>(Display.currentBand == 4) {</div>
<div class="line"><span class="lineno"> 3754</span>                    EQ_BAND4.Q = Display.Filter_Q[Display.currentBand-1];</div>
<div class="line"><span class="lineno"> 3755</span>                    <a class="code hl_function" href="group__Filters.html#gae324262d60a906226a1ddf27ba0860b9">SetupPeakingEQ</a>(&amp;EQ_BAND4, EQ_BAND4.cutoff, EQ_BAND4.Q, EQ_BAND4.dBGain);</div>
<div class="line"><span class="lineno"> 3756</span>                }</div>
<div class="line"><span class="lineno"> 3757</span>                <span class="comment">// BAND 5: High-Shelf filter</span></div>
<div class="line"><span class="lineno"> 3758</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span>(Display.currentBand == 5) {</div>
<div class="line"><span class="lineno"> 3759</span>                    EQ_BAND5.Q = Display.Filter_Q[Display.currentBand-1];</div>
<div class="line"><span class="lineno"> 3760</span>                    <a class="code hl_function" href="group__Filters.html#ga03fcfa1037c98ff029c9fb59f6c312dc">SetupHighShelf</a>(&amp;EQ_BAND5, EQ_BAND5.cutoff, EQ_BAND5.Q, EQ_BAND5.dBGain);</div>
<div class="line"><span class="lineno"> 3761</span>                }</div>
<div class="line"><span class="lineno"> 3762</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3763</span>            <span class="keywordflow">case</span> 2:</div>
<div class="line"><span class="lineno"> 3764</span>                <span class="comment">// Cutoff</span></div>
<div class="line"><span class="lineno"> 3765</span>                Display.Filter_Cutoff[Display.currentBand-1] = (((float)Display.ADC2inputs[2]/(<span class="keywordtype">float</span>)Display.ADC_FullRange) * EQ_BAND1.maximum_cutoff);</div>
<div class="line"><span class="lineno"> 3766</span>                <span class="keywordflow">if</span>(Display.Filter_Cutoff[Display.currentBand-1] &lt; LUT_FMIN)</div>
<div class="line"><span class="lineno"> 3767</span>                    Display.Filter_Cutoff[Display.currentBand-1] = LUT_FMIN;</div>
<div class="line"><span class="lineno"> 3768</span> </div>
<div class="line"><span class="lineno"> 3769</span>                <span class="comment">// BAND 1: Low-Shelf filter</span></div>
<div class="line"><span class="lineno"> 3770</span>                <span class="keywordflow">if</span>(Display.currentBand == 1) {</div>
<div class="line"><span class="lineno"> 3771</span>                    EQ_BAND1.cutoff = Display.Filter_Cutoff[Display.currentBand-1];</div>
<div class="line"><span class="lineno"> 3772</span>                    <a class="code hl_function" href="group__Filters.html#ga1345bd0312350f65e08e824e6413f219">SetupLowShelf</a>(&amp;EQ_BAND1, EQ_BAND1.cutoff, EQ_BAND1.Q, EQ_BAND1.dBGain);</div>
<div class="line"><span class="lineno"> 3773</span>                }</div>
<div class="line"><span class="lineno"> 3774</span>                <span class="comment">// BAND 2: Peaking-EQ</span></div>
<div class="line"><span class="lineno"> 3775</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span>(Display.currentBand == 2) {</div>
<div class="line"><span class="lineno"> 3776</span>                    EQ_BAND2.cutoff = Display.Filter_Cutoff[Display.currentBand-1];</div>
<div class="line"><span class="lineno"> 3777</span>                    <a class="code hl_function" href="group__Filters.html#gae324262d60a906226a1ddf27ba0860b9">SetupPeakingEQ</a>(&amp;EQ_BAND2, EQ_BAND2.cutoff, EQ_BAND2.Q, EQ_BAND2.dBGain);</div>
<div class="line"><span class="lineno"> 3778</span>                }</div>
<div class="line"><span class="lineno"> 3779</span>                <span class="comment">// BAND 3: Peaking-EQ</span></div>
<div class="line"><span class="lineno"> 3780</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span>(Display.currentBand == 3) {</div>
<div class="line"><span class="lineno"> 3781</span>                    EQ_BAND3.cutoff = Display.Filter_Cutoff[Display.currentBand-1];</div>
<div class="line"><span class="lineno"> 3782</span>                    <a class="code hl_function" href="group__Filters.html#gae324262d60a906226a1ddf27ba0860b9">SetupPeakingEQ</a>(&amp;EQ_BAND3, EQ_BAND3.cutoff, EQ_BAND3.Q, EQ_BAND3.dBGain);</div>
<div class="line"><span class="lineno"> 3783</span>                }</div>
<div class="line"><span class="lineno"> 3784</span>                <span class="comment">// BAND 4: Peaking-EQ</span></div>
<div class="line"><span class="lineno"> 3785</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span>(Display.currentBand == 4) {</div>
<div class="line"><span class="lineno"> 3786</span>                    EQ_BAND4.cutoff = Display.Filter_Cutoff[Display.currentBand-1];</div>
<div class="line"><span class="lineno"> 3787</span>                    <a class="code hl_function" href="group__Filters.html#gae324262d60a906226a1ddf27ba0860b9">SetupPeakingEQ</a>(&amp;EQ_BAND4, EQ_BAND4.cutoff, EQ_BAND4.Q, EQ_BAND4.dBGain);</div>
<div class="line"><span class="lineno"> 3788</span>                }</div>
<div class="line"><span class="lineno"> 3789</span>                <span class="comment">// BAND 5: High-Shelf filter</span></div>
<div class="line"><span class="lineno"> 3790</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span>(Display.currentBand == 5) {</div>
<div class="line"><span class="lineno"> 3791</span>                    EQ_BAND5.cutoff = Display.Filter_Cutoff[Display.currentBand-1];</div>
<div class="line"><span class="lineno"> 3792</span>                    <a class="code hl_function" href="group__Filters.html#ga03fcfa1037c98ff029c9fb59f6c312dc">SetupHighShelf</a>(&amp;EQ_BAND5, EQ_BAND5.cutoff, EQ_BAND5.Q, EQ_BAND5.dBGain);</div>
<div class="line"><span class="lineno"> 3793</span>                }</div>
<div class="line"><span class="lineno"> 3794</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3795</span>            <span class="keywordflow">case</span> 3:</div>
<div class="line"><span class="lineno"> 3796</span>                <span class="comment">// Gain</span></div>
<div class="line"><span class="lineno"> 3797</span> </div>
<div class="line"><span class="lineno"> 3798</span><span class="comment">                /*****************************</span></div>
<div class="line"><span class="lineno"> 3799</span><span class="comment">                 * @brief   HS / LS / PEQ Gain: -18dB to 6dB</span></div>
<div class="line"><span class="lineno"> 3800</span><span class="comment">                 * @brief   Scaling 4095 (ADC_value) to a range of 24dB by dividing with 170.625</span></div>
<div class="line"><span class="lineno"> 3801</span><span class="comment">                 * @brief   Center around 0dB by subtracting (4095/(2*170.625))</span></div>
<div class="line"><span class="lineno"> 3802</span><span class="comment">                 * @brief   Subtract 6dB for final adjust</span></div>
<div class="line"><span class="lineno"> 3803</span><span class="comment">                 ******************************/</span></div>
<div class="line"><span class="lineno"> 3804</span>                Display.Filter_Gain[Display.currentBand-1] = ((float)Display.ADC2inputs[2] / 170.625)-(4095/(2*170.625))-6;</div>
<div class="line"><span class="lineno"> 3805</span> </div>
<div class="line"><span class="lineno"> 3806</span>                <span class="comment">// BAND 1: Low-Shelf filter</span></div>
<div class="line"><span class="lineno"> 3807</span>                <span class="keywordflow">if</span>(Display.currentBand == 1) {</div>
<div class="line"><span class="lineno"> 3808</span>                    EQ_BAND1.dBGain = Display.Filter_Gain[Display.currentBand-1];</div>
<div class="line"><span class="lineno"> 3809</span>                    <a class="code hl_function" href="group__Filters.html#ga1345bd0312350f65e08e824e6413f219">SetupLowShelf</a>(&amp;EQ_BAND1, EQ_BAND1.cutoff, EQ_BAND1.Q, EQ_BAND1.dBGain);</div>
<div class="line"><span class="lineno"> 3810</span>                }</div>
<div class="line"><span class="lineno"> 3811</span>                <span class="comment">// BAND 2: Peaking-EQ</span></div>
<div class="line"><span class="lineno"> 3812</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span>(Display.currentBand == 2) {</div>
<div class="line"><span class="lineno"> 3813</span>                    EQ_BAND2.dBGain = Display.Filter_Gain[Display.currentBand-1];</div>
<div class="line"><span class="lineno"> 3814</span>                    <a class="code hl_function" href="group__Filters.html#gae324262d60a906226a1ddf27ba0860b9">SetupPeakingEQ</a>(&amp;EQ_BAND2, EQ_BAND2.cutoff, EQ_BAND2.Q, EQ_BAND2.dBGain);</div>
<div class="line"><span class="lineno"> 3815</span>                }</div>
<div class="line"><span class="lineno"> 3816</span>                <span class="comment">// BAND 3: Peaking-EQ</span></div>
<div class="line"><span class="lineno"> 3817</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span>(Display.currentBand == 3) {</div>
<div class="line"><span class="lineno"> 3818</span>                    EQ_BAND3.dBGain = Display.Filter_Gain[Display.currentBand-1];</div>
<div class="line"><span class="lineno"> 3819</span>                    <a class="code hl_function" href="group__Filters.html#gae324262d60a906226a1ddf27ba0860b9">SetupPeakingEQ</a>(&amp;EQ_BAND3, EQ_BAND3.cutoff, EQ_BAND3.Q, EQ_BAND3.dBGain);</div>
<div class="line"><span class="lineno"> 3820</span>                }</div>
<div class="line"><span class="lineno"> 3821</span>                <span class="comment">// BAND 4: Peaking-EQ</span></div>
<div class="line"><span class="lineno"> 3822</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span>(Display.currentBand == 4) {</div>
<div class="line"><span class="lineno"> 3823</span>                    EQ_BAND4.dBGain = Display.Filter_Gain[Display.currentBand-1];</div>
<div class="line"><span class="lineno"> 3824</span>                    <a class="code hl_function" href="group__Filters.html#gae324262d60a906226a1ddf27ba0860b9">SetupPeakingEQ</a>(&amp;EQ_BAND4, EQ_BAND4.cutoff, EQ_BAND4.Q, EQ_BAND4.dBGain);</div>
<div class="line"><span class="lineno"> 3825</span>                }</div>
<div class="line"><span class="lineno"> 3826</span>                <span class="comment">// BAND 5: High-Shelf filter</span></div>
<div class="line"><span class="lineno"> 3827</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span>(Display.currentBand == 5) {</div>
<div class="line"><span class="lineno"> 3828</span>                    EQ_BAND5.dBGain = Display.Filter_Gain[Display.currentBand-1];</div>
<div class="line"><span class="lineno"> 3829</span>                    <a class="code hl_function" href="group__Filters.html#ga03fcfa1037c98ff029c9fb59f6c312dc">SetupHighShelf</a>(&amp;EQ_BAND5, EQ_BAND5.cutoff, EQ_BAND5.Q, EQ_BAND5.dBGain);</div>
<div class="line"><span class="lineno"> 3830</span>                }</div>
<div class="line"><span class="lineno"> 3831</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3832</span>            <span class="keywordflow">case</span> 4:</div>
<div class="line"><span class="lineno"> 3833</span>                <span class="comment">// Q-Factor Source</span></div>
<div class="line"><span class="lineno"> 3834</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3835</span>            <span class="keywordflow">case</span> 5:</div>
<div class="line"><span class="lineno"> 3836</span>                <span class="comment">// Cutoff Source</span></div>
<div class="line"><span class="lineno"> 3837</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3838</span>            <span class="keywordflow">case</span> 6:</div>
<div class="line"><span class="lineno"> 3839</span>                <span class="comment">// Gain Source</span></div>
<div class="line"><span class="lineno"> 3840</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3841</span>            <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 3842</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3843</span>            }</div>
<div class="line"><span class="lineno"> 3844</span>        }</div>
<div class="line"><span class="lineno"> 3845</span> </div>
<div class="line"><span class="lineno"> 3846</span>        Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position-30, CASE1, Display.value_end_x_position, CASE1+VALUE_ROW_LENGTH, UNCOLORED);</div>
<div class="line"><span class="lineno"> 3847</span>        Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position-30, CASE2, Display.value_end_x_position, CASE2+VALUE_ROW_LENGTH, UNCOLORED);</div>
<div class="line"><span class="lineno"> 3848</span>        Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position-30, CASE3, Display.value_end_x_position, CASE3+VALUE_ROW_LENGTH, UNCOLORED);</div>
<div class="line"><span class="lineno"> 3849</span>        Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position-30, CASE4, Display.value_end_x_position, CASE4+VALUE_ROW_LENGTH, UNCOLORED);</div>
<div class="line"><span class="lineno"> 3850</span>        Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position-30, CASE5, Display.value_end_x_position, CASE5+VALUE_ROW_LENGTH, UNCOLORED);</div>
<div class="line"><span class="lineno"> 3851</span>        Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position-30, CASE6, Display.value_end_x_position, CASE6+VALUE_ROW_LENGTH, UNCOLORED);</div>
<div class="line"><span class="lineno"> 3852</span> </div>
<div class="line"><span class="lineno"> 3853</span>        sprintf(Display.value_str_equalizer_settings[Display.currentBand-1][0], <span class="stringliteral">&quot;%.3f&quot;</span>, Display.Filter_Q[Display.currentBand-1]);</div>
<div class="line"><span class="lineno"> 3854</span>        sprintf(Display.value_str_equalizer_settings[Display.currentBand-1][1], <span class="stringliteral">&quot;%.0f&quot;</span>, Display.Filter_Cutoff[Display.currentBand-1]);</div>
<div class="line"><span class="lineno"> 3855</span>        sprintf(Display.value_str_equalizer_settings[Display.currentBand-1][2], <span class="stringliteral">&quot;%.2f&quot;</span>, Display.Filter_Gain[Display.currentBand-1]);</div>
<div class="line"><span class="lineno"> 3856</span>        strcpy(Display.value_str_equalizer_settings[Display.currentBand-1][3], Display.source_names[Display.EQ_Q_factor_Sources[Display.currentBand-1]]);</div>
<div class="line"><span class="lineno"> 3857</span>        strcpy(Display.value_str_equalizer_settings[Display.currentBand-1][4], Display.source_names[Display.EQ_Cutoff_Sources[Display.currentBand-1]]);</div>
<div class="line"><span class="lineno"> 3858</span>        strcpy(Display.value_str_equalizer_settings[Display.currentBand-1][5], Display.source_names[Display.EQ_Gain_Sources[Display.currentBand-1]]);</div>
<div class="line"><span class="lineno"> 3859</span>        <span class="comment">// Print value row</span></div>
<div class="line"><span class="lineno"> 3860</span>        Paint_DrawStringAt(&amp;paint, Display.value_start_x_position-30, CASE1, Display.value_str_equalizer_settings[Display.currentBand-1][0], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 3861</span>        Paint_DrawStringAt(&amp;paint, Display.value_start_x_position-30, CASE2, Display.value_str_equalizer_settings[Display.currentBand-1][1], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 3862</span>        Paint_DrawStringAt(&amp;paint, Display.value_start_x_position-30, CASE3, Display.value_str_equalizer_settings[Display.currentBand-1][2], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 3863</span>        Paint_DrawStringAt(&amp;paint, Display.value_start_x_position-30, CASE4, Display.value_str_equalizer_settings[Display.currentBand-1][3], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 3864</span>        Paint_DrawStringAt(&amp;paint, Display.value_start_x_position-30, CASE5, Display.value_str_equalizer_settings[Display.currentBand-1][4], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 3865</span>        Paint_DrawStringAt(&amp;paint, Display.value_start_x_position-30, CASE6, Display.value_str_equalizer_settings[Display.currentBand-1][5], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 3866</span>    }</div>
<div class="line"><span class="lineno"> 3867</span>}</div>
<div class="ttc" id="agroup__Filters_html_ga03fcfa1037c98ff029c9fb59f6c312dc"><div class="ttname"><a href="group__Filters.html#ga03fcfa1037c98ff029c9fb59f6c312dc">SetupHighShelf</a></div><div class="ttdeci">Filter_Status SetupHighShelf(struct BQFilter *HS, float cutoff, float Q, float dBGain)</div><div class="ttdoc">HighShelf Filter.</div><div class="ttdef"><b>Definition:</b> <a href="filters_8c_source.html#l00593">filters.c:593</a></div></div>
<div class="ttc" id="agroup__Filters_html_ga1345bd0312350f65e08e824e6413f219"><div class="ttname"><a href="group__Filters.html#ga1345bd0312350f65e08e824e6413f219">SetupLowShelf</a></div><div class="ttdeci">Filter_Status SetupLowShelf(struct BQFilter *LS, float cutoff, float Q, float dBGain)</div><div class="ttdoc">LowShelf Filter.</div><div class="ttdef"><b>Definition:</b> <a href="filters_8c_source.html#l00562">filters.c:562</a></div></div>
<div class="ttc" id="agroup__Filters_html_gae324262d60a906226a1ddf27ba0860b9"><div class="ttname"><a href="group__Filters.html#gae324262d60a906226a1ddf27ba0860b9">SetupPeakingEQ</a></div><div class="ttdeci">Filter_Status SetupPeakingEQ(struct BQFilter *BP, float cutoff, float Q, float dBGain)</div><div class="ttdoc">Peaking EQ Filter.</div><div class="ttdef"><b>Definition:</b> <a href="filters_8c_source.html#l00529">filters.c:529</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga3123aab8377a46e24d0b13a17c68aa19" name="ga3123aab8377a46e24d0b13a17c68aa19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3123aab8377a46e24d0b13a17c68aa19">&#9670;&nbsp;</a></span>p_KeyAndMode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void p_KeyAndMode </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>GUI-site function, all functions with the beginning p_ represent a site of the GUI menu. </p>

<p class="definition">Definition at line <a class="el" href="display_8c_source.html#l04568">4568</a> of file <a class="el" href="display_8c_source.html">display.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4568</span>                        {</div>
<div class="line"><span class="lineno"> 4569</span> </div>
<div class="line"><span class="lineno"> 4570</span>    <span class="comment">// Header line</span></div>
<div class="line"><span class="lineno"> 4571</span>    <span class="keywordtype">char</span> headerstring[] = <span class="stringliteral">&quot;KEY AND MODE&quot;</span>;</div>
<div class="line"><span class="lineno"> 4572</span>    Paint_DrawStringAt(&amp;paint, 1, CASE0, headerstring, &amp;Font16, COLORED);</div>
<div class="line"><span class="lineno"> 4573</span> </div>
<div class="line"><span class="lineno"> 4574</span>    <span class="keywordtype">char</span> str_1[] = <span class="stringliteral">&quot;Key&quot;</span>;</div>
<div class="line"><span class="lineno"> 4575</span>    <span class="keywordtype">char</span> str_2[] = <span class="stringliteral">&quot;Mode&quot;</span>;</div>
<div class="line"><span class="lineno"> 4576</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE1, str_1, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 4577</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE2, str_2, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 4578</span> </div>
<div class="line"><span class="lineno"> 4579</span>    <span class="comment">// As big as the number of parameters</span></div>
<div class="line"><span class="lineno"> 4580</span>    Display.max_parameter = 2;</div>
<div class="line"><span class="lineno"> 4581</span> </div>
<div class="line"><span class="lineno"> 4582</span>    <span class="keywordflow">switch</span>(Display.JoystickParameterPosition) {</div>
<div class="line"><span class="lineno"> 4583</span> </div>
<div class="line"><span class="lineno"> 4584</span>    <span class="keywordflow">case</span> 1:</div>
<div class="line"><span class="lineno"> 4585</span>        <span class="comment">// Key</span></div>
<div class="line"><span class="lineno"> 4586</span>        Display.KeyNote = (uint8_t)(<a class="code hl_variable" href="group__MusicNotes.html#gaa6edf4563731abf1927b342c5ebe3e8a">keys</a>[(uint8_t)Display.KeyNoteIndex]);</div>
<div class="line"><span class="lineno"> 4587</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4588</span>    <span class="keywordflow">case</span> 2:</div>
<div class="line"><span class="lineno"> 4589</span>        <span class="comment">// Scale Mode</span></div>
<div class="line"><span class="lineno"> 4590</span>        <span class="keywordflow">if</span>(Display.ScaleMode == FREESTYLE)</div>
<div class="line"><span class="lineno"> 4591</span>            strcpy(Display.value_str_keyandmode[1], <span class="stringliteral">&quot;FREESTYLE&quot;</span>);</div>
<div class="line"><span class="lineno"> 4592</span> </div>
<div class="line"><span class="lineno"> 4593</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(Display.ScaleMode == MAJOR)</div>
<div class="line"><span class="lineno"> 4594</span>            strcpy(Display.value_str_keyandmode[1], <span class="stringliteral">&quot;MAJOR&quot;</span>);</div>
<div class="line"><span class="lineno"> 4595</span> </div>
<div class="line"><span class="lineno"> 4596</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(Display.ScaleMode == MINOR)</div>
<div class="line"><span class="lineno"> 4597</span>            strcpy(Display.value_str_keyandmode[1], <span class="stringliteral">&quot;MINOR&quot;</span>);</div>
<div class="line"><span class="lineno"> 4598</span> </div>
<div class="line"><span class="lineno"> 4599</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4600</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 4601</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4602</span>    }</div>
<div class="line"><span class="lineno"> 4603</span> </div>
<div class="line"><span class="lineno"> 4604</span>    Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position-35, CASE1, Display.value_end_x_position, CASE1+VALUE_ROW_LENGTH, UNCOLORED);</div>
<div class="line"><span class="lineno"> 4605</span>    Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position-35, CASE2, Display.value_end_x_position, CASE2+VALUE_ROW_LENGTH, UNCOLORED);</div>
<div class="line"><span class="lineno"> 4606</span> </div>
<div class="line"><span class="lineno"> 4607</span>    sprintf(Display.value_str_keyandmode[0], <span class="stringliteral">&quot;%c&quot;</span>, Display.KeyNote);</div>
<div class="line"><span class="lineno"> 4608</span>    <span class="comment">// Print value row</span></div>
<div class="line"><span class="lineno"> 4609</span>    Paint_DrawStringAt(&amp;paint, Display.value_start_x_position-35, CASE1, Display.value_str_keyandmode[0], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 4610</span>    Paint_DrawStringAt(&amp;paint, Display.value_start_x_position-35, CASE2, Display.value_str_keyandmode[1], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 4611</span>}</div>
<div class="ttc" id="agroup__MusicNotes_html_gaa6edf4563731abf1927b342c5ebe3e8a"><div class="ttname"><a href="group__MusicNotes.html#gaa6edf4563731abf1927b342c5ebe3e8a">keys</a></div><div class="ttdeci">const char keys[26]</div><div class="ttdoc">lookuptable for respective note keys</div><div class="ttdef"><b>Definition:</b> <a href="music__notes_8h_source.html#l00042">music_notes.h:42</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="gabd2a92e2609f00be1f6dd91508ac20d8" name="gabd2a92e2609f00be1f6dd91508ac20d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabd2a92e2609f00be1f6dd91508ac20d8">&#9670;&nbsp;</a></span>p_Presets()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void p_Presets </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>GUI-site function, all functions with the beginning p_ represent a site of the GUI menu. </p>

<p class="definition">Definition at line <a class="el" href="display_8c_source.html#l04697">4697</a> of file <a class="el" href="display_8c_source.html">display.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4697</span>                     {</div>
<div class="line"><span class="lineno"> 4698</span> </div>
<div class="line"><span class="lineno"> 4699</span>    <span class="comment">// Header line</span></div>
<div class="line"><span class="lineno"> 4700</span>    <span class="keywordtype">char</span> headerstring[] = <span class="stringliteral">&quot;PRESETS&quot;</span>;</div>
<div class="line"><span class="lineno"> 4701</span>    Paint_DrawStringAt(&amp;paint, 1, CASE0, headerstring, &amp;Font16, COLORED);</div>
<div class="line"><span class="lineno"> 4702</span> </div>
<div class="line"><span class="lineno"> 4703</span>    <span class="keywordtype">char</span> str_1[] = <span class="stringliteral">&quot;Preset 1&quot;</span>;</div>
<div class="line"><span class="lineno"> 4704</span>    <span class="keywordtype">char</span> str_2[] = <span class="stringliteral">&quot;Preset 2&quot;</span>;</div>
<div class="line"><span class="lineno"> 4705</span>    <span class="keywordtype">char</span> str_3[] = <span class="stringliteral">&quot;Preset 3&quot;</span>;</div>
<div class="line"><span class="lineno"> 4706</span>    <span class="keywordtype">char</span> str_4[] = <span class="stringliteral">&quot;Preset 4&quot;</span>;</div>
<div class="line"><span class="lineno"> 4707</span>    <span class="keywordtype">char</span> str_5[] = <span class="stringliteral">&quot;Preset 5&quot;</span>;</div>
<div class="line"><span class="lineno"> 4708</span>    <span class="keywordtype">char</span> str_6[] = <span class="stringliteral">&quot;Preset 6&quot;</span>;</div>
<div class="line"><span class="lineno"> 4709</span>    <span class="keywordtype">char</span> str_7[] = <span class="stringliteral">&quot;Preset 7&quot;</span>;</div>
<div class="line"><span class="lineno"> 4710</span>    <span class="keywordtype">char</span> str_8[] = <span class="stringliteral">&quot;Preset 8&quot;</span>;</div>
<div class="line"><span class="lineno"> 4711</span>    <span class="keywordtype">char</span> str_9[] = <span class="stringliteral">&quot;Preset 9&quot;</span>;</div>
<div class="line"><span class="lineno"> 4712</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE1, str_1, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 4713</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE2, str_2, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 4714</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE3, str_3, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 4715</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE4, str_4, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 4716</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE5, str_5, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 4717</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE6, str_6, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 4718</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE7, str_7, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 4719</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE8, str_8, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 4720</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE9, str_9, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 4721</span> </div>
<div class="line"><span class="lineno"> 4722</span>    <span class="comment">// As big as the number of parameters</span></div>
<div class="line"><span class="lineno"> 4723</span>    Display.max_parameter = 9;</div>
<div class="line"><span class="lineno"> 4724</span> </div>
<div class="line"><span class="lineno"> 4725</span>    <span class="keywordflow">switch</span>(Display.JoystickParameterPosition) {</div>
<div class="line"><span class="lineno"> 4726</span> </div>
<div class="line"><span class="lineno"> 4727</span>    <span class="keywordflow">case</span> 1:</div>
<div class="line"><span class="lineno"> 4728</span>        <span class="keywordflow">if</span>(Display.SetPreset == <span class="keyword">true</span>) {</div>
<div class="line"><span class="lineno"> 4729</span> </div>
<div class="line"><span class="lineno"> 4730</span>            <span class="comment">// Reset everything</span></div>
<div class="line"><span class="lineno"> 4731</span>            <a class="code hl_function" href="group__DisplayPage.html#ga84ad5e4c5b1f9dca651caf624ed02d91">Full_Reset</a>();</div>
<div class="line"><span class="lineno"> 4732</span>            <span class="comment">// Volumes</span></div>
<div class="line"><span class="lineno"> 4733</span>            <a class="code hl_variable" href="group__SSynth.html#ga0c06ec02b1329cdb21df9311f9bc3712">volume</a>[0] = 0.54;</div>
<div class="line"><span class="lineno"> 4734</span>            <a class="code hl_variable" href="group__SSynth.html#ga0c06ec02b1329cdb21df9311f9bc3712">volume</a>[1] = 0.56;</div>
<div class="line"><span class="lineno"> 4735</span>            <a class="code hl_variable" href="group__SSynth.html#ga0c06ec02b1329cdb21df9311f9bc3712">volume</a>[2] = 0.47;</div>
<div class="line"><span class="lineno"> 4736</span>            <a class="code hl_variable" href="group__SSynth.html#ga0c06ec02b1329cdb21df9311f9bc3712">volume</a>[3] = 0.44;</div>
<div class="line"><span class="lineno"> 4737</span>            <span class="comment">// Drumcomputer</span></div>
<div class="line"><span class="lineno"> 4738</span>            Display.Drumcomputer_ONOFF = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 4739</span>            strcpy(Display.value_str_drumcomputer[0], <span class="stringliteral">&quot;ON&quot;</span>);    <span class="comment">// To make sure that value is correctly displayed when switch to page</span></div>
<div class="line"><span class="lineno"> 4740</span>            <a class="code hl_variable" href="group__DrumComputer.html#ga0065e192c774e20fd5e0ab3c342b7088">BPM</a> = 120;</div>
<div class="line"><span class="lineno"> 4741</span>            <a class="code hl_function" href="group__Display.html#gafeebe386ce2f442752742b054674b40d">Display_LoadDrumKits</a>(0);    <span class="comment">// Load 909</span></div>
<div class="line"><span class="lineno"> 4742</span>            <span class="comment">// Set Drum Pattern</span></div>
<div class="line"><span class="lineno"> 4743</span>            Display.DrumMatrix[0][0] = <a class="code hl_variable" href="group__DrumComputer.html#ga4c0fb828065d1505aa1abfdd52afc7c3">timing_DS1</a>[0] = 1;   <span class="comment">// Sample 1</span></div>
<div class="line"><span class="lineno"> 4744</span>            Display.DrumMatrix[0][1] = <a class="code hl_variable" href="group__DrumComputer.html#ga4c0fb828065d1505aa1abfdd52afc7c3">timing_DS1</a>[1] = 0;</div>
<div class="line"><span class="lineno"> 4745</span>            Display.DrumMatrix[0][2] = <a class="code hl_variable" href="group__DrumComputer.html#ga4c0fb828065d1505aa1abfdd52afc7c3">timing_DS1</a>[2] = 0;</div>
<div class="line"><span class="lineno"> 4746</span>            Display.DrumMatrix[0][3] = <a class="code hl_variable" href="group__DrumComputer.html#ga4c0fb828065d1505aa1abfdd52afc7c3">timing_DS1</a>[3] = 0;</div>
<div class="line"><span class="lineno"> 4747</span>            Display.DrumMatrix[0][4] = <a class="code hl_variable" href="group__DrumComputer.html#ga4c0fb828065d1505aa1abfdd52afc7c3">timing_DS1</a>[4] = 0;</div>
<div class="line"><span class="lineno"> 4748</span>            Display.DrumMatrix[0][5] = <a class="code hl_variable" href="group__DrumComputer.html#ga4c0fb828065d1505aa1abfdd52afc7c3">timing_DS1</a>[5] = 0;</div>
<div class="line"><span class="lineno"> 4749</span>            Display.DrumMatrix[0][6] = <a class="code hl_variable" href="group__DrumComputer.html#ga4c0fb828065d1505aa1abfdd52afc7c3">timing_DS1</a>[6] = 0;</div>
<div class="line"><span class="lineno"> 4750</span>            Display.DrumMatrix[0][7] = <a class="code hl_variable" href="group__DrumComputer.html#ga4c0fb828065d1505aa1abfdd52afc7c3">timing_DS1</a>[7] = 0;</div>
<div class="line"><span class="lineno"> 4751</span>            Display.DrumMatrix[1][0] = timing_DS2[0] = 0;   <span class="comment">// Sample 2</span></div>
<div class="line"><span class="lineno"> 4752</span>            Display.DrumMatrix[1][1] = timing_DS2[1] = 0;</div>
<div class="line"><span class="lineno"> 4753</span>            Display.DrumMatrix[1][2] = timing_DS2[2] = 1;</div>
<div class="line"><span class="lineno"> 4754</span>            Display.DrumMatrix[1][3] = timing_DS2[3] = 0;</div>
<div class="line"><span class="lineno"> 4755</span>            Display.DrumMatrix[1][4] = timing_DS2[4] = 0;</div>
<div class="line"><span class="lineno"> 4756</span>            Display.DrumMatrix[1][5] = timing_DS2[5] = 0;</div>
<div class="line"><span class="lineno"> 4757</span>            Display.DrumMatrix[1][6] = timing_DS2[6] = 0;</div>
<div class="line"><span class="lineno"> 4758</span>            Display.DrumMatrix[1][7] = timing_DS2[7] = 0;</div>
<div class="line"><span class="lineno"> 4759</span>            Display.DrumMatrix[2][0] = timing_DS3[0] = 0;   <span class="comment">// Sample 3</span></div>
<div class="line"><span class="lineno"> 4760</span>            Display.DrumMatrix[2][1] = timing_DS3[1] = 0;</div>
<div class="line"><span class="lineno"> 4761</span>            Display.DrumMatrix[2][2] = timing_DS3[2] = 0;</div>
<div class="line"><span class="lineno"> 4762</span>            Display.DrumMatrix[2][3] = timing_DS3[3] = 0;</div>
<div class="line"><span class="lineno"> 4763</span>            Display.DrumMatrix[2][4] = timing_DS3[4] = 0;</div>
<div class="line"><span class="lineno"> 4764</span>            Display.DrumMatrix[2][5] = timing_DS3[5] = 0;</div>
<div class="line"><span class="lineno"> 4765</span>            Display.DrumMatrix[2][6] = timing_DS3[6] = 1;</div>
<div class="line"><span class="lineno"> 4766</span>            Display.DrumMatrix[2][7] = timing_DS3[7] = 0;</div>
<div class="line"><span class="lineno"> 4767</span>            Display.DrumMatrix[3][0] = timing_DS4[0] = 0;   <span class="comment">// Sample 4</span></div>
<div class="line"><span class="lineno"> 4768</span>            Display.DrumMatrix[3][1] = timing_DS4[1] = 0;</div>
<div class="line"><span class="lineno"> 4769</span>            Display.DrumMatrix[3][2] = timing_DS4[2] = 0;</div>
<div class="line"><span class="lineno"> 4770</span>            Display.DrumMatrix[3][3] = timing_DS4[3] = 0;</div>
<div class="line"><span class="lineno"> 4771</span>            Display.DrumMatrix[3][4] = timing_DS4[4] = 0;</div>
<div class="line"><span class="lineno"> 4772</span>            Display.DrumMatrix[3][5] = timing_DS4[5] = 1;</div>
<div class="line"><span class="lineno"> 4773</span>            Display.DrumMatrix[3][6] = timing_DS4[6] = 0;</div>
<div class="line"><span class="lineno"> 4774</span>            Display.DrumMatrix[3][7] = timing_DS4[7] = 0;</div>
<div class="line"><span class="lineno"> 4775</span>            Display.Drumfilter_ONOFF = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 4776</span>            Display.Drumfilter_Q = 12.2;</div>
<div class="line"><span class="lineno"> 4777</span>            Display.Drumfilter_Cutoff = 10;</div>
<div class="line"><span class="lineno"> 4778</span>            Display.Drumfilter_Gain = 6;</div>
<div class="line"><span class="lineno"> 4779</span>            Display.Drumfilter_Cutoff_Source = GYRO_FB;</div>
<div class="line"><span class="lineno"> 4780</span>            <span class="comment">// Sequencer</span></div>
<div class="line"><span class="lineno"> 4781</span>            Display.Sequencer_ONOFF = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 4782</span>            strcpy(Display.value_str_sequencer[0], <span class="stringliteral">&quot;ON&quot;</span>);   <span class="comment">// To make sure that value is correctly displayed when switch to page</span></div>
<div class="line"><span class="lineno"> 4783</span>            <span class="comment">// Seq. Note 1</span></div>
<div class="line"><span class="lineno"> 4784</span>            <a class="code hl_variable" href="group__Sequencer.html#ga4211ba08e77d82a294762a623041e342">freq_index_SN1</a> = <a class="code hl_function" href="group__MusicNotes.html#ga71407d53f2b1100f1ab93dc2681dfe48">Get_Note_Index</a>(<span class="charliteral">&#39;C&#39;</span>, 2);    <span class="comment">// Load notes</span></div>
<div class="line"><span class="lineno"> 4785</span>            Display.Sequencer_Noteindex[0] = 0; <span class="comment">// C</span></div>
<div class="line"><span class="lineno"> 4786</span>            Display.Sequencer_Octave[0] = 2;</div>
<div class="line"><span class="lineno"> 4787</span>            <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;<a class="code hl_define" href="group__DrumComputer.html#ga267b06d60a7514d898b5cac91b4380ec">FourFour</a>; i++) {</div>
<div class="line"><span class="lineno"> 4788</span>                <a class="code hl_variable" href="group__Sequencer.html#gabafd5c3bbb1d0bbc3e708889e904e3a7">current_LUT_index_SN1</a>[i] = <a class="code hl_variable" href="group__SINLUT.html#ga2e5122eebde8d369cf949da93586ec2e">LUT_STARTINDEX</a>[<a class="code hl_variable" href="group__Sequencer.html#ga4211ba08e77d82a294762a623041e342">freq_index_SN1</a>];</div>
<div class="line"><span class="lineno"> 4789</span>            }</div>
<div class="line"><span class="lineno"> 4790</span>            sprintf(Display.value_str_sequencer[1], <span class="stringliteral">&quot;%c&quot;</span>, <span class="charliteral">&#39;C&#39;</span>);</div>
<div class="line"><span class="lineno"> 4791</span>            sprintf(Display.value_str_sequencer[2], <span class="stringliteral">&quot;%d&quot;</span>, 2);</div>
<div class="line"><span class="lineno"> 4792</span>            <span class="comment">// Seq. Note 2</span></div>
<div class="line"><span class="lineno"> 4793</span>            freq_index_SN2 = <a class="code hl_function" href="group__MusicNotes.html#ga71407d53f2b1100f1ab93dc2681dfe48">Get_Note_Index</a>(<span class="charliteral">&#39;E&#39;</span>, 1);</div>
<div class="line"><span class="lineno"> 4794</span>            Display.Sequencer_Noteindex[1] = 4; <span class="comment">// E</span></div>
<div class="line"><span class="lineno"> 4795</span>            Display.Sequencer_Octave[1] = 1;</div>
<div class="line"><span class="lineno"> 4796</span>            <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;<a class="code hl_define" href="group__DrumComputer.html#ga267b06d60a7514d898b5cac91b4380ec">FourFour</a>; i++) {</div>
<div class="line"><span class="lineno"> 4797</span>                current_LUT_index_SN2[i] = <a class="code hl_variable" href="group__SINLUT.html#ga2e5122eebde8d369cf949da93586ec2e">LUT_STARTINDEX</a>[freq_index_SN2];</div>
<div class="line"><span class="lineno"> 4798</span>            }</div>
<div class="line"><span class="lineno"> 4799</span>            sprintf(Display.value_str_sequencer[3], <span class="stringliteral">&quot;%c&quot;</span>, <span class="charliteral">&#39;E&#39;</span>);</div>
<div class="line"><span class="lineno"> 4800</span>            sprintf(Display.value_str_sequencer[4], <span class="stringliteral">&quot;%d&quot;</span>, 1);</div>
<div class="line"><span class="lineno"> 4801</span>            <span class="comment">// Seq. Note 3</span></div>
<div class="line"><span class="lineno"> 4802</span>            freq_index_SN3 = <a class="code hl_function" href="group__MusicNotes.html#ga71407d53f2b1100f1ab93dc2681dfe48">Get_Note_Index</a>(<span class="charliteral">&#39;F&#39;</span>, 1);</div>
<div class="line"><span class="lineno"> 4803</span>            Display.Sequencer_Noteindex[2] = 5; <span class="comment">// F</span></div>
<div class="line"><span class="lineno"> 4804</span>            Display.Sequencer_Octave[2] = 1;</div>
<div class="line"><span class="lineno"> 4805</span>            <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;<a class="code hl_define" href="group__DrumComputer.html#ga267b06d60a7514d898b5cac91b4380ec">FourFour</a>; i++) {</div>
<div class="line"><span class="lineno"> 4806</span>                current_LUT_index_SN3[i] = <a class="code hl_variable" href="group__SINLUT.html#ga2e5122eebde8d369cf949da93586ec2e">LUT_STARTINDEX</a>[freq_index_SN3];</div>
<div class="line"><span class="lineno"> 4807</span>            }</div>
<div class="line"><span class="lineno"> 4808</span>            sprintf(Display.value_str_sequencer[5], <span class="stringliteral">&quot;%c&quot;</span>, <span class="charliteral">&#39;F&#39;</span>);</div>
<div class="line"><span class="lineno"> 4809</span>            sprintf(Display.value_str_sequencer[6], <span class="stringliteral">&quot;%d&quot;</span>, 1);</div>
<div class="line"><span class="lineno"> 4810</span> </div>
<div class="line"><span class="lineno"> 4811</span>            <span class="comment">// Set Sequencer Pattern</span></div>
<div class="line"><span class="lineno"> 4812</span>            Display.SequencerMatrix[0][0] = timing_SN1[0] = 0;</div>
<div class="line"><span class="lineno"> 4813</span>            Display.SequencerMatrix[0][1] = timing_SN1[1] = 0;</div>
<div class="line"><span class="lineno"> 4814</span>            Display.SequencerMatrix[0][2] = timing_SN1[2] = 1;</div>
<div class="line"><span class="lineno"> 4815</span>            Display.SequencerMatrix[0][3] = timing_SN1[3] = 0;</div>
<div class="line"><span class="lineno"> 4816</span>            Display.SequencerMatrix[0][4] = timing_SN1[4] = 0;</div>
<div class="line"><span class="lineno"> 4817</span>            Display.SequencerMatrix[0][5] = timing_SN1[5] = 0;</div>
<div class="line"><span class="lineno"> 4818</span>            Display.SequencerMatrix[0][6] = timing_SN1[6] = 0;</div>
<div class="line"><span class="lineno"> 4819</span>            Display.SequencerMatrix[0][7] = timing_SN1[7] = 0;</div>
<div class="line"><span class="lineno"> 4820</span>            Display.SequencerMatrix[1][0] = timing_SN2[0] = 1;</div>
<div class="line"><span class="lineno"> 4821</span>            Display.SequencerMatrix[1][1] = timing_SN2[1] = 0;</div>
<div class="line"><span class="lineno"> 4822</span>            Display.SequencerMatrix[1][2] = timing_SN2[2] = 0;</div>
<div class="line"><span class="lineno"> 4823</span>            Display.SequencerMatrix[1][3] = timing_SN2[3] = 0;</div>
<div class="line"><span class="lineno"> 4824</span>            Display.SequencerMatrix[1][4] = timing_SN2[4] = 0;</div>
<div class="line"><span class="lineno"> 4825</span>            Display.SequencerMatrix[1][5] = timing_SN2[5] = 0;</div>
<div class="line"><span class="lineno"> 4826</span>            Display.SequencerMatrix[1][6] = timing_SN2[6] = 1;</div>
<div class="line"><span class="lineno"> 4827</span>            Display.SequencerMatrix[1][7] = timing_SN2[7] = 0;</div>
<div class="line"><span class="lineno"> 4828</span>            Display.SequencerMatrix[2][0] = timing_SN3[0] = 0;</div>
<div class="line"><span class="lineno"> 4829</span>            Display.SequencerMatrix[2][1] = timing_SN3[1] = 0;</div>
<div class="line"><span class="lineno"> 4830</span>            Display.SequencerMatrix[2][2] = timing_SN3[2] = 0;</div>
<div class="line"><span class="lineno"> 4831</span>            Display.SequencerMatrix[2][3] = timing_SN3[3] = 1;</div>
<div class="line"><span class="lineno"> 4832</span>            Display.SequencerMatrix[2][4] = timing_SN3[4] = 0;</div>
<div class="line"><span class="lineno"> 4833</span>            Display.SequencerMatrix[2][5] = timing_SN3[5] = 0;</div>
<div class="line"><span class="lineno"> 4834</span>            Display.SequencerMatrix[2][6] = timing_SN3[6] = 0;</div>
<div class="line"><span class="lineno"> 4835</span>            Display.SequencerMatrix[2][7] = timing_SN3[7] = 0;</div>
<div class="line"><span class="lineno"> 4836</span>            <span class="comment">// Voices</span></div>
<div class="line"><span class="lineno"> 4837</span>            Display.Voices_ONOFF[0] = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 4838</span>            strcpy(Display.value_str_voices_overview[0], <span class="stringliteral">&quot;ON&quot;</span>);</div>
<div class="line"><span class="lineno"> 4839</span>            Display.Voices_ONOFF[1] = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 4840</span>            strcpy(Display.value_str_voices_overview[1], <span class="stringliteral">&quot;ON&quot;</span>);</div>
<div class="line"><span class="lineno"> 4841</span>            Display.Voices_ONOFF[2] = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 4842</span>            strcpy(Display.value_str_voices_overview[2], <span class="stringliteral">&quot;ON&quot;</span>);</div>
<div class="line"><span class="lineno"> 4843</span>            Display.Noise_ONOFF = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 4844</span>            strcpy(Display.value_str_voices_overview[3], <span class="stringliteral">&quot;ON&quot;</span>);</div>
<div class="line"><span class="lineno"> 4845</span>            Display.Voices_Kind[0] = SIN;</div>
<div class="line"><span class="lineno"> 4846</span>            Display.Voices_Kind[1] = SIN;</div>
<div class="line"><span class="lineno"> 4847</span>            Display.Voices_Kind[2] = SIN;</div>
<div class="line"><span class="lineno"> 4848</span>            Display.Voices_Note[0] = <span class="charliteral">&#39;C&#39;</span>;</div>
<div class="line"><span class="lineno"> 4849</span>            Display.Voices_Noteindex[0] = 0;    <span class="comment">// C</span></div>
<div class="line"><span class="lineno"> 4850</span>            Display.Voices_Octave[0] = 1;</div>
<div class="line"><span class="lineno"> 4851</span>            Display.Voices_Note[1] = <span class="charliteral">&#39;C&#39;</span>;</div>
<div class="line"><span class="lineno"> 4852</span>            Display.Voices_Noteindex[1] = 0;    <span class="comment">// C</span></div>
<div class="line"><span class="lineno"> 4853</span>            Display.Voices_Octave[1] = 0;</div>
<div class="line"><span class="lineno"> 4854</span>            Display.Voices_Note[2] = <span class="charliteral">&#39;C&#39;</span>;</div>
<div class="line"><span class="lineno"> 4855</span>            Display.Voices_Noteindex[2] = 0;    <span class="comment">// C</span></div>
<div class="line"><span class="lineno"> 4856</span>            Display.Voices_Octave[2] = 2;</div>
<div class="line"><span class="lineno"> 4857</span>            Display.Noise_Volume = 0.05;</div>
<div class="line"><span class="lineno"> 4858</span>            <span class="comment">// ADSR</span></div>
<div class="line"><span class="lineno"> 4859</span>            Display.ADSR_Attacktime = 0.52;</div>
<div class="line"><span class="lineno"> 4860</span>            <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;MAX_SIMULTANEOUS_KEYBOARD_NOTES; i++)</div>
<div class="line"><span class="lineno"> 4861</span>                <a class="code hl_variable" href="group__ADSR.html#ga742e13f70ae8c573509abfd794271f44">adsr_keyboard</a>[i].adsr_attack_time = Display.ADSR_Attacktime * LUT_SR;</div>
<div class="line"><span class="lineno"> 4862</span>            Display.ADSR_Decaytime = 0.53;</div>
<div class="line"><span class="lineno"> 4863</span>            <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;MAX_SIMULTANEOUS_KEYBOARD_NOTES; i++)</div>
<div class="line"><span class="lineno"> 4864</span>                <a class="code hl_variable" href="group__ADSR.html#ga742e13f70ae8c573509abfd794271f44">adsr_keyboard</a>[i].adsr_decay_time = Display.ADSR_Decaytime * LUT_SR;</div>
<div class="line"><span class="lineno"> 4865</span>            Display.ADSR_Sustaintime = 0.52;</div>
<div class="line"><span class="lineno"> 4866</span>            <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;MAX_SIMULTANEOUS_KEYBOARD_NOTES; i++)</div>
<div class="line"><span class="lineno"> 4867</span>                <a class="code hl_variable" href="group__ADSR.html#ga742e13f70ae8c573509abfd794271f44">adsr_keyboard</a>[i].adsr_sustain_time = Display.ADSR_Sustaintime * LUT_SR;</div>
<div class="line"><span class="lineno"> 4868</span>            Display.ADSR_Sustainlevel = 0.50;</div>
<div class="line"><span class="lineno"> 4869</span>            <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;MAX_SIMULTANEOUS_KEYBOARD_NOTES; i++)</div>
<div class="line"><span class="lineno"> 4870</span>                <a class="code hl_variable" href="group__ADSR.html#ga742e13f70ae8c573509abfd794271f44">adsr_keyboard</a>[i].adsr_sustain_amplitude = Display.ADSR_Sustainlevel;</div>
<div class="line"><span class="lineno"> 4871</span>            Display.ADSR_Releasetime = 0.55;</div>
<div class="line"><span class="lineno"> 4872</span>            <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;MAX_SIMULTANEOUS_KEYBOARD_NOTES; i++)</div>
<div class="line"><span class="lineno"> 4873</span>                <a class="code hl_variable" href="group__ADSR.html#ga742e13f70ae8c573509abfd794271f44">adsr_keyboard</a>[i].adsr_release_time = Display.ADSR_Releasetime * LUT_SR;</div>
<div class="line"><span class="lineno"> 4874</span>            <span class="comment">// Equalizer</span></div>
<div class="line"><span class="lineno"> 4875</span>            Display.Filter_ONOFF[1] = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 4876</span>            strcpy(Display.value_str_equalizer_overview[1], <span class="stringliteral">&quot;ON&quot;</span>);</div>
<div class="line"><span class="lineno"> 4877</span>            Display.Filter_Q[1] = 0.707;</div>
<div class="line"><span class="lineno"> 4878</span>            Display.Filter_Cutoff[1] = 107;</div>
<div class="line"><span class="lineno"> 4879</span>            Display.Filter_Gain[1] = 6;</div>
<div class="line"><span class="lineno"> 4880</span> </div>
<div class="line"><span class="lineno"> 4881</span>            Display.Filter_ONOFF[4] = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 4882</span>            strcpy(Display.value_str_equalizer_overview[4], <span class="stringliteral">&quot;ON&quot;</span>);</div>
<div class="line"><span class="lineno"> 4883</span>            Display.Filter_Q[4] = 19.844;</div>
<div class="line"><span class="lineno"> 4884</span>            Display.Filter_Cutoff[4] = 4119;</div>
<div class="line"><span class="lineno"> 4885</span>            Display.Filter_Gain[4] = 4.9;</div>
<div class="line"><span class="lineno"> 4886</span>            <span class="comment">// WahWah</span></div>
<div class="line"><span class="lineno"> 4887</span>            Display.WahWah_ONOFF = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 4888</span>            strcpy(Display.value_str_wahwah[0], <span class="stringliteral">&quot;ON&quot;</span>);</div>
<div class="line"><span class="lineno"> 4889</span>            Display.WahWah_Mode = 1;    <span class="comment">// Auto-WahWah</span></div>
<div class="line"><span class="lineno"> 4890</span>            strcpy(Display.value_str_wahwah[1], <span class="stringliteral">&quot;AutoWahWah&quot;</span>);</div>
<div class="line"><span class="lineno"> 4891</span>            Display.WahWah_MidFreq = WahWah.mid_freq = 350.0;</div>
<div class="line"><span class="lineno"> 4892</span>            Display.WahWah_Q = WahWah.bandpass-&gt;Q = 1.19;</div>
<div class="line"><span class="lineno"> 4893</span>            Display.WahWah_Range = WahWah.range = 600.0;</div>
<div class="line"><span class="lineno"> 4894</span>            Display.WahWah_LFOfreq = WahWah.lfo-&gt;lfo_frequency = 0.25;</div>
<div class="line"><span class="lineno"> 4895</span>            Display.WahWah_LFOfreq_Index = Display.last_WahWah_LFOfreq_Index = 1;   <span class="comment">// 0.25 Hz</span></div>
<div class="line"><span class="lineno"> 4896</span>            <span class="comment">// Distortion</span></div>
<div class="line"><span class="lineno"> 4897</span>            Display.Distortion_ONOFF = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 4898</span>            strcpy(Display.value_str_distortion[0], <span class="stringliteral">&quot;ON&quot;</span>);</div>
<div class="line"><span class="lineno"> 4899</span>            Display.Distortion_Type = 1;    <span class="comment">// Hard Clipping</span></div>
<div class="line"><span class="lineno"> 4900</span>            strcpy(Display.value_str_distortion[1], <span class="stringliteral">&quot;Hard&quot;</span>);</div>
<div class="line"><span class="lineno"> 4901</span>            Display.Distortion_Gain = 2.0;</div>
<div class="line"><span class="lineno"> 4902</span>            <span class="comment">// Tremolo</span></div>
<div class="line"><span class="lineno"> 4903</span>            Display.Tremolo_ONOFF = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 4904</span>            strcpy(Display.value_str_tremolo[0], <span class="stringliteral">&quot;ON&quot;</span>);</div>
<div class="line"><span class="lineno"> 4905</span>            Display.Tremolo_Rate = Tremolo.lfo-&gt;lfo_frequency = 0.25;</div>
<div class="line"><span class="lineno"> 4906</span>            Display.Tremolo_Rate_Index = Display.last_Tremolo_Rate_Index = 1;   <span class="comment">// 0.25 Hz</span></div>
<div class="line"><span class="lineno"> 4907</span>            Display.Tremolo_Depth = Tremolo.lfo-&gt;lfo_depth = 0.34;</div>
<div class="line"><span class="lineno"> 4908</span> </div>
<div class="line"><span class="lineno"> 4909</span>            Display.SetPreset = <span class="keyword">false</span>;  <span class="comment">// Reset the state</span></div>
<div class="line"><span class="lineno"> 4910</span>            strcpy(Display.value_str_presets[0], <span class="stringliteral">&quot;done&quot;</span>);</div>
<div class="line"><span class="lineno"> 4911</span>        }</div>
<div class="line"><span class="lineno"> 4912</span> </div>
<div class="line"><span class="lineno"> 4913</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(Display.SetPreset == <span class="keyword">false</span>)</div>
<div class="line"><span class="lineno"> 4914</span>            strcpy(Display.value_str_presets[0], <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><span class="lineno"> 4915</span> </div>
<div class="line"><span class="lineno"> 4916</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4917</span> </div>
<div class="line"><span class="lineno"> 4918</span>    <span class="keywordflow">case</span> 2:</div>
<div class="line"><span class="lineno"> 4919</span>        <span class="keywordflow">if</span>(Display.SetPreset == <span class="keyword">true</span>) {</div>
<div class="line"><span class="lineno"> 4920</span> </div>
<div class="line"><span class="lineno"> 4921</span>            <span class="comment">// Reset everything</span></div>
<div class="line"><span class="lineno"> 4922</span>            <a class="code hl_function" href="group__DisplayPage.html#ga84ad5e4c5b1f9dca651caf624ed02d91">Full_Reset</a>();</div>
<div class="line"><span class="lineno"> 4923</span>            <span class="comment">// Volumes</span></div>
<div class="line"><span class="lineno"> 4924</span>            <a class="code hl_variable" href="group__SSynth.html#ga0c06ec02b1329cdb21df9311f9bc3712">volume</a>[0] = 0.43;</div>
<div class="line"><span class="lineno"> 4925</span>            <a class="code hl_variable" href="group__SSynth.html#ga0c06ec02b1329cdb21df9311f9bc3712">volume</a>[1] = 0.66;</div>
<div class="line"><span class="lineno"> 4926</span>            <a class="code hl_variable" href="group__SSynth.html#ga0c06ec02b1329cdb21df9311f9bc3712">volume</a>[2] = 0.73;</div>
<div class="line"><span class="lineno"> 4927</span>            <a class="code hl_variable" href="group__SSynth.html#ga0c06ec02b1329cdb21df9311f9bc3712">volume</a>[3] = 0.68;</div>
<div class="line"><span class="lineno"> 4928</span>            <span class="comment">// Drumcomputer</span></div>
<div class="line"><span class="lineno"> 4929</span>            Display.Drumcomputer_ONOFF = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 4930</span>            strcpy(Display.value_str_drumcomputer[0], <span class="stringliteral">&quot;ON&quot;</span>);    <span class="comment">// To make sure that value is correctly displayed when switch to page</span></div>
<div class="line"><span class="lineno"> 4931</span>            <a class="code hl_variable" href="group__DrumComputer.html#ga0065e192c774e20fd5e0ab3c342b7088">BPM</a> = 120;</div>
<div class="line"><span class="lineno"> 4932</span>            <a class="code hl_function" href="group__Display.html#gafeebe386ce2f442752742b054674b40d">Display_LoadDrumKits</a>(2);    <span class="comment">// Load Rock</span></div>
<div class="line"><span class="lineno"> 4933</span>            <span class="comment">// Set Drum Pattern</span></div>
<div class="line"><span class="lineno"> 4934</span>            Display.DrumMatrix[0][0] = <a class="code hl_variable" href="group__DrumComputer.html#ga4c0fb828065d1505aa1abfdd52afc7c3">timing_DS1</a>[0] = 1;   <span class="comment">// Sample 1</span></div>
<div class="line"><span class="lineno"> 4935</span>            Display.DrumMatrix[0][1] = <a class="code hl_variable" href="group__DrumComputer.html#ga4c0fb828065d1505aa1abfdd52afc7c3">timing_DS1</a>[1] = 0;</div>
<div class="line"><span class="lineno"> 4936</span>            Display.DrumMatrix[0][2] = <a class="code hl_variable" href="group__DrumComputer.html#ga4c0fb828065d1505aa1abfdd52afc7c3">timing_DS1</a>[2] = 0;</div>
<div class="line"><span class="lineno"> 4937</span>            Display.DrumMatrix[0][3] = <a class="code hl_variable" href="group__DrumComputer.html#ga4c0fb828065d1505aa1abfdd52afc7c3">timing_DS1</a>[3] = 0;</div>
<div class="line"><span class="lineno"> 4938</span>            Display.DrumMatrix[0][4] = <a class="code hl_variable" href="group__DrumComputer.html#ga4c0fb828065d1505aa1abfdd52afc7c3">timing_DS1</a>[4] = 0;</div>
<div class="line"><span class="lineno"> 4939</span>            Display.DrumMatrix[0][5] = <a class="code hl_variable" href="group__DrumComputer.html#ga4c0fb828065d1505aa1abfdd52afc7c3">timing_DS1</a>[5] = 0;</div>
<div class="line"><span class="lineno"> 4940</span>            Display.DrumMatrix[0][6] = <a class="code hl_variable" href="group__DrumComputer.html#ga4c0fb828065d1505aa1abfdd52afc7c3">timing_DS1</a>[6] = 0;</div>
<div class="line"><span class="lineno"> 4941</span>            Display.DrumMatrix[0][7] = <a class="code hl_variable" href="group__DrumComputer.html#ga4c0fb828065d1505aa1abfdd52afc7c3">timing_DS1</a>[7] = 0;</div>
<div class="line"><span class="lineno"> 4942</span>            Display.DrumMatrix[1][0] = timing_DS2[0] = 0;   <span class="comment">// Sample 2</span></div>
<div class="line"><span class="lineno"> 4943</span>            Display.DrumMatrix[1][1] = timing_DS2[1] = 1;</div>
<div class="line"><span class="lineno"> 4944</span>            Display.DrumMatrix[1][2] = timing_DS2[2] = 0;</div>
<div class="line"><span class="lineno"> 4945</span>            Display.DrumMatrix[1][3] = timing_DS2[3] = 1;</div>
<div class="line"><span class="lineno"> 4946</span>            Display.DrumMatrix[1][4] = timing_DS2[4] = 0;</div>
<div class="line"><span class="lineno"> 4947</span>            Display.DrumMatrix[1][5] = timing_DS2[5] = 0;</div>
<div class="line"><span class="lineno"> 4948</span>            Display.DrumMatrix[1][6] = timing_DS2[6] = 1;</div>
<div class="line"><span class="lineno"> 4949</span>            Display.DrumMatrix[1][7] = timing_DS2[7] = 0;</div>
<div class="line"><span class="lineno"> 4950</span>            Display.DrumMatrix[2][0] = timing_DS3[0] = 0;   <span class="comment">// Sample 3</span></div>
<div class="line"><span class="lineno"> 4951</span>            Display.DrumMatrix[2][1] = timing_DS3[1] = 0;</div>
<div class="line"><span class="lineno"> 4952</span>            Display.DrumMatrix[2][2] = timing_DS3[2] = 0;</div>
<div class="line"><span class="lineno"> 4953</span>            Display.DrumMatrix[2][3] = timing_DS3[3] = 0;</div>
<div class="line"><span class="lineno"> 4954</span>            Display.DrumMatrix[2][4] = timing_DS3[4] = 1;</div>
<div class="line"><span class="lineno"> 4955</span>            Display.DrumMatrix[2][5] = timing_DS3[5] = 0;</div>
<div class="line"><span class="lineno"> 4956</span>            Display.DrumMatrix[2][6] = timing_DS3[6] = 0;</div>
<div class="line"><span class="lineno"> 4957</span>            Display.DrumMatrix[2][7] = timing_DS3[7] = 0;</div>
<div class="line"><span class="lineno"> 4958</span>            Display.DrumMatrix[3][0] = timing_DS4[0] = 1;   <span class="comment">// Sample 4</span></div>
<div class="line"><span class="lineno"> 4959</span>            Display.DrumMatrix[3][1] = timing_DS4[1] = 0;</div>
<div class="line"><span class="lineno"> 4960</span>            Display.DrumMatrix[3][2] = timing_DS4[2] = 0;</div>
<div class="line"><span class="lineno"> 4961</span>            Display.DrumMatrix[3][3] = timing_DS4[3] = 0;</div>
<div class="line"><span class="lineno"> 4962</span>            Display.DrumMatrix[3][4] = timing_DS4[4] = 0;</div>
<div class="line"><span class="lineno"> 4963</span>            Display.DrumMatrix[3][5] = timing_DS4[5] = 0;</div>
<div class="line"><span class="lineno"> 4964</span>            Display.DrumMatrix[3][6] = timing_DS4[6] = 0;</div>
<div class="line"><span class="lineno"> 4965</span>            Display.DrumMatrix[3][7] = timing_DS4[7] = 1;</div>
<div class="line"><span class="lineno"> 4966</span>            <span class="comment">// Sequencer</span></div>
<div class="line"><span class="lineno"> 4967</span>            Display.Sequencer_ONOFF = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 4968</span>            strcpy(Display.value_str_sequencer[0], <span class="stringliteral">&quot;ON&quot;</span>);   <span class="comment">// To make sure that value is correctly displayed when switch to page</span></div>
<div class="line"><span class="lineno"> 4969</span>            <span class="comment">// Seq. Note 1</span></div>
<div class="line"><span class="lineno"> 4970</span>            <a class="code hl_variable" href="group__Sequencer.html#ga4211ba08e77d82a294762a623041e342">freq_index_SN1</a> = <a class="code hl_function" href="group__MusicNotes.html#ga71407d53f2b1100f1ab93dc2681dfe48">Get_Note_Index</a>(<span class="charliteral">&#39;E&#39;</span>, 2);    <span class="comment">// Load notes</span></div>
<div class="line"><span class="lineno"> 4971</span>            Display.Sequencer_Noteindex[0] = 4; <span class="comment">// E</span></div>
<div class="line"><span class="lineno"> 4972</span>            Display.Sequencer_Octave[0] = 2;</div>
<div class="line"><span class="lineno"> 4973</span>            <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;<a class="code hl_define" href="group__DrumComputer.html#ga267b06d60a7514d898b5cac91b4380ec">FourFour</a>; i++) {</div>
<div class="line"><span class="lineno"> 4974</span>                <a class="code hl_variable" href="group__Sequencer.html#gabafd5c3bbb1d0bbc3e708889e904e3a7">current_LUT_index_SN1</a>[i] = <a class="code hl_variable" href="group__SINLUT.html#ga2e5122eebde8d369cf949da93586ec2e">LUT_STARTINDEX</a>[<a class="code hl_variable" href="group__Sequencer.html#ga4211ba08e77d82a294762a623041e342">freq_index_SN1</a>];</div>
<div class="line"><span class="lineno"> 4975</span>            }</div>
<div class="line"><span class="lineno"> 4976</span>            sprintf(Display.value_str_sequencer[1], <span class="stringliteral">&quot;%c&quot;</span>, <span class="charliteral">&#39;E&#39;</span>);</div>
<div class="line"><span class="lineno"> 4977</span>            sprintf(Display.value_str_sequencer[2], <span class="stringliteral">&quot;%d&quot;</span>, 2);</div>
<div class="line"><span class="lineno"> 4978</span>            <span class="comment">// Seq. Note 2</span></div>
<div class="line"><span class="lineno"> 4979</span>            freq_index_SN2 = <a class="code hl_function" href="group__MusicNotes.html#ga71407d53f2b1100f1ab93dc2681dfe48">Get_Note_Index</a>(<span class="charliteral">&#39;F&#39;</span>, 2);</div>
<div class="line"><span class="lineno"> 4980</span>            Display.Sequencer_Noteindex[1] = 5; <span class="comment">// F</span></div>
<div class="line"><span class="lineno"> 4981</span>            Display.Sequencer_Octave[1] = 2;</div>
<div class="line"><span class="lineno"> 4982</span>            <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;<a class="code hl_define" href="group__DrumComputer.html#ga267b06d60a7514d898b5cac91b4380ec">FourFour</a>; i++) {</div>
<div class="line"><span class="lineno"> 4983</span>                current_LUT_index_SN2[i] = <a class="code hl_variable" href="group__SINLUT.html#ga2e5122eebde8d369cf949da93586ec2e">LUT_STARTINDEX</a>[freq_index_SN2];</div>
<div class="line"><span class="lineno"> 4984</span>            }</div>
<div class="line"><span class="lineno"> 4985</span>            sprintf(Display.value_str_sequencer[3], <span class="stringliteral">&quot;%c&quot;</span>, <span class="charliteral">&#39;F&#39;</span>);</div>
<div class="line"><span class="lineno"> 4986</span>            sprintf(Display.value_str_sequencer[4], <span class="stringliteral">&quot;%d&quot;</span>, 2);</div>
<div class="line"><span class="lineno"> 4987</span>            <span class="comment">// Seq. Note 3</span></div>
<div class="line"><span class="lineno"> 4988</span>            freq_index_SN3 = <a class="code hl_function" href="group__MusicNotes.html#ga71407d53f2b1100f1ab93dc2681dfe48">Get_Note_Index</a>(<span class="charliteral">&#39;C&#39;</span>, 2);</div>
<div class="line"><span class="lineno"> 4989</span>            Display.Sequencer_Noteindex[2] = 0; <span class="comment">// C</span></div>
<div class="line"><span class="lineno"> 4990</span>            Display.Sequencer_Octave[2] = 2;</div>
<div class="line"><span class="lineno"> 4991</span>            <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;<a class="code hl_define" href="group__DrumComputer.html#ga267b06d60a7514d898b5cac91b4380ec">FourFour</a>; i++) {</div>
<div class="line"><span class="lineno"> 4992</span>                current_LUT_index_SN3[i] = <a class="code hl_variable" href="group__SINLUT.html#ga2e5122eebde8d369cf949da93586ec2e">LUT_STARTINDEX</a>[freq_index_SN3];</div>
<div class="line"><span class="lineno"> 4993</span>            }</div>
<div class="line"><span class="lineno"> 4994</span>            sprintf(Display.value_str_sequencer[5], <span class="stringliteral">&quot;%c&quot;</span>, <span class="charliteral">&#39;C&#39;</span>);</div>
<div class="line"><span class="lineno"> 4995</span>            sprintf(Display.value_str_sequencer[6], <span class="stringliteral">&quot;%d&quot;</span>, 2);</div>
<div class="line"><span class="lineno"> 4996</span> </div>
<div class="line"><span class="lineno"> 4997</span>            <span class="comment">// Set Sequencer Pattern</span></div>
<div class="line"><span class="lineno"> 4998</span>            Display.SequencerMatrix[0][0] = timing_SN1[0] = 1;</div>
<div class="line"><span class="lineno"> 4999</span>            Display.SequencerMatrix[0][1] = timing_SN1[1] = 0;</div>
<div class="line"><span class="lineno"> 5000</span>            Display.SequencerMatrix[0][2] = timing_SN1[2] = 0;</div>
<div class="line"><span class="lineno"> 5001</span>            Display.SequencerMatrix[0][3] = timing_SN1[3] = 0;</div>
<div class="line"><span class="lineno"> 5002</span>            Display.SequencerMatrix[0][4] = timing_SN1[4] = 0;</div>
<div class="line"><span class="lineno"> 5003</span>            Display.SequencerMatrix[0][5] = timing_SN1[5] = 0;</div>
<div class="line"><span class="lineno"> 5004</span>            Display.SequencerMatrix[0][6] = timing_SN1[6] = 0;</div>
<div class="line"><span class="lineno"> 5005</span>            Display.SequencerMatrix[0][7] = timing_SN1[7] = 0;</div>
<div class="line"><span class="lineno"> 5006</span>            Display.SequencerMatrix[1][0] = timing_SN2[0] = 0;</div>
<div class="line"><span class="lineno"> 5007</span>            Display.SequencerMatrix[1][1] = timing_SN2[1] = 0;</div>
<div class="line"><span class="lineno"> 5008</span>            Display.SequencerMatrix[1][2] = timing_SN2[2] = 1;</div>
<div class="line"><span class="lineno"> 5009</span>            Display.SequencerMatrix[1][3] = timing_SN2[3] = 0;</div>
<div class="line"><span class="lineno"> 5010</span>            Display.SequencerMatrix[1][4] = timing_SN2[4] = 0;</div>
<div class="line"><span class="lineno"> 5011</span>            Display.SequencerMatrix[1][5] = timing_SN2[5] = 0;</div>
<div class="line"><span class="lineno"> 5012</span>            Display.SequencerMatrix[1][6] = timing_SN2[6] = 0;</div>
<div class="line"><span class="lineno"> 5013</span>            Display.SequencerMatrix[1][7] = timing_SN2[7] = 0;</div>
<div class="line"><span class="lineno"> 5014</span>            Display.SequencerMatrix[2][0] = timing_SN3[0] = 0;</div>
<div class="line"><span class="lineno"> 5015</span>            Display.SequencerMatrix[2][1] = timing_SN3[1] = 0;</div>
<div class="line"><span class="lineno"> 5016</span>            Display.SequencerMatrix[2][2] = timing_SN3[2] = 0;</div>
<div class="line"><span class="lineno"> 5017</span>            Display.SequencerMatrix[2][3] = timing_SN3[3] = 0;</div>
<div class="line"><span class="lineno"> 5018</span>            Display.SequencerMatrix[2][4] = timing_SN3[4] = 1;</div>
<div class="line"><span class="lineno"> 5019</span>            Display.SequencerMatrix[2][5] = timing_SN3[5] = 0;</div>
<div class="line"><span class="lineno"> 5020</span>            Display.SequencerMatrix[2][6] = timing_SN3[6] = 0;</div>
<div class="line"><span class="lineno"> 5021</span>            Display.SequencerMatrix[2][7] = timing_SN3[7] = 0;</div>
<div class="line"><span class="lineno"> 5022</span>            <span class="comment">// Voices</span></div>
<div class="line"><span class="lineno"> 5023</span>            Display.Voices_ONOFF[0] = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 5024</span>            strcpy(Display.value_str_voices_overview[0], <span class="stringliteral">&quot;ON&quot;</span>);</div>
<div class="line"><span class="lineno"> 5025</span>            Display.Voices_ONOFF[1] = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 5026</span>            strcpy(Display.value_str_voices_overview[1], <span class="stringliteral">&quot;ON&quot;</span>);</div>
<div class="line"><span class="lineno"> 5027</span>            Display.Voices_ONOFF[2] = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 5028</span>            strcpy(Display.value_str_voices_overview[2], <span class="stringliteral">&quot;ON&quot;</span>);</div>
<div class="line"><span class="lineno"> 5029</span>            Display.Voices_Kind[0] = SIN;</div>
<div class="line"><span class="lineno"> 5030</span>            Display.Voices_Kind[1] = SIN;</div>
<div class="line"><span class="lineno"> 5031</span>            Display.Voices_Kind[2] = SIN;</div>
<div class="line"><span class="lineno"> 5032</span>            Display.Voices_Note[0] = <span class="charliteral">&#39;C&#39;</span>;</div>
<div class="line"><span class="lineno"> 5033</span>            Display.Voices_Noteindex[0] = 0;    <span class="comment">// C</span></div>
<div class="line"><span class="lineno"> 5034</span>            Display.Voices_Octave[0] = 0;</div>
<div class="line"><span class="lineno"> 5035</span>            Display.Voices_Note[1] = <span class="charliteral">&#39;C&#39;</span>;</div>
<div class="line"><span class="lineno"> 5036</span>            Display.Voices_Noteindex[1] = 0;    <span class="comment">// C</span></div>
<div class="line"><span class="lineno"> 5037</span>            Display.Voices_Octave[1] = 1;</div>
<div class="line"><span class="lineno"> 5038</span>            Display.Voices_Note[2] = <span class="charliteral">&#39;C&#39;</span>;</div>
<div class="line"><span class="lineno"> 5039</span>            Display.Voices_Noteindex[2] = 0;    <span class="comment">// C</span></div>
<div class="line"><span class="lineno"> 5040</span>            Display.Voices_Octave[2] = 2;</div>
<div class="line"><span class="lineno"> 5041</span>            <span class="comment">// ADSR</span></div>
<div class="line"><span class="lineno"> 5042</span>            Display.ADSR_Attacktime = 0.43;</div>
<div class="line"><span class="lineno"> 5043</span>            <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;MAX_SIMULTANEOUS_KEYBOARD_NOTES; i++)</div>
<div class="line"><span class="lineno"> 5044</span>                <a class="code hl_variable" href="group__ADSR.html#ga742e13f70ae8c573509abfd794271f44">adsr_keyboard</a>[i].adsr_attack_time = Display.ADSR_Attacktime * LUT_SR;</div>
<div class="line"><span class="lineno"> 5045</span>            Display.ADSR_Decaytime = 0.96;</div>
<div class="line"><span class="lineno"> 5046</span>            <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;MAX_SIMULTANEOUS_KEYBOARD_NOTES; i++)</div>
<div class="line"><span class="lineno"> 5047</span>                <a class="code hl_variable" href="group__ADSR.html#ga742e13f70ae8c573509abfd794271f44">adsr_keyboard</a>[i].adsr_decay_time = Display.ADSR_Decaytime * LUT_SR;</div>
<div class="line"><span class="lineno"> 5048</span>            Display.ADSR_Sustaintime = 0.79;</div>
<div class="line"><span class="lineno"> 5049</span>            <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;MAX_SIMULTANEOUS_KEYBOARD_NOTES; i++)</div>
<div class="line"><span class="lineno"> 5050</span>                <a class="code hl_variable" href="group__ADSR.html#ga742e13f70ae8c573509abfd794271f44">adsr_keyboard</a>[i].adsr_sustain_time = Display.ADSR_Sustaintime * LUT_SR;</div>
<div class="line"><span class="lineno"> 5051</span>            Display.ADSR_Sustainlevel = 0.95;</div>
<div class="line"><span class="lineno"> 5052</span>            <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;MAX_SIMULTANEOUS_KEYBOARD_NOTES; i++)</div>
<div class="line"><span class="lineno"> 5053</span>                <a class="code hl_variable" href="group__ADSR.html#ga742e13f70ae8c573509abfd794271f44">adsr_keyboard</a>[i].adsr_sustain_amplitude = Display.ADSR_Sustainlevel;</div>
<div class="line"><span class="lineno"> 5054</span>            Display.ADSR_Releasetime = 0.45;</div>
<div class="line"><span class="lineno"> 5055</span>            <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;MAX_SIMULTANEOUS_KEYBOARD_NOTES; i++)</div>
<div class="line"><span class="lineno"> 5056</span>                <a class="code hl_variable" href="group__ADSR.html#ga742e13f70ae8c573509abfd794271f44">adsr_keyboard</a>[i].adsr_release_time = Display.ADSR_Releasetime * LUT_SR;</div>
<div class="line"><span class="lineno"> 5057</span>            <span class="comment">// Equalizer off</span></div>
<div class="line"><span class="lineno"> 5058</span>            <span class="comment">// WahWah</span></div>
<div class="line"><span class="lineno"> 5059</span>            Display.WahWah_ONOFF = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 5060</span>            strcpy(Display.value_str_wahwah[0], <span class="stringliteral">&quot;ON&quot;</span>);</div>
<div class="line"><span class="lineno"> 5061</span>            Display.WahWah_Mode = 1;    <span class="comment">// Auto-WahWah</span></div>
<div class="line"><span class="lineno"> 5062</span>            strcpy(Display.value_str_wahwah[1], <span class="stringliteral">&quot;AutoWahWah&quot;</span>);</div>
<div class="line"><span class="lineno"> 5063</span>            Display.WahWah_MidFreq = WahWah.mid_freq = 350.0;</div>
<div class="line"><span class="lineno"> 5064</span>            Display.WahWah_Q = WahWah.bandpass-&gt;Q = 1.14;</div>
<div class="line"><span class="lineno"> 5065</span>            Display.WahWah_Range = WahWah.range = 500.0;</div>
<div class="line"><span class="lineno"> 5066</span>            Display.WahWah_LFOfreq = WahWah.lfo-&gt;lfo_frequency = 1;</div>
<div class="line"><span class="lineno"> 5067</span>            Display.WahWah_LFOfreq_Index = Display.last_WahWah_LFOfreq_Index = 4;   <span class="comment">// 1 Hz</span></div>
<div class="line"><span class="lineno"> 5068</span>            <span class="comment">// Distortion</span></div>
<div class="line"><span class="lineno"> 5069</span>            Display.Distortion_ONOFF = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 5070</span>            strcpy(Display.value_str_distortion[0], <span class="stringliteral">&quot;ON&quot;</span>);</div>
<div class="line"><span class="lineno"> 5071</span>            Display.Distortion_Type = 1;    <span class="comment">// Hard Clipping</span></div>
<div class="line"><span class="lineno"> 5072</span>            strcpy(Display.value_str_distortion[1], <span class="stringliteral">&quot;Hard&quot;</span>);</div>
<div class="line"><span class="lineno"> 5073</span>            Display.Distortion_Gain = 4.0;</div>
<div class="line"><span class="lineno"> 5074</span>            <span class="comment">// Tremolo off</span></div>
<div class="line"><span class="lineno"> 5075</span> </div>
<div class="line"><span class="lineno"> 5076</span>            Display.SetPreset = <span class="keyword">false</span>;  <span class="comment">// Reset the state</span></div>
<div class="line"><span class="lineno"> 5077</span>            strcpy(Display.value_str_presets[1], <span class="stringliteral">&quot;done&quot;</span>);</div>
<div class="line"><span class="lineno"> 5078</span>        }</div>
<div class="line"><span class="lineno"> 5079</span> </div>
<div class="line"><span class="lineno"> 5080</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(Display.SetPreset == <span class="keyword">false</span>)</div>
<div class="line"><span class="lineno"> 5081</span>            strcpy(Display.value_str_presets[1], <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><span class="lineno"> 5082</span> </div>
<div class="line"><span class="lineno"> 5083</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 5084</span> </div>
<div class="line"><span class="lineno"> 5085</span>    <span class="keywordflow">case</span> 3:</div>
<div class="line"><span class="lineno"> 5086</span>        <span class="keywordflow">if</span>(Display.SetPreset == <span class="keyword">true</span>) {</div>
<div class="line"><span class="lineno"> 5087</span> </div>
<div class="line"><span class="lineno"> 5088</span>            <span class="comment">// Reset everything</span></div>
<div class="line"><span class="lineno"> 5089</span>            <a class="code hl_function" href="group__DisplayPage.html#ga84ad5e4c5b1f9dca651caf624ed02d91">Full_Reset</a>();</div>
<div class="line"><span class="lineno"> 5090</span>            <span class="comment">// Volumes</span></div>
<div class="line"><span class="lineno"> 5091</span>            <a class="code hl_variable" href="group__SSynth.html#ga0c06ec02b1329cdb21df9311f9bc3712">volume</a>[0] = 0.21;</div>
<div class="line"><span class="lineno"> 5092</span>            <a class="code hl_variable" href="group__SSynth.html#ga0c06ec02b1329cdb21df9311f9bc3712">volume</a>[1] = 1;</div>
<div class="line"><span class="lineno"> 5093</span>            <a class="code hl_variable" href="group__SSynth.html#ga0c06ec02b1329cdb21df9311f9bc3712">volume</a>[2] = 0.55;</div>
<div class="line"><span class="lineno"> 5094</span>            <a class="code hl_variable" href="group__SSynth.html#ga0c06ec02b1329cdb21df9311f9bc3712">volume</a>[3] = 1;</div>
<div class="line"><span class="lineno"> 5095</span>            <span class="comment">// Drumcomputer</span></div>
<div class="line"><span class="lineno"> 5096</span>            Display.Drumcomputer_ONOFF = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 5097</span>            strcpy(Display.value_str_drumcomputer[0], <span class="stringliteral">&quot;ON&quot;</span>);    <span class="comment">// To make sure that value is correctly displayed when switch to page</span></div>
<div class="line"><span class="lineno"> 5098</span>            <a class="code hl_variable" href="group__DrumComputer.html#ga0065e192c774e20fd5e0ab3c342b7088">BPM</a> = 120;</div>
<div class="line"><span class="lineno"> 5099</span>            <a class="code hl_function" href="group__Display.html#gafeebe386ce2f442752742b054674b40d">Display_LoadDrumKits</a>(0);    <span class="comment">// Load 909</span></div>
<div class="line"><span class="lineno"> 5100</span>            <span class="comment">// Set Drum Pattern</span></div>
<div class="line"><span class="lineno"> 5101</span>            Display.DrumMatrix[0][0] = <a class="code hl_variable" href="group__DrumComputer.html#ga4c0fb828065d1505aa1abfdd52afc7c3">timing_DS1</a>[0] = 1;   <span class="comment">// Sample 1</span></div>
<div class="line"><span class="lineno"> 5102</span>            Display.DrumMatrix[0][1] = <a class="code hl_variable" href="group__DrumComputer.html#ga4c0fb828065d1505aa1abfdd52afc7c3">timing_DS1</a>[1] = 0;</div>
<div class="line"><span class="lineno"> 5103</span>            Display.DrumMatrix[0][2] = <a class="code hl_variable" href="group__DrumComputer.html#ga4c0fb828065d1505aa1abfdd52afc7c3">timing_DS1</a>[2] = 0;</div>
<div class="line"><span class="lineno"> 5104</span>            Display.DrumMatrix[0][3] = <a class="code hl_variable" href="group__DrumComputer.html#ga4c0fb828065d1505aa1abfdd52afc7c3">timing_DS1</a>[3] = 0;</div>
<div class="line"><span class="lineno"> 5105</span>            Display.DrumMatrix[0][4] = <a class="code hl_variable" href="group__DrumComputer.html#ga4c0fb828065d1505aa1abfdd52afc7c3">timing_DS1</a>[4] = 1;</div>
<div class="line"><span class="lineno"> 5106</span>            Display.DrumMatrix[0][5] = <a class="code hl_variable" href="group__DrumComputer.html#ga4c0fb828065d1505aa1abfdd52afc7c3">timing_DS1</a>[5] = 0;</div>
<div class="line"><span class="lineno"> 5107</span>            Display.DrumMatrix[0][6] = <a class="code hl_variable" href="group__DrumComputer.html#ga4c0fb828065d1505aa1abfdd52afc7c3">timing_DS1</a>[6] = 0;</div>
<div class="line"><span class="lineno"> 5108</span>            Display.DrumMatrix[0][7] = <a class="code hl_variable" href="group__DrumComputer.html#ga4c0fb828065d1505aa1abfdd52afc7c3">timing_DS1</a>[7] = 0;</div>
<div class="line"><span class="lineno"> 5109</span>            Display.DrumMatrix[1][0] = timing_DS2[0] = 0;   <span class="comment">// Sample 2</span></div>
<div class="line"><span class="lineno"> 5110</span>            Display.DrumMatrix[1][1] = timing_DS2[1] = 0;</div>
<div class="line"><span class="lineno"> 5111</span>            Display.DrumMatrix[1][2] = timing_DS2[2] = 1;</div>
<div class="line"><span class="lineno"> 5112</span>            Display.DrumMatrix[1][3] = timing_DS2[3] = 0;</div>
<div class="line"><span class="lineno"> 5113</span>            Display.DrumMatrix[1][4] = timing_DS2[4] = 0;</div>
<div class="line"><span class="lineno"> 5114</span>            Display.DrumMatrix[1][5] = timing_DS2[5] = 1;</div>
<div class="line"><span class="lineno"> 5115</span>            Display.DrumMatrix[1][6] = timing_DS2[6] = 0;</div>
<div class="line"><span class="lineno"> 5116</span>            Display.DrumMatrix[1][7] = timing_DS2[7] = 0;</div>
<div class="line"><span class="lineno"> 5117</span>            Display.DrumMatrix[2][0] = timing_DS3[0] = 0;   <span class="comment">// Sample 3</span></div>
<div class="line"><span class="lineno"> 5118</span>            Display.DrumMatrix[2][1] = timing_DS3[1] = 0;</div>
<div class="line"><span class="lineno"> 5119</span>            Display.DrumMatrix[2][2] = timing_DS3[2] = 0;</div>
<div class="line"><span class="lineno"> 5120</span>            Display.DrumMatrix[2][3] = timing_DS3[3] = 0;</div>
<div class="line"><span class="lineno"> 5121</span>            Display.DrumMatrix[2][4] = timing_DS3[4] = 1;</div>
<div class="line"><span class="lineno"> 5122</span>            Display.DrumMatrix[2][5] = timing_DS3[5] = 0;</div>
<div class="line"><span class="lineno"> 5123</span>            Display.DrumMatrix[2][6] = timing_DS3[6] = 0;</div>
<div class="line"><span class="lineno"> 5124</span>            Display.DrumMatrix[2][7] = timing_DS3[7] = 0;</div>
<div class="line"><span class="lineno"> 5125</span>            Display.DrumMatrix[3][0] = timing_DS4[0] = 1;   <span class="comment">// Sample 4</span></div>
<div class="line"><span class="lineno"> 5126</span>            Display.DrumMatrix[3][1] = timing_DS4[1] = 1;</div>
<div class="line"><span class="lineno"> 5127</span>            Display.DrumMatrix[3][2] = timing_DS4[2] = 1;</div>
<div class="line"><span class="lineno"> 5128</span>            Display.DrumMatrix[3][3] = timing_DS4[3] = 0;</div>
<div class="line"><span class="lineno"> 5129</span>            Display.DrumMatrix[3][4] = timing_DS4[4] = 0;</div>
<div class="line"><span class="lineno"> 5130</span>            Display.DrumMatrix[3][5] = timing_DS4[5] = 0;</div>
<div class="line"><span class="lineno"> 5131</span>            Display.DrumMatrix[3][6] = timing_DS4[6] = 0;</div>
<div class="line"><span class="lineno"> 5132</span>            Display.DrumMatrix[3][7] = timing_DS4[7] = 0;</div>
<div class="line"><span class="lineno"> 5133</span>            <span class="comment">// Sequencer</span></div>
<div class="line"><span class="lineno"> 5134</span>            Display.Sequencer_ONOFF = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 5135</span>            strcpy(Display.value_str_sequencer[0], <span class="stringliteral">&quot;ON&quot;</span>);   <span class="comment">// To make sure that value is correctly displayed when switch to page</span></div>
<div class="line"><span class="lineno"> 5136</span>            <span class="comment">// Seq. Note 1</span></div>
<div class="line"><span class="lineno"> 5137</span>            <a class="code hl_variable" href="group__Sequencer.html#ga4211ba08e77d82a294762a623041e342">freq_index_SN1</a> = <a class="code hl_function" href="group__MusicNotes.html#ga71407d53f2b1100f1ab93dc2681dfe48">Get_Note_Index</a>(<span class="charliteral">&#39;C&#39;</span>, 2);    <span class="comment">// Load notes</span></div>
<div class="line"><span class="lineno"> 5138</span>            Display.Sequencer_Noteindex[0] = 0; <span class="comment">// C</span></div>
<div class="line"><span class="lineno"> 5139</span>            Display.Sequencer_Octave[0] = 2;</div>
<div class="line"><span class="lineno"> 5140</span>            <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;<a class="code hl_define" href="group__DrumComputer.html#ga267b06d60a7514d898b5cac91b4380ec">FourFour</a>; i++) {</div>
<div class="line"><span class="lineno"> 5141</span>                <a class="code hl_variable" href="group__Sequencer.html#gabafd5c3bbb1d0bbc3e708889e904e3a7">current_LUT_index_SN1</a>[i] = <a class="code hl_variable" href="group__SINLUT.html#ga2e5122eebde8d369cf949da93586ec2e">LUT_STARTINDEX</a>[<a class="code hl_variable" href="group__Sequencer.html#ga4211ba08e77d82a294762a623041e342">freq_index_SN1</a>];</div>
<div class="line"><span class="lineno"> 5142</span>            }</div>
<div class="line"><span class="lineno"> 5143</span>            sprintf(Display.value_str_sequencer[1], <span class="stringliteral">&quot;%c&quot;</span>, <span class="charliteral">&#39;C&#39;</span>);</div>
<div class="line"><span class="lineno"> 5144</span>            sprintf(Display.value_str_sequencer[2], <span class="stringliteral">&quot;%d&quot;</span>, 2);</div>
<div class="line"><span class="lineno"> 5145</span>            <span class="comment">// Seq. Note 2</span></div>
<div class="line"><span class="lineno"> 5146</span>            freq_index_SN2 = <a class="code hl_function" href="group__MusicNotes.html#ga71407d53f2b1100f1ab93dc2681dfe48">Get_Note_Index</a>(<span class="charliteral">&#39;E&#39;</span>, 1);</div>
<div class="line"><span class="lineno"> 5147</span>            Display.Sequencer_Noteindex[1] = 4; <span class="comment">// E</span></div>
<div class="line"><span class="lineno"> 5148</span>            Display.Sequencer_Octave[1] = 1;</div>
<div class="line"><span class="lineno"> 5149</span>            <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;<a class="code hl_define" href="group__DrumComputer.html#ga267b06d60a7514d898b5cac91b4380ec">FourFour</a>; i++) {</div>
<div class="line"><span class="lineno"> 5150</span>                current_LUT_index_SN2[i] = <a class="code hl_variable" href="group__SINLUT.html#ga2e5122eebde8d369cf949da93586ec2e">LUT_STARTINDEX</a>[freq_index_SN2];</div>
<div class="line"><span class="lineno"> 5151</span>            }</div>
<div class="line"><span class="lineno"> 5152</span>            sprintf(Display.value_str_sequencer[3], <span class="stringliteral">&quot;%c&quot;</span>, <span class="charliteral">&#39;E&#39;</span>);</div>
<div class="line"><span class="lineno"> 5153</span>            sprintf(Display.value_str_sequencer[4], <span class="stringliteral">&quot;%d&quot;</span>, 1);</div>
<div class="line"><span class="lineno"> 5154</span>            <span class="comment">// Seq. Note 3</span></div>
<div class="line"><span class="lineno"> 5155</span>            freq_index_SN3 = <a class="code hl_function" href="group__MusicNotes.html#ga71407d53f2b1100f1ab93dc2681dfe48">Get_Note_Index</a>(<span class="charliteral">&#39;G&#39;</span>, 2);</div>
<div class="line"><span class="lineno"> 5156</span>            Display.Sequencer_Noteindex[2] = 7; <span class="comment">// G</span></div>
<div class="line"><span class="lineno"> 5157</span>            Display.Sequencer_Octave[2] = 2;</div>
<div class="line"><span class="lineno"> 5158</span>            <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;<a class="code hl_define" href="group__DrumComputer.html#ga267b06d60a7514d898b5cac91b4380ec">FourFour</a>; i++) {</div>
<div class="line"><span class="lineno"> 5159</span>                current_LUT_index_SN3[i] = <a class="code hl_variable" href="group__SINLUT.html#ga2e5122eebde8d369cf949da93586ec2e">LUT_STARTINDEX</a>[freq_index_SN3];</div>
<div class="line"><span class="lineno"> 5160</span>            }</div>
<div class="line"><span class="lineno"> 5161</span>            sprintf(Display.value_str_sequencer[5], <span class="stringliteral">&quot;%c&quot;</span>, <span class="charliteral">&#39;G&#39;</span>);</div>
<div class="line"><span class="lineno"> 5162</span>            sprintf(Display.value_str_sequencer[6], <span class="stringliteral">&quot;%d&quot;</span>, 2);</div>
<div class="line"><span class="lineno"> 5163</span> </div>
<div class="line"><span class="lineno"> 5164</span>            <span class="comment">// Set Sequencer Pattern</span></div>
<div class="line"><span class="lineno"> 5165</span>            Display.SequencerMatrix[0][0] = timing_SN1[0] = 1;</div>
<div class="line"><span class="lineno"> 5166</span>            Display.SequencerMatrix[0][1] = timing_SN1[1] = 0;</div>
<div class="line"><span class="lineno"> 5167</span>            Display.SequencerMatrix[0][2] = timing_SN1[2] = 1;</div>
<div class="line"><span class="lineno"> 5168</span>            Display.SequencerMatrix[0][3] = timing_SN1[3] = 0;</div>
<div class="line"><span class="lineno"> 5169</span>            Display.SequencerMatrix[0][4] = timing_SN1[4] = 0;</div>
<div class="line"><span class="lineno"> 5170</span>            Display.SequencerMatrix[0][5] = timing_SN1[5] = 0;</div>
<div class="line"><span class="lineno"> 5171</span>            Display.SequencerMatrix[0][6] = timing_SN1[6] = 1;</div>
<div class="line"><span class="lineno"> 5172</span>            Display.SequencerMatrix[0][7] = timing_SN1[7] = 0;</div>
<div class="line"><span class="lineno"> 5173</span>            Display.SequencerMatrix[1][0] = timing_SN2[0] = 1;</div>
<div class="line"><span class="lineno"> 5174</span>            Display.SequencerMatrix[1][1] = timing_SN2[1] = 0;</div>
<div class="line"><span class="lineno"> 5175</span>            Display.SequencerMatrix[1][2] = timing_SN2[2] = 0;</div>
<div class="line"><span class="lineno"> 5176</span>            Display.SequencerMatrix[1][3] = timing_SN2[3] = 1;</div>
<div class="line"><span class="lineno"> 5177</span>            Display.SequencerMatrix[1][4] = timing_SN2[4] = 0;</div>
<div class="line"><span class="lineno"> 5178</span>            Display.SequencerMatrix[1][5] = timing_SN2[5] = 1;</div>
<div class="line"><span class="lineno"> 5179</span>            Display.SequencerMatrix[1][6] = timing_SN2[6] = 0;</div>
<div class="line"><span class="lineno"> 5180</span>            Display.SequencerMatrix[1][7] = timing_SN2[7] = 0;</div>
<div class="line"><span class="lineno"> 5181</span>            Display.SequencerMatrix[2][0] = timing_SN3[0] = 1;</div>
<div class="line"><span class="lineno"> 5182</span>            Display.SequencerMatrix[2][1] = timing_SN3[1] = 0;</div>
<div class="line"><span class="lineno"> 5183</span>            Display.SequencerMatrix[2][2] = timing_SN3[2] = 0;</div>
<div class="line"><span class="lineno"> 5184</span>            Display.SequencerMatrix[2][3] = timing_SN3[3] = 0;</div>
<div class="line"><span class="lineno"> 5185</span>            Display.SequencerMatrix[2][4] = timing_SN3[4] = 1;</div>
<div class="line"><span class="lineno"> 5186</span>            Display.SequencerMatrix[2][5] = timing_SN3[5] = 0;</div>
<div class="line"><span class="lineno"> 5187</span>            Display.SequencerMatrix[2][6] = timing_SN3[6] = 0;</div>
<div class="line"><span class="lineno"> 5188</span>            Display.SequencerMatrix[2][7] = timing_SN3[7] = 0;</div>
<div class="line"><span class="lineno"> 5189</span>            <span class="comment">// Voices</span></div>
<div class="line"><span class="lineno"> 5190</span>            Display.Voices_ONOFF[0] = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 5191</span>            strcpy(Display.value_str_voices_overview[0], <span class="stringliteral">&quot;ON&quot;</span>);</div>
<div class="line"><span class="lineno"> 5192</span>            Display.Voices_ONOFF[1] = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 5193</span>            strcpy(Display.value_str_voices_overview[1], <span class="stringliteral">&quot;ON&quot;</span>);</div>
<div class="line"><span class="lineno"> 5194</span>            Display.Voices_ONOFF[2] = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 5195</span>            strcpy(Display.value_str_voices_overview[2], <span class="stringliteral">&quot;ON&quot;</span>);</div>
<div class="line"><span class="lineno"> 5196</span>            Display.Voices_Kind[0] = SIN;</div>
<div class="line"><span class="lineno"> 5197</span>            Display.Voices_Kind[1] = SIN;</div>
<div class="line"><span class="lineno"> 5198</span>            Display.Voices_Kind[2] = SIN;</div>
<div class="line"><span class="lineno"> 5199</span>            Display.Voices_Note[0] = <span class="charliteral">&#39;C&#39;</span>;</div>
<div class="line"><span class="lineno"> 5200</span>            Display.Voices_Noteindex[0] = 0;    <span class="comment">// C</span></div>
<div class="line"><span class="lineno"> 5201</span>            Display.Voices_Octave[0] = 0;</div>
<div class="line"><span class="lineno"> 5202</span>            Display.Voices_Note[1] = <span class="charliteral">&#39;E&#39;</span>;</div>
<div class="line"><span class="lineno"> 5203</span>            Display.Voices_Noteindex[1] = 4;    <span class="comment">// E</span></div>
<div class="line"><span class="lineno"> 5204</span>            Display.Voices_Octave[1] = 1;</div>
<div class="line"><span class="lineno"> 5205</span>            Display.Voices_Note[2] = <span class="charliteral">&#39;G&#39;</span>;</div>
<div class="line"><span class="lineno"> 5206</span>            Display.Voices_Noteindex[2] = 7;    <span class="comment">// G</span></div>
<div class="line"><span class="lineno"> 5207</span>            Display.Voices_Octave[2] = 2;</div>
<div class="line"><span class="lineno"> 5208</span>            <span class="comment">// ADSR</span></div>
<div class="line"><span class="lineno"> 5209</span>            Display.ADSR_Attacktime = 0.1;</div>
<div class="line"><span class="lineno"> 5210</span>            <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;MAX_SIMULTANEOUS_KEYBOARD_NOTES; i++)</div>
<div class="line"><span class="lineno"> 5211</span>                <a class="code hl_variable" href="group__ADSR.html#ga742e13f70ae8c573509abfd794271f44">adsr_keyboard</a>[i].adsr_attack_time = Display.ADSR_Attacktime * LUT_SR;</div>
<div class="line"><span class="lineno"> 5212</span>            Display.ADSR_Decaytime = 0.1;</div>
<div class="line"><span class="lineno"> 5213</span>            <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;MAX_SIMULTANEOUS_KEYBOARD_NOTES; i++)</div>
<div class="line"><span class="lineno"> 5214</span>                <a class="code hl_variable" href="group__ADSR.html#ga742e13f70ae8c573509abfd794271f44">adsr_keyboard</a>[i].adsr_decay_time = Display.ADSR_Decaytime * LUT_SR;</div>
<div class="line"><span class="lineno"> 5215</span>            Display.ADSR_Sustaintime = 0.3;</div>
<div class="line"><span class="lineno"> 5216</span>            <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;MAX_SIMULTANEOUS_KEYBOARD_NOTES; i++)</div>
<div class="line"><span class="lineno"> 5217</span>                <a class="code hl_variable" href="group__ADSR.html#ga742e13f70ae8c573509abfd794271f44">adsr_keyboard</a>[i].adsr_sustain_time = Display.ADSR_Sustaintime * LUT_SR;</div>
<div class="line"><span class="lineno"> 5218</span>            Display.ADSR_Sustainlevel = 0.5;</div>
<div class="line"><span class="lineno"> 5219</span>            <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;MAX_SIMULTANEOUS_KEYBOARD_NOTES; i++)</div>
<div class="line"><span class="lineno"> 5220</span>                <a class="code hl_variable" href="group__ADSR.html#ga742e13f70ae8c573509abfd794271f44">adsr_keyboard</a>[i].adsr_sustain_amplitude = Display.ADSR_Sustainlevel;</div>
<div class="line"><span class="lineno"> 5221</span>            Display.ADSR_Releasetime = 0.05;</div>
<div class="line"><span class="lineno"> 5222</span>            <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;MAX_SIMULTANEOUS_KEYBOARD_NOTES; i++)</div>
<div class="line"><span class="lineno"> 5223</span>                <a class="code hl_variable" href="group__ADSR.html#ga742e13f70ae8c573509abfd794271f44">adsr_keyboard</a>[i].adsr_release_time = Display.ADSR_Releasetime * LUT_SR;</div>
<div class="line"><span class="lineno"> 5224</span>            <span class="comment">// Equalizer off</span></div>
<div class="line"><span class="lineno"> 5225</span>            <span class="comment">// WahWah</span></div>
<div class="line"><span class="lineno"> 5226</span>            Display.WahWah_ONOFF = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 5227</span>            strcpy(Display.value_str_wahwah[0], <span class="stringliteral">&quot;ON&quot;</span>);</div>
<div class="line"><span class="lineno"> 5228</span>            Display.WahWah_Mode = 1;    <span class="comment">// Auto-WahWah</span></div>
<div class="line"><span class="lineno"> 5229</span>            strcpy(Display.value_str_wahwah[1], <span class="stringliteral">&quot;AutoWahWah&quot;</span>);</div>
<div class="line"><span class="lineno"> 5230</span>            Display.WahWah_MidFreq = WahWah.mid_freq = 256.41;</div>
<div class="line"><span class="lineno"> 5231</span>            Display.WahWah_Q = WahWah.bandpass-&gt;Q = 1.02;</div>
<div class="line"><span class="lineno"> 5232</span>            Display.WahWah_Range = WahWah.range = 346.99;</div>
<div class="line"><span class="lineno"> 5233</span>            Display.WahWah_LFOfreq = WahWah.lfo-&gt;lfo_frequency = 4;</div>
<div class="line"><span class="lineno"> 5234</span>            Display.WahWah_LFOfreq_Index = Display.last_WahWah_LFOfreq_Index = 5;   <span class="comment">// 4 Hz</span></div>
<div class="line"><span class="lineno"> 5235</span>            <span class="comment">// Distortion</span></div>
<div class="line"><span class="lineno"> 5236</span>            Display.Distortion_ONOFF = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 5237</span>            strcpy(Display.value_str_distortion[0], <span class="stringliteral">&quot;ON&quot;</span>);</div>
<div class="line"><span class="lineno"> 5238</span>            Display.Distortion_Type = 1;    <span class="comment">// Hard Clipping</span></div>
<div class="line"><span class="lineno"> 5239</span>            strcpy(Display.value_str_distortion[1], <span class="stringliteral">&quot;Hard&quot;</span>);</div>
<div class="line"><span class="lineno"> 5240</span>            Display.Distortion_Gain = 10;</div>
<div class="line"><span class="lineno"> 5241</span>            <span class="comment">// Tremolo</span></div>
<div class="line"><span class="lineno"> 5242</span>            Display.Tremolo_ONOFF = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 5243</span>            strcpy(Display.value_str_tremolo[0], <span class="stringliteral">&quot;ON&quot;</span>);</div>
<div class="line"><span class="lineno"> 5244</span>            Display.Tremolo_Rate = Tremolo.lfo-&gt;lfo_frequency = 0.125;</div>
<div class="line"><span class="lineno"> 5245</span>            Display.Tremolo_Rate_Index = Display.last_Tremolo_Rate_Index = 0;   <span class="comment">// 0.125 Hz</span></div>
<div class="line"><span class="lineno"> 5246</span>            Display.Tremolo_Depth = Tremolo.lfo-&gt;lfo_depth = 1;</div>
<div class="line"><span class="lineno"> 5247</span> </div>
<div class="line"><span class="lineno"> 5248</span>            Display.SetPreset = <span class="keyword">false</span>;  <span class="comment">// Reset the state</span></div>
<div class="line"><span class="lineno"> 5249</span>            strcpy(Display.value_str_presets[2], <span class="stringliteral">&quot;done&quot;</span>);</div>
<div class="line"><span class="lineno"> 5250</span>        }</div>
<div class="line"><span class="lineno"> 5251</span> </div>
<div class="line"><span class="lineno"> 5252</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(Display.SetPreset == <span class="keyword">false</span>)</div>
<div class="line"><span class="lineno"> 5253</span>            strcpy(Display.value_str_presets[2], <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><span class="lineno"> 5254</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 5255</span> </div>
<div class="line"><span class="lineno"> 5256</span>    <span class="keywordflow">case</span> 4:</div>
<div class="line"><span class="lineno"> 5257</span>        <span class="keywordflow">if</span>(Display.SetPreset == <span class="keyword">true</span>) {</div>
<div class="line"><span class="lineno"> 5258</span> </div>
<div class="line"><span class="lineno"> 5259</span>            <span class="comment">// Reset everything</span></div>
<div class="line"><span class="lineno"> 5260</span>            <a class="code hl_function" href="group__DisplayPage.html#ga84ad5e4c5b1f9dca651caf624ed02d91">Full_Reset</a>();</div>
<div class="line"><span class="lineno"> 5261</span>            <span class="comment">// Volumes</span></div>
<div class="line"><span class="lineno"> 5262</span>            <a class="code hl_variable" href="group__SSynth.html#ga0c06ec02b1329cdb21df9311f9bc3712">volume</a>[0] = 0.93;</div>
<div class="line"><span class="lineno"> 5263</span>            <a class="code hl_variable" href="group__SSynth.html#ga0c06ec02b1329cdb21df9311f9bc3712">volume</a>[1] = 1.00;</div>
<div class="line"><span class="lineno"> 5264</span>            <a class="code hl_variable" href="group__SSynth.html#ga0c06ec02b1329cdb21df9311f9bc3712">volume</a>[2] = 1.00;</div>
<div class="line"><span class="lineno"> 5265</span>            <a class="code hl_variable" href="group__SSynth.html#ga0c06ec02b1329cdb21df9311f9bc3712">volume</a>[3] = 0.40;</div>
<div class="line"><span class="lineno"> 5266</span>            <span class="comment">// Drumcomputer</span></div>
<div class="line"><span class="lineno"> 5267</span>            Display.Drumcomputer_ONOFF = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 5268</span>            strcpy(Display.value_str_drumcomputer[0], <span class="stringliteral">&quot;ON&quot;</span>);    <span class="comment">// To make sure that value is correctly displayed when switch to page</span></div>
<div class="line"><span class="lineno"> 5269</span>            <a class="code hl_variable" href="group__DrumComputer.html#ga0065e192c774e20fd5e0ab3c342b7088">BPM</a> = 100;</div>
<div class="line"><span class="lineno"> 5270</span>            <a class="code hl_function" href="group__Display.html#gafeebe386ce2f442752742b054674b40d">Display_LoadDrumKits</a>(0);    <span class="comment">// Load 909</span></div>
<div class="line"><span class="lineno"> 5271</span>            <span class="comment">// Set Drum Pattern</span></div>
<div class="line"><span class="lineno"> 5272</span>            Display.DrumMatrix[0][0] = <a class="code hl_variable" href="group__DrumComputer.html#ga4c0fb828065d1505aa1abfdd52afc7c3">timing_DS1</a>[0] = 1;   <span class="comment">// Sample 1</span></div>
<div class="line"><span class="lineno"> 5273</span>            Display.DrumMatrix[0][1] = <a class="code hl_variable" href="group__DrumComputer.html#ga4c0fb828065d1505aa1abfdd52afc7c3">timing_DS1</a>[1] = 1;</div>
<div class="line"><span class="lineno"> 5274</span>            Display.DrumMatrix[0][2] = <a class="code hl_variable" href="group__DrumComputer.html#ga4c0fb828065d1505aa1abfdd52afc7c3">timing_DS1</a>[2] = 0;</div>
<div class="line"><span class="lineno"> 5275</span>            Display.DrumMatrix[0][3] = <a class="code hl_variable" href="group__DrumComputer.html#ga4c0fb828065d1505aa1abfdd52afc7c3">timing_DS1</a>[3] = 0;</div>
<div class="line"><span class="lineno"> 5276</span>            Display.DrumMatrix[0][4] = <a class="code hl_variable" href="group__DrumComputer.html#ga4c0fb828065d1505aa1abfdd52afc7c3">timing_DS1</a>[4] = 0;</div>
<div class="line"><span class="lineno"> 5277</span>            Display.DrumMatrix[0][5] = <a class="code hl_variable" href="group__DrumComputer.html#ga4c0fb828065d1505aa1abfdd52afc7c3">timing_DS1</a>[5] = 1;</div>
<div class="line"><span class="lineno"> 5278</span>            Display.DrumMatrix[0][6] = <a class="code hl_variable" href="group__DrumComputer.html#ga4c0fb828065d1505aa1abfdd52afc7c3">timing_DS1</a>[6] = 0;</div>
<div class="line"><span class="lineno"> 5279</span>            Display.DrumMatrix[0][7] = <a class="code hl_variable" href="group__DrumComputer.html#ga4c0fb828065d1505aa1abfdd52afc7c3">timing_DS1</a>[7] = 0;</div>
<div class="line"><span class="lineno"> 5280</span>            Display.DrumMatrix[1][0] = timing_DS2[0] = 0;   <span class="comment">// Sample 2</span></div>
<div class="line"><span class="lineno"> 5281</span>            Display.DrumMatrix[1][1] = timing_DS2[1] = 0;</div>
<div class="line"><span class="lineno"> 5282</span>            Display.DrumMatrix[1][2] = timing_DS2[2] = 0;</div>
<div class="line"><span class="lineno"> 5283</span>            Display.DrumMatrix[1][3] = timing_DS2[3] = 0;</div>
<div class="line"><span class="lineno"> 5284</span>            Display.DrumMatrix[1][4] = timing_DS2[4] = 0;</div>
<div class="line"><span class="lineno"> 5285</span>            Display.DrumMatrix[1][5] = timing_DS2[5] = 0;</div>
<div class="line"><span class="lineno"> 5286</span>            Display.DrumMatrix[1][6] = timing_DS2[6] = 0;</div>
<div class="line"><span class="lineno"> 5287</span>            Display.DrumMatrix[1][7] = timing_DS2[7] = 0;</div>
<div class="line"><span class="lineno"> 5288</span>            Display.DrumMatrix[2][0] = timing_DS3[0] = 0;   <span class="comment">// Sample 3</span></div>
<div class="line"><span class="lineno"> 5289</span>            Display.DrumMatrix[2][1] = timing_DS3[1] = 0;</div>
<div class="line"><span class="lineno"> 5290</span>            Display.DrumMatrix[2][2] = timing_DS3[2] = 0;</div>
<div class="line"><span class="lineno"> 5291</span>            Display.DrumMatrix[2][3] = timing_DS3[3] = 0;</div>
<div class="line"><span class="lineno"> 5292</span>            Display.DrumMatrix[2][4] = timing_DS3[4] = 0;</div>
<div class="line"><span class="lineno"> 5293</span>            Display.DrumMatrix[2][5] = timing_DS3[5] = 0;</div>
<div class="line"><span class="lineno"> 5294</span>            Display.DrumMatrix[2][6] = timing_DS3[6] = 0;</div>
<div class="line"><span class="lineno"> 5295</span>            Display.DrumMatrix[2][7] = timing_DS3[7] = 1;</div>
<div class="line"><span class="lineno"> 5296</span>            Display.DrumMatrix[3][0] = timing_DS4[0] = 0;   <span class="comment">// Sample 4</span></div>
<div class="line"><span class="lineno"> 5297</span>            Display.DrumMatrix[3][1] = timing_DS4[1] = 0;</div>
<div class="line"><span class="lineno"> 5298</span>            Display.DrumMatrix[3][2] = timing_DS4[2] = 0;</div>
<div class="line"><span class="lineno"> 5299</span>            Display.DrumMatrix[3][3] = timing_DS4[3] = 1;</div>
<div class="line"><span class="lineno"> 5300</span>            Display.DrumMatrix[3][4] = timing_DS4[4] = 1;</div>
<div class="line"><span class="lineno"> 5301</span>            Display.DrumMatrix[3][5] = timing_DS4[5] = 0;</div>
<div class="line"><span class="lineno"> 5302</span>            Display.DrumMatrix[3][6] = timing_DS4[6] = 0;</div>
<div class="line"><span class="lineno"> 5303</span>            Display.DrumMatrix[3][7] = timing_DS4[7] = 0;</div>
<div class="line"><span class="lineno"> 5304</span>            Display.Drumfilter_ONOFF = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 5305</span>            Display.Drumfilter_Q = 11.45;</div>
<div class="line"><span class="lineno"> 5306</span>            Display.Drumfilter_Cutoff = 10;</div>
<div class="line"><span class="lineno"> 5307</span>            Display.Drumfilter_Gain = 6;</div>
<div class="line"><span class="lineno"> 5308</span>            Display.Drumfilter_Cutoff_Source = GYRO_LR;</div>
<div class="line"><span class="lineno"> 5309</span>            <span class="comment">// Sequencer</span></div>
<div class="line"><span class="lineno"> 5310</span>            Display.Sequencer_ONOFF = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 5311</span>            strcpy(Display.value_str_sequencer[0], <span class="stringliteral">&quot;ON&quot;</span>);   <span class="comment">// To make sure that value is correctly displayed when switch to page</span></div>
<div class="line"><span class="lineno"> 5312</span>            <span class="comment">// Seq. Note 1</span></div>
<div class="line"><span class="lineno"> 5313</span>            <a class="code hl_variable" href="group__Sequencer.html#ga4211ba08e77d82a294762a623041e342">freq_index_SN1</a> = <a class="code hl_function" href="group__MusicNotes.html#ga71407d53f2b1100f1ab93dc2681dfe48">Get_Note_Index</a>(<span class="charliteral">&#39;C&#39;</span>, 0);    <span class="comment">// Load notes</span></div>
<div class="line"><span class="lineno"> 5314</span>            Display.Sequencer_Noteindex[0] = 0; <span class="comment">// C</span></div>
<div class="line"><span class="lineno"> 5315</span>            Display.Sequencer_Octave[0] = 0;</div>
<div class="line"><span class="lineno"> 5316</span>            <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;<a class="code hl_define" href="group__DrumComputer.html#ga267b06d60a7514d898b5cac91b4380ec">FourFour</a>; i++) {</div>
<div class="line"><span class="lineno"> 5317</span>                <a class="code hl_variable" href="group__Sequencer.html#gabafd5c3bbb1d0bbc3e708889e904e3a7">current_LUT_index_SN1</a>[i] = <a class="code hl_variable" href="group__SINLUT.html#ga2e5122eebde8d369cf949da93586ec2e">LUT_STARTINDEX</a>[<a class="code hl_variable" href="group__Sequencer.html#ga4211ba08e77d82a294762a623041e342">freq_index_SN1</a>];</div>
<div class="line"><span class="lineno"> 5318</span>            }</div>
<div class="line"><span class="lineno"> 5319</span>            sprintf(Display.value_str_sequencer[1], <span class="stringliteral">&quot;%c&quot;</span>, <span class="charliteral">&#39;C&#39;</span>);</div>
<div class="line"><span class="lineno"> 5320</span>            sprintf(Display.value_str_sequencer[2], <span class="stringliteral">&quot;%d&quot;</span>, 0);</div>
<div class="line"><span class="lineno"> 5321</span>            <span class="comment">// Seq. Note 2</span></div>
<div class="line"><span class="lineno"> 5322</span>            freq_index_SN2 = <a class="code hl_function" href="group__MusicNotes.html#ga71407d53f2b1100f1ab93dc2681dfe48">Get_Note_Index</a>(<span class="charliteral">&#39;D&#39;</span>, 0);</div>
<div class="line"><span class="lineno"> 5323</span>            Display.Sequencer_Noteindex[1] = 2; <span class="comment">// E</span></div>
<div class="line"><span class="lineno"> 5324</span>            Display.Sequencer_Octave[1] = 0;</div>
<div class="line"><span class="lineno"> 5325</span>            <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;<a class="code hl_define" href="group__DrumComputer.html#ga267b06d60a7514d898b5cac91b4380ec">FourFour</a>; i++) {</div>
<div class="line"><span class="lineno"> 5326</span>                current_LUT_index_SN2[i] = <a class="code hl_variable" href="group__SINLUT.html#ga2e5122eebde8d369cf949da93586ec2e">LUT_STARTINDEX</a>[freq_index_SN2];</div>
<div class="line"><span class="lineno"> 5327</span>            }</div>
<div class="line"><span class="lineno"> 5328</span>            sprintf(Display.value_str_sequencer[3], <span class="stringliteral">&quot;%c&quot;</span>, <span class="charliteral">&#39;D&#39;</span>);</div>
<div class="line"><span class="lineno"> 5329</span>            sprintf(Display.value_str_sequencer[4], <span class="stringliteral">&quot;%d&quot;</span>, 0);</div>
<div class="line"><span class="lineno"> 5330</span>            <span class="comment">// Seq. Note 3</span></div>
<div class="line"><span class="lineno"> 5331</span>            freq_index_SN3 = <a class="code hl_function" href="group__MusicNotes.html#ga71407d53f2b1100f1ab93dc2681dfe48">Get_Note_Index</a>(<span class="charliteral">&#39;E&#39;</span>, 0);</div>
<div class="line"><span class="lineno"> 5332</span>            Display.Sequencer_Noteindex[2] = 4; <span class="comment">// E</span></div>
<div class="line"><span class="lineno"> 5333</span>            Display.Sequencer_Octave[2] = 0;</div>
<div class="line"><span class="lineno"> 5334</span>            <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;<a class="code hl_define" href="group__DrumComputer.html#ga267b06d60a7514d898b5cac91b4380ec">FourFour</a>; i++) {</div>
<div class="line"><span class="lineno"> 5335</span>                current_LUT_index_SN3[i] = <a class="code hl_variable" href="group__SINLUT.html#ga2e5122eebde8d369cf949da93586ec2e">LUT_STARTINDEX</a>[freq_index_SN3];</div>
<div class="line"><span class="lineno"> 5336</span>            }</div>
<div class="line"><span class="lineno"> 5337</span>            sprintf(Display.value_str_sequencer[5], <span class="stringliteral">&quot;%c&quot;</span>, <span class="charliteral">&#39;E&#39;</span>);</div>
<div class="line"><span class="lineno"> 5338</span>            sprintf(Display.value_str_sequencer[6], <span class="stringliteral">&quot;%d&quot;</span>, 0);</div>
<div class="line"><span class="lineno"> 5339</span> </div>
<div class="line"><span class="lineno"> 5340</span>            <span class="comment">// Set Sequencer Pattern</span></div>
<div class="line"><span class="lineno"> 5341</span>            Display.SequencerMatrix[0][0] = timing_SN1[0] = 0;</div>
<div class="line"><span class="lineno"> 5342</span>            Display.SequencerMatrix[0][1] = timing_SN1[1] = 0;</div>
<div class="line"><span class="lineno"> 5343</span>            Display.SequencerMatrix[0][2] = timing_SN1[2] = 0;</div>
<div class="line"><span class="lineno"> 5344</span>            Display.SequencerMatrix[0][3] = timing_SN1[3] = 0;</div>
<div class="line"><span class="lineno"> 5345</span>            Display.SequencerMatrix[0][4] = timing_SN1[4] = 0;</div>
<div class="line"><span class="lineno"> 5346</span>            Display.SequencerMatrix[0][5] = timing_SN1[5] = 0;</div>
<div class="line"><span class="lineno"> 5347</span>            Display.SequencerMatrix[0][6] = timing_SN1[6] = 0;</div>
<div class="line"><span class="lineno"> 5348</span>            Display.SequencerMatrix[0][7] = timing_SN1[7] = 0;</div>
<div class="line"><span class="lineno"> 5349</span>            Display.SequencerMatrix[1][0] = timing_SN2[0] = 0;</div>
<div class="line"><span class="lineno"> 5350</span>            Display.SequencerMatrix[1][1] = timing_SN2[1] = 0;</div>
<div class="line"><span class="lineno"> 5351</span>            Display.SequencerMatrix[1][2] = timing_SN2[2] = 0;</div>
<div class="line"><span class="lineno"> 5352</span>            Display.SequencerMatrix[1][3] = timing_SN2[3] = 1;</div>
<div class="line"><span class="lineno"> 5353</span>            Display.SequencerMatrix[1][4] = timing_SN2[4] = 0;</div>
<div class="line"><span class="lineno"> 5354</span>            Display.SequencerMatrix[1][5] = timing_SN2[5] = 0;</div>
<div class="line"><span class="lineno"> 5355</span>            Display.SequencerMatrix[1][6] = timing_SN2[6] = 0;</div>
<div class="line"><span class="lineno"> 5356</span>            Display.SequencerMatrix[1][7] = timing_SN2[7] = 0;</div>
<div class="line"><span class="lineno"> 5357</span>            Display.SequencerMatrix[2][0] = timing_SN3[0] = 0;</div>
<div class="line"><span class="lineno"> 5358</span>            Display.SequencerMatrix[2][1] = timing_SN3[1] = 0;</div>
<div class="line"><span class="lineno"> 5359</span>            Display.SequencerMatrix[2][2] = timing_SN3[2] = 0;</div>
<div class="line"><span class="lineno"> 5360</span>            Display.SequencerMatrix[2][3] = timing_SN3[3] = 0;</div>
<div class="line"><span class="lineno"> 5361</span>            Display.SequencerMatrix[2][4] = timing_SN3[4] = 0;</div>
<div class="line"><span class="lineno"> 5362</span>            Display.SequencerMatrix[2][5] = timing_SN3[5] = 1;</div>
<div class="line"><span class="lineno"> 5363</span>            Display.SequencerMatrix[2][6] = timing_SN3[6] = 0;</div>
<div class="line"><span class="lineno"> 5364</span>            Display.SequencerMatrix[2][7] = timing_SN3[7] = 0;</div>
<div class="line"><span class="lineno"> 5365</span>            <span class="comment">// Voices</span></div>
<div class="line"><span class="lineno"> 5366</span>            Display.Voices_ONOFF[2] = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 5367</span>            strcpy(Display.value_str_voices_overview[2], <span class="stringliteral">&quot;ON&quot;</span>);</div>
<div class="line"><span class="lineno"> 5368</span>            Display.Voices_Kind[0] = SIN;</div>
<div class="line"><span class="lineno"> 5369</span>            Display.Voices_Kind[1] = RECT;</div>
<div class="line"><span class="lineno"> 5370</span>            Display.Voices_Kind[2] = TRIANGLE;</div>
<div class="line"><span class="lineno"> 5371</span>            Display.Voices_Note[2] = <span class="charliteral">&#39;C&#39;</span>;</div>
<div class="line"><span class="lineno"> 5372</span>            Display.Voices_Noteindex[2] = 0;    <span class="comment">// C</span></div>
<div class="line"><span class="lineno"> 5373</span>            Display.Voices_Octave[2] = 0;</div>
<div class="line"><span class="lineno"> 5374</span>            <span class="comment">// WahWah</span></div>
<div class="line"><span class="lineno"> 5375</span>            Display.WahWah_ONOFF = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 5376</span>            strcpy(Display.value_str_wahwah[0], <span class="stringliteral">&quot;ON&quot;</span>);</div>
<div class="line"><span class="lineno"> 5377</span>            Display.WahWah_Mode = 1;    <span class="comment">// Auto-WahWah</span></div>
<div class="line"><span class="lineno"> 5378</span>            strcpy(Display.value_str_wahwah[1], <span class="stringliteral">&quot;AutoWahWah&quot;</span>);</div>
<div class="line"><span class="lineno"> 5379</span>            Display.WahWah_MidFreq = WahWah.mid_freq = 350.0;</div>
<div class="line"><span class="lineno"> 5380</span>            Display.WahWah_Q = WahWah.bandpass-&gt;Q = 1.00;</div>
<div class="line"><span class="lineno"> 5381</span>            Display.WahWah_Range = WahWah.range = 600.0;</div>
<div class="line"><span class="lineno"> 5382</span>            Display.WahWah_LFOfreq = WahWah.lfo-&gt;lfo_frequency = 4.00;</div>
<div class="line"><span class="lineno"> 5383</span>            Display.WahWah_LFOfreq_Index = Display.last_WahWah_LFOfreq_Index = 5;   <span class="comment">// 4.00 Hz</span></div>
<div class="line"><span class="lineno"> 5384</span> </div>
<div class="line"><span class="lineno"> 5385</span>            Display.SetPreset = <span class="keyword">false</span>;  <span class="comment">// Reset the state</span></div>
<div class="line"><span class="lineno"> 5386</span>            strcpy(Display.value_str_presets[0], <span class="stringliteral">&quot;done&quot;</span>);</div>
<div class="line"><span class="lineno"> 5387</span>        }</div>
<div class="line"><span class="lineno"> 5388</span> </div>
<div class="line"><span class="lineno"> 5389</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(Display.SetPreset == <span class="keyword">false</span>)</div>
<div class="line"><span class="lineno"> 5390</span>            strcpy(Display.value_str_presets[0], <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><span class="lineno"> 5391</span> </div>
<div class="line"><span class="lineno"> 5392</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 5393</span>    }</div>
<div class="line"><span class="lineno"> 5394</span>}</div>
<div class="ttc" id="agroup__DisplayPage_html_ga84ad5e4c5b1f9dca651caf624ed02d91"><div class="ttname"><a href="group__DisplayPage.html#ga84ad5e4c5b1f9dca651caf624ed02d91">Full_Reset</a></div><div class="ttdeci">void Full_Reset(void)</div><div class="ttdoc">Makes a full reset of all efffects paramter to the default values.</div><div class="ttdef"><b>Definition:</b> <a href="display_8c_source.html#l04678">display.c:4678</a></div></div>
<div class="ttc" id="agroup__DrumComputer_html_ga0065e192c774e20fd5e0ab3c342b7088"><div class="ttname"><a href="group__DrumComputer.html#ga0065e192c774e20fd5e0ab3c342b7088">BPM</a></div><div class="ttdeci">float BPM</div><div class="ttdoc">Tempo.</div><div class="ttdef"><b>Definition:</b> <a href="drum__computer_8h_source.html#l00039">drum_computer.h:39</a></div></div>
<div class="ttc" id="agroup__DrumComputer_html_ga4c0fb828065d1505aa1abfdd52afc7c3"><div class="ttname"><a href="group__DrumComputer.html#ga4c0fb828065d1505aa1abfdd52afc7c3">timing_DS1</a></div><div class="ttdeci">bool timing_DS1[FourFour]</div><div class="ttdoc">Timing positions drums.</div><div class="ttdef"><b>Definition:</b> <a href="drum__computer_8h_source.html#l00061">drum_computer.h:61</a></div></div>
<div class="ttc" id="agroup__MusicNotes_html_ga71407d53f2b1100f1ab93dc2681dfe48"><div class="ttname"><a href="group__MusicNotes.html#ga71407d53f2b1100f1ab93dc2681dfe48">Get_Note_Index</a></div><div class="ttdeci">uint16_t Get_Note_Index(char key, uint8_t octave)</div><div class="ttdoc">returns the frequency of a music note listed in the</div><div class="ttdef"><b>Definition:</b> <a href="music__notes_8c_source.html#l00071">music_notes.c:71</a></div></div>
<div class="ttc" id="agroup__SINLUT_html_ga2e5122eebde8d369cf949da93586ec2e"><div class="ttname"><a href="group__SINLUT.html#ga2e5122eebde8d369cf949da93586ec2e">LUT_STARTINDEX</a></div><div class="ttdeci">const uint32_t LUT_STARTINDEX[73]</div><div class="ttdoc">contains all startindizies of the frequencies in the SIN-LUT</div><div class="ttdef"><b>Definition:</b> <a href="sinLUT_8h_source.html#l00049">sinLUT.h:49</a></div></div>
<div class="ttc" id="agroup__Sequencer_html_ga4211ba08e77d82a294762a623041e342"><div class="ttname"><a href="group__Sequencer.html#ga4211ba08e77d82a294762a623041e342">freq_index_SN1</a></div><div class="ttdeci">uint16_t freq_index_SN1</div><div class="ttdoc">Frequency index sequencer.</div><div class="ttdef"><b>Definition:</b> <a href="drum__computer_8h_source.html#l00089">drum_computer.h:89</a></div></div>
<div class="ttc" id="agroup__Sequencer_html_gabafd5c3bbb1d0bbc3e708889e904e3a7"><div class="ttname"><a href="group__Sequencer.html#gabafd5c3bbb1d0bbc3e708889e904e3a7">current_LUT_index_SN1</a></div><div class="ttdeci">uint32_t current_LUT_index_SN1[FourFour]</div><div class="ttdoc">Current LUT index sequencer.</div><div class="ttdef"><b>Definition:</b> <a href="drum__computer_8h_source.html#l00095">drum_computer.h:95</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga8c0c367ef7802a6af877619b174d12ec" name="ga8c0c367ef7802a6af877619b174d12ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8c0c367ef7802a6af877619b174d12ec">&#9670;&nbsp;</a></span>p_Sequencer_overview()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Display_Status p_Sequencer_overview </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>GUI-site function, all functions with the beginning p_ represent a site of the GUI menu. </p>
<dl class="section return"><dt>Returns</dt><dd>Display_Status returns DISPLAY_OK when function reaches the end </dd></dl>

<p class="definition">Definition at line <a class="el" href="display_8c_source.html#l02154">2154</a> of file <a class="el" href="display_8c_source.html">display.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2154</span>                                          {</div>
<div class="line"><span class="lineno"> 2155</span> </div>
<div class="line"><span class="lineno"> 2156</span>    <span class="comment">// Header line</span></div>
<div class="line"><span class="lineno"> 2157</span>    <span class="keywordtype">char</span> headerstring[] = <span class="stringliteral">&quot;SEQUENCER&quot;</span>;</div>
<div class="line"><span class="lineno"> 2158</span>    Paint_DrawStringAt(&amp;paint, 1, CASE0, headerstring, &amp;Font16, COLORED);</div>
<div class="line"><span class="lineno"> 2159</span> </div>
<div class="line"><span class="lineno"> 2160</span>    <span class="keywordtype">char</span> str_1[] = <span class="stringliteral">&quot;Next effect&quot;</span>;</div>
<div class="line"><span class="lineno"> 2161</span>    <span class="keywordtype">char</span> str_2[] = <span class="stringliteral">&quot;Sequencer ON/OFF&quot;</span>;</div>
<div class="line"><span class="lineno"> 2162</span>    <span class="keywordtype">char</span> str_3[] = <span class="stringliteral">&quot;Seq. Note 1&quot;</span>;</div>
<div class="line"><span class="lineno"> 2163</span>    <span class="keywordtype">char</span> str_4[] = <span class="stringliteral">&quot;Seq. Octave 1&quot;</span>;</div>
<div class="line"><span class="lineno"> 2164</span>    <span class="keywordtype">char</span> str_5[] = <span class="stringliteral">&quot;Seq. Note 2&quot;</span>;</div>
<div class="line"><span class="lineno"> 2165</span>    <span class="keywordtype">char</span> str_6[] = <span class="stringliteral">&quot;Seq. Octave 2&quot;</span>;</div>
<div class="line"><span class="lineno"> 2166</span>    <span class="keywordtype">char</span> str_7[] = <span class="stringliteral">&quot;Seq. Note 3&quot;</span>;</div>
<div class="line"><span class="lineno"> 2167</span>    <span class="keywordtype">char</span> str_8[] = <span class="stringliteral">&quot;Seq. Octave 3&quot;</span>;</div>
<div class="line"><span class="lineno"> 2168</span>    <span class="keywordtype">char</span> str_9[] = <span class="stringliteral">&quot;Sequencer Reset&quot;</span>;</div>
<div class="line"><span class="lineno"> 2169</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE1, str_1, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 2170</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE2, str_2, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 2171</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE3, str_3, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 2172</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE4, str_4, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 2173</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE5, str_5, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 2174</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE6, str_6, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 2175</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE7, str_7, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 2176</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE8, str_8, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 2177</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE9, str_9, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 2178</span> </div>
<div class="line"><span class="lineno"> 2179</span>    <span class="comment">// As big as the number of parameters</span></div>
<div class="line"><span class="lineno"> 2180</span>    Display.max_parameter = 9;</div>
<div class="line"><span class="lineno"> 2181</span> </div>
<div class="line"><span class="lineno"> 2182</span>    <span class="keywordflow">switch</span>(Display.JoystickParameterPosition) {</div>
<div class="line"><span class="lineno"> 2183</span>    <span class="keywordflow">case</span> 1:</div>
<div class="line"><span class="lineno"> 2184</span>        <span class="comment">// Next Effect</span></div>
<div class="line"><span class="lineno"> 2185</span>        Display.currentSequencer = 0;</div>
<div class="line"><span class="lineno"> 2186</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2187</span>    <span class="keywordflow">case</span> 2:</div>
<div class="line"><span class="lineno"> 2188</span>        <span class="comment">// Sequencer ON/OFF</span></div>
<div class="line"><span class="lineno"> 2189</span>        Display.currentSequencer = 1;</div>
<div class="line"><span class="lineno"> 2190</span> </div>
<div class="line"><span class="lineno"> 2191</span>        <span class="keywordflow">if</span>(Display.poti_moved == <span class="keyword">true</span>) {</div>
<div class="line"><span class="lineno"> 2192</span> </div>
<div class="line"><span class="lineno"> 2193</span>            <span class="keywordtype">float</span> potVal = (float)Display.ADC2inputs[2]/(<span class="keywordtype">float</span>)Display.ADC_FullRange * 100; <span class="comment">// Potentiometer Input in %</span></div>
<div class="line"><span class="lineno"> 2194</span>            <span class="keywordflow">if</span>(potVal &lt; 50) {   <span class="comment">// smaller than 50 %</span></div>
<div class="line"><span class="lineno"> 2195</span>                Display.Sequencer_ONOFF = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2196</span>                strcpy(Display.value_str_sequencer[0], <span class="stringliteral">&quot;OFF&quot;</span>);</div>
<div class="line"><span class="lineno"> 2197</span>            }</div>
<div class="line"><span class="lineno"> 2198</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span>(potVal &gt;= 50) { <span class="comment">// greater than 50 %</span></div>
<div class="line"><span class="lineno"> 2199</span>                Display.Sequencer_ONOFF = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2200</span>                strcpy(Display.value_str_sequencer[0], <span class="stringliteral">&quot;ON&quot;</span>);</div>
<div class="line"><span class="lineno"> 2201</span>            }</div>
<div class="line"><span class="lineno"> 2202</span>        }</div>
<div class="line"><span class="lineno"> 2203</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2204</span>    <span class="keywordflow">case</span> 3:</div>
<div class="line"><span class="lineno"> 2205</span>        <span class="comment">// Sequencer Note 1</span></div>
<div class="line"><span class="lineno"> 2206</span>        Display.currentSequencer = 2;</div>
<div class="line"><span class="lineno"> 2207</span> </div>
<div class="line"><span class="lineno"> 2208</span>        <span class="keywordflow">if</span>(Display.last_Sequencer_Noteindex[0] != Display.Sequencer_Noteindex[0]) {</div>
<div class="line"><span class="lineno"> 2209</span> </div>
<div class="line"><span class="lineno"> 2210</span>            <span class="comment">// Decide which mode is used (Freestyle, Major, Minor) and set respective Voices_Note with major/minor mapping indices of root note + desired note</span></div>
<div class="line"><span class="lineno"> 2211</span>            <span class="keywordflow">if</span>(Display.ScaleMode == FREESTYLE)</div>
<div class="line"><span class="lineno"> 2212</span>                Display.Sequencer_Note[0] = (uint8_t)(<a class="code hl_variable" href="group__MusicNotes.html#gaa6edf4563731abf1927b342c5ebe3e8a">keys</a>[(uint8_t)Display.Sequencer_Noteindex[0]]);</div>
<div class="line"><span class="lineno"> 2213</span> </div>
<div class="line"><span class="lineno"> 2214</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span>(Display.ScaleMode == MAJOR)</div>
<div class="line"><span class="lineno"> 2215</span>                Display.Sequencer_Note[0] = (uint8_t)(<a class="code hl_variable" href="group__MusicNotes.html#gaa6edf4563731abf1927b342c5ebe3e8a">keys</a>[<a class="code hl_variable" href="group__MusicNotes.html#ga4e77e1cf22732d27ec948ba6f3942187">major_scale</a>[(uint8_t)Display.Sequencer_Noteindex[0]] + Display.KeyNoteIndex]);</div>
<div class="line"><span class="lineno"> 2216</span> </div>
<div class="line"><span class="lineno"> 2217</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span>(Display.ScaleMode == MINOR)</div>
<div class="line"><span class="lineno"> 2218</span>                Display.Sequencer_Note[0] = (uint8_t)(<a class="code hl_variable" href="group__MusicNotes.html#gaa6edf4563731abf1927b342c5ebe3e8a">keys</a>[minor_scale[(uint8_t)Display.Sequencer_Noteindex[0]] + Display.KeyNoteIndex]);</div>
<div class="line"><span class="lineno"> 2219</span> </div>
<div class="line"><span class="lineno"> 2220</span>            sprintf(Display.value_str_sequencer[1], <span class="stringliteral">&quot;%c&quot;</span>, Display.Sequencer_Note[0]);</div>
<div class="line"><span class="lineno"> 2221</span> </div>
<div class="line"><span class="lineno"> 2222</span>            <a class="code hl_variable" href="group__Sequencer.html#ga4211ba08e77d82a294762a623041e342">freq_index_SN1</a> = <a class="code hl_function" href="group__MusicNotes.html#ga71407d53f2b1100f1ab93dc2681dfe48">Get_Note_Index</a>(Display.Sequencer_Note[0], (uint8_t)Display.Sequencer_Octave[0]);</div>
<div class="line"><span class="lineno"> 2223</span>            <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;<a class="code hl_define" href="group__DrumComputer.html#ga267b06d60a7514d898b5cac91b4380ec">FourFour</a>; i++) {</div>
<div class="line"><span class="lineno"> 2224</span>                <a class="code hl_variable" href="group__Sequencer.html#gabafd5c3bbb1d0bbc3e708889e904e3a7">current_LUT_index_SN1</a>[i] = <a class="code hl_variable" href="group__SINLUT.html#ga2e5122eebde8d369cf949da93586ec2e">LUT_STARTINDEX</a>[<a class="code hl_variable" href="group__Sequencer.html#ga4211ba08e77d82a294762a623041e342">freq_index_SN1</a>];</div>
<div class="line"><span class="lineno"> 2225</span>            }</div>
<div class="line"><span class="lineno"> 2226</span>            Display.last_Sequencer_Noteindex[0] = Display.Sequencer_Noteindex[0];</div>
<div class="line"><span class="lineno"> 2227</span>        }</div>
<div class="line"><span class="lineno"> 2228</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2229</span>    <span class="keywordflow">case</span> 4:</div>
<div class="line"><span class="lineno"> 2230</span>        <span class="comment">// Sequencer Octave 1</span></div>
<div class="line"><span class="lineno"> 2231</span>        Display.currentSequencer = 3;</div>
<div class="line"><span class="lineno"> 2232</span> </div>
<div class="line"><span class="lineno"> 2233</span>        <span class="keywordflow">if</span>(Display.last_Sequencer_Octave[0] != Display.Sequencer_Octave[0]) {</div>
<div class="line"><span class="lineno"> 2234</span> </div>
<div class="line"><span class="lineno"> 2235</span>            sprintf(Display.value_str_sequencer[2], <span class="stringliteral">&quot;%d&quot;</span>, Display.Sequencer_Octave[0]);</div>
<div class="line"><span class="lineno"> 2236</span> </div>
<div class="line"><span class="lineno"> 2237</span>            <a class="code hl_variable" href="group__Sequencer.html#ga4211ba08e77d82a294762a623041e342">freq_index_SN1</a> = <a class="code hl_function" href="group__MusicNotes.html#ga71407d53f2b1100f1ab93dc2681dfe48">Get_Note_Index</a>(Display.Sequencer_Note[0], (uint8_t)Display.Sequencer_Octave[0]);</div>
<div class="line"><span class="lineno"> 2238</span>            <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;<a class="code hl_define" href="group__DrumComputer.html#ga267b06d60a7514d898b5cac91b4380ec">FourFour</a>; i++) {</div>
<div class="line"><span class="lineno"> 2239</span>                <a class="code hl_variable" href="group__Sequencer.html#gabafd5c3bbb1d0bbc3e708889e904e3a7">current_LUT_index_SN1</a>[i] = <a class="code hl_variable" href="group__SINLUT.html#ga2e5122eebde8d369cf949da93586ec2e">LUT_STARTINDEX</a>[<a class="code hl_variable" href="group__Sequencer.html#ga4211ba08e77d82a294762a623041e342">freq_index_SN1</a>];</div>
<div class="line"><span class="lineno"> 2240</span>            }</div>
<div class="line"><span class="lineno"> 2241</span>            Display.last_Sequencer_Octave[0] = Display.Sequencer_Octave[0];</div>
<div class="line"><span class="lineno"> 2242</span>        }</div>
<div class="line"><span class="lineno"> 2243</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2244</span>    <span class="keywordflow">case</span> 5:</div>
<div class="line"><span class="lineno"> 2245</span>        <span class="comment">// Sequencer Note 2</span></div>
<div class="line"><span class="lineno"> 2246</span>        Display.currentSequencer = 4;</div>
<div class="line"><span class="lineno"> 2247</span> </div>
<div class="line"><span class="lineno"> 2248</span>        <span class="keywordflow">if</span>(Display.last_Sequencer_Noteindex[1] != Display.Sequencer_Noteindex[1]) {</div>
<div class="line"><span class="lineno"> 2249</span> </div>
<div class="line"><span class="lineno"> 2250</span>            <span class="comment">// Decide which mode is used (Freestyle, Major, Minor) and set respective Voices_Note with major/minor mapping indices of root note + desired note</span></div>
<div class="line"><span class="lineno"> 2251</span>            <span class="keywordflow">if</span>(Display.ScaleMode == FREESTYLE)</div>
<div class="line"><span class="lineno"> 2252</span>                Display.Sequencer_Note[1] = (uint8_t)(<a class="code hl_variable" href="group__MusicNotes.html#gaa6edf4563731abf1927b342c5ebe3e8a">keys</a>[(uint8_t)Display.Sequencer_Noteindex[1]]);</div>
<div class="line"><span class="lineno"> 2253</span> </div>
<div class="line"><span class="lineno"> 2254</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span>(Display.ScaleMode == MAJOR)</div>
<div class="line"><span class="lineno"> 2255</span>                Display.Sequencer_Note[1] = (uint8_t)(<a class="code hl_variable" href="group__MusicNotes.html#gaa6edf4563731abf1927b342c5ebe3e8a">keys</a>[<a class="code hl_variable" href="group__MusicNotes.html#ga4e77e1cf22732d27ec948ba6f3942187">major_scale</a>[(uint8_t)Display.Sequencer_Noteindex[1]] + Display.KeyNoteIndex]);</div>
<div class="line"><span class="lineno"> 2256</span> </div>
<div class="line"><span class="lineno"> 2257</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span>(Display.ScaleMode == MINOR)</div>
<div class="line"><span class="lineno"> 2258</span>                Display.Sequencer_Note[1] = (uint8_t)(<a class="code hl_variable" href="group__MusicNotes.html#gaa6edf4563731abf1927b342c5ebe3e8a">keys</a>[minor_scale[(uint8_t)Display.Sequencer_Noteindex[1]] + Display.KeyNoteIndex]);</div>
<div class="line"><span class="lineno"> 2259</span> </div>
<div class="line"><span class="lineno"> 2260</span>            sprintf(Display.value_str_sequencer[3], <span class="stringliteral">&quot;%c&quot;</span>, Display.Sequencer_Note[1]);</div>
<div class="line"><span class="lineno"> 2261</span> </div>
<div class="line"><span class="lineno"> 2262</span>            freq_index_SN2 = <a class="code hl_function" href="group__MusicNotes.html#ga71407d53f2b1100f1ab93dc2681dfe48">Get_Note_Index</a>(Display.Sequencer_Note[1], (uint8_t)Display.Sequencer_Octave[1]);</div>
<div class="line"><span class="lineno"> 2263</span>            <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;<a class="code hl_define" href="group__DrumComputer.html#ga267b06d60a7514d898b5cac91b4380ec">FourFour</a>; i++) {</div>
<div class="line"><span class="lineno"> 2264</span>                current_LUT_index_SN2[i] = <a class="code hl_variable" href="group__SINLUT.html#ga2e5122eebde8d369cf949da93586ec2e">LUT_STARTINDEX</a>[freq_index_SN2];</div>
<div class="line"><span class="lineno"> 2265</span>            }</div>
<div class="line"><span class="lineno"> 2266</span>            Display.last_Sequencer_Noteindex[1] = Display.Sequencer_Noteindex[1];</div>
<div class="line"><span class="lineno"> 2267</span>        }</div>
<div class="line"><span class="lineno"> 2268</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2269</span>    <span class="keywordflow">case</span> 6:</div>
<div class="line"><span class="lineno"> 2270</span>        <span class="comment">// Sequencer Octave 2</span></div>
<div class="line"><span class="lineno"> 2271</span>        Display.currentSequencer = 5;</div>
<div class="line"><span class="lineno"> 2272</span> </div>
<div class="line"><span class="lineno"> 2273</span>        <span class="keywordflow">if</span>(Display.last_Sequencer_Octave[1] != Display.Sequencer_Octave[1]) {</div>
<div class="line"><span class="lineno"> 2274</span> </div>
<div class="line"><span class="lineno"> 2275</span>            sprintf(Display.value_str_sequencer[4], <span class="stringliteral">&quot;%d&quot;</span>, Display.Sequencer_Octave[1]);</div>
<div class="line"><span class="lineno"> 2276</span> </div>
<div class="line"><span class="lineno"> 2277</span>            freq_index_SN2 = <a class="code hl_function" href="group__MusicNotes.html#ga71407d53f2b1100f1ab93dc2681dfe48">Get_Note_Index</a>(Display.Sequencer_Note[1], (uint8_t)Display.Sequencer_Octave[1]);</div>
<div class="line"><span class="lineno"> 2278</span>            <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;<a class="code hl_define" href="group__DrumComputer.html#ga267b06d60a7514d898b5cac91b4380ec">FourFour</a>; i++) {</div>
<div class="line"><span class="lineno"> 2279</span>                current_LUT_index_SN2[i] = <a class="code hl_variable" href="group__SINLUT.html#ga2e5122eebde8d369cf949da93586ec2e">LUT_STARTINDEX</a>[freq_index_SN2];</div>
<div class="line"><span class="lineno"> 2280</span>            }</div>
<div class="line"><span class="lineno"> 2281</span>            Display.last_Sequencer_Octave[1] = Display.Sequencer_Octave[1];</div>
<div class="line"><span class="lineno"> 2282</span>        }</div>
<div class="line"><span class="lineno"> 2283</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2284</span>    <span class="keywordflow">case</span> 7:</div>
<div class="line"><span class="lineno"> 2285</span>        <span class="comment">// Sequencer Note 3</span></div>
<div class="line"><span class="lineno"> 2286</span>        Display.currentSequencer = 6;</div>
<div class="line"><span class="lineno"> 2287</span> </div>
<div class="line"><span class="lineno"> 2288</span>        <span class="keywordflow">if</span>(Display.last_Sequencer_Noteindex[2] != Display.Sequencer_Noteindex[2]) {</div>
<div class="line"><span class="lineno"> 2289</span> </div>
<div class="line"><span class="lineno"> 2290</span>            <span class="comment">// Decide which mode is used (Freestyle, Major, Minor) and set respective Voices_Note with major/minor mapping indices of root note + desired note</span></div>
<div class="line"><span class="lineno"> 2291</span>            <span class="keywordflow">if</span>(Display.ScaleMode == FREESTYLE)</div>
<div class="line"><span class="lineno"> 2292</span>                Display.Sequencer_Note[2] = (uint8_t)(<a class="code hl_variable" href="group__MusicNotes.html#gaa6edf4563731abf1927b342c5ebe3e8a">keys</a>[(uint8_t)Display.Sequencer_Noteindex[2]]);</div>
<div class="line"><span class="lineno"> 2293</span> </div>
<div class="line"><span class="lineno"> 2294</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span>(Display.ScaleMode == MAJOR)</div>
<div class="line"><span class="lineno"> 2295</span>                Display.Sequencer_Note[2] = (uint8_t)(<a class="code hl_variable" href="group__MusicNotes.html#gaa6edf4563731abf1927b342c5ebe3e8a">keys</a>[<a class="code hl_variable" href="group__MusicNotes.html#ga4e77e1cf22732d27ec948ba6f3942187">major_scale</a>[(uint8_t)Display.Sequencer_Noteindex[2]] + Display.KeyNoteIndex]);</div>
<div class="line"><span class="lineno"> 2296</span> </div>
<div class="line"><span class="lineno"> 2297</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span>(Display.ScaleMode == MINOR)</div>
<div class="line"><span class="lineno"> 2298</span>                Display.Sequencer_Note[2] = (uint8_t)(<a class="code hl_variable" href="group__MusicNotes.html#gaa6edf4563731abf1927b342c5ebe3e8a">keys</a>[minor_scale[(uint8_t)Display.Sequencer_Noteindex[2]] + Display.KeyNoteIndex]);</div>
<div class="line"><span class="lineno"> 2299</span> </div>
<div class="line"><span class="lineno"> 2300</span>            sprintf(Display.value_str_sequencer[5], <span class="stringliteral">&quot;%c&quot;</span>, Display.Sequencer_Note[2]);</div>
<div class="line"><span class="lineno"> 2301</span> </div>
<div class="line"><span class="lineno"> 2302</span>            freq_index_SN3 = <a class="code hl_function" href="group__MusicNotes.html#ga71407d53f2b1100f1ab93dc2681dfe48">Get_Note_Index</a>(Display.Sequencer_Note[2], (uint8_t)Display.Sequencer_Octave[2]);</div>
<div class="line"><span class="lineno"> 2303</span>            <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;<a class="code hl_define" href="group__DrumComputer.html#ga267b06d60a7514d898b5cac91b4380ec">FourFour</a>; i++) {</div>
<div class="line"><span class="lineno"> 2304</span>                current_LUT_index_SN3[i] = <a class="code hl_variable" href="group__SINLUT.html#ga2e5122eebde8d369cf949da93586ec2e">LUT_STARTINDEX</a>[freq_index_SN3];</div>
<div class="line"><span class="lineno"> 2305</span>            }</div>
<div class="line"><span class="lineno"> 2306</span>            Display.last_Sequencer_Noteindex[2] = Display.Sequencer_Noteindex[2];</div>
<div class="line"><span class="lineno"> 2307</span>        }</div>
<div class="line"><span class="lineno"> 2308</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2309</span>    <span class="keywordflow">case</span> 8:</div>
<div class="line"><span class="lineno"> 2310</span>        <span class="comment">// Sequencer Octave 3</span></div>
<div class="line"><span class="lineno"> 2311</span>        Display.currentSequencer = 7;</div>
<div class="line"><span class="lineno"> 2312</span> </div>
<div class="line"><span class="lineno"> 2313</span>        <span class="keywordflow">if</span>(Display.last_Sequencer_Octave[2] != Display.Sequencer_Octave[2]) {</div>
<div class="line"><span class="lineno"> 2314</span> </div>
<div class="line"><span class="lineno"> 2315</span>            sprintf(Display.value_str_sequencer[6], <span class="stringliteral">&quot;%d&quot;</span>, Display.Sequencer_Octave[2]);</div>
<div class="line"><span class="lineno"> 2316</span> </div>
<div class="line"><span class="lineno"> 2317</span>            freq_index_SN3 = <a class="code hl_function" href="group__MusicNotes.html#ga71407d53f2b1100f1ab93dc2681dfe48">Get_Note_Index</a>(Display.Sequencer_Note[2], (uint8_t)Display.Sequencer_Octave[2]);</div>
<div class="line"><span class="lineno"> 2318</span>            <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;<a class="code hl_define" href="group__DrumComputer.html#ga267b06d60a7514d898b5cac91b4380ec">FourFour</a>; i++) {</div>
<div class="line"><span class="lineno"> 2319</span>                current_LUT_index_SN3[i] = <a class="code hl_variable" href="group__SINLUT.html#ga2e5122eebde8d369cf949da93586ec2e">LUT_STARTINDEX</a>[freq_index_SN3];</div>
<div class="line"><span class="lineno"> 2320</span>            }</div>
<div class="line"><span class="lineno"> 2321</span>            Display.last_Sequencer_Octave[2] = Display.Sequencer_Octave[2];</div>
<div class="line"><span class="lineno"> 2322</span>        }</div>
<div class="line"><span class="lineno"> 2323</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2324</span>    <span class="keywordflow">case</span> 9:</div>
<div class="line"><span class="lineno"> 2325</span>        <span class="comment">// Sequencer Reset</span></div>
<div class="line"><span class="lineno"> 2326</span>        Display.currentSequencer = 8;</div>
<div class="line"><span class="lineno"> 2327</span>        <span class="keywordflow">if</span>(Display.Reset == <span class="keyword">true</span>) {</div>
<div class="line"><span class="lineno"> 2328</span>            <a class="code hl_function" href="group__Sequencer.html#gaf1fa77afa44aa624f611ecb1bcb9117e">Sequencer_Reset</a>();</div>
<div class="line"><span class="lineno"> 2329</span>            Display.Reset = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2330</span>            strcpy(Display.value_str_sequencer[8], <span class="stringliteral">&quot;done&quot;</span>);</div>
<div class="line"><span class="lineno"> 2331</span>        }</div>
<div class="line"><span class="lineno"> 2332</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(Display.Reset == <span class="keyword">false</span>)</div>
<div class="line"><span class="lineno"> 2333</span>            strcpy(Display.value_str_sequencer[8], <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><span class="lineno"> 2334</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2335</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 2336</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2337</span>    }</div>
<div class="line"><span class="lineno"> 2338</span> </div>
<div class="line"><span class="lineno"> 2339</span>    Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position, CASE2, Display.value_end_x_position, CASE2+VALUE_ROW_LENGTH, UNCOLORED);</div>
<div class="line"><span class="lineno"> 2340</span>    Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position, CASE3, Display.value_end_x_position, CASE3+VALUE_ROW_LENGTH, UNCOLORED);</div>
<div class="line"><span class="lineno"> 2341</span>    Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position, CASE4, Display.value_end_x_position, CASE4+VALUE_ROW_LENGTH, UNCOLORED);</div>
<div class="line"><span class="lineno"> 2342</span>    Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position, CASE5, Display.value_end_x_position, CASE5+VALUE_ROW_LENGTH, UNCOLORED);</div>
<div class="line"><span class="lineno"> 2343</span>    Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position, CASE6, Display.value_end_x_position, CASE6+VALUE_ROW_LENGTH, UNCOLORED);</div>
<div class="line"><span class="lineno"> 2344</span>    Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position, CASE7, Display.value_end_x_position, CASE7+VALUE_ROW_LENGTH, UNCOLORED);</div>
<div class="line"><span class="lineno"> 2345</span>    Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position, CASE8, Display.value_end_x_position, CASE8+VALUE_ROW_LENGTH, UNCOLORED);</div>
<div class="line"><span class="lineno"> 2346</span>    Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position, CASE9, Display.value_end_x_position, CASE9+VALUE_ROW_LENGTH, UNCOLORED);</div>
<div class="line"><span class="lineno"> 2347</span> </div>
<div class="line"><span class="lineno"> 2348</span>    <span class="comment">// Print value row</span></div>
<div class="line"><span class="lineno"> 2349</span>    Paint_DrawStringAt(&amp;paint, Display.value_start_x_position, CASE2, Display.value_str_sequencer[0], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 2350</span>    Paint_DrawStringAt(&amp;paint, Display.value_start_x_position, CASE3, Display.value_str_sequencer[1], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 2351</span>    Paint_DrawStringAt(&amp;paint, Display.value_start_x_position, CASE4, Display.value_str_sequencer[2], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 2352</span>    Paint_DrawStringAt(&amp;paint, Display.value_start_x_position, CASE5, Display.value_str_sequencer[3], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 2353</span>    Paint_DrawStringAt(&amp;paint, Display.value_start_x_position, CASE6, Display.value_str_sequencer[4], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 2354</span>    Paint_DrawStringAt(&amp;paint, Display.value_start_x_position, CASE7, Display.value_str_sequencer[5], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 2355</span>    Paint_DrawStringAt(&amp;paint, Display.value_start_x_position, CASE8, Display.value_str_sequencer[6], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 2356</span>    Paint_DrawStringAt(&amp;paint, Display.value_start_x_position, CASE9, Display.value_str_sequencer[8], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 2357</span> </div>
<div class="line"><span class="lineno"> 2358</span>    <span class="keywordflow">return</span> DISPLAY_OK;</div>
<div class="line"><span class="lineno"> 2359</span>}</div>
<div class="ttc" id="agroup__MusicNotes_html_ga4e77e1cf22732d27ec948ba6f3942187"><div class="ttname"><a href="group__MusicNotes.html#ga4e77e1cf22732d27ec948ba6f3942187">major_scale</a></div><div class="ttdeci">const uint32_t major_scale[9]</div><div class="ttdoc">minor/major tone scale in semi tone steps, according to the array keys</div><div class="ttdef"><b>Definition:</b> <a href="music__notes_8h_source.html#l00045">music_notes.h:45</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga9eb195ca66d081452b9af0da2689dae2" name="ga9eb195ca66d081452b9af0da2689dae2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9eb195ca66d081452b9af0da2689dae2">&#9670;&nbsp;</a></span>p_Sequencer_Settings()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Display_Status p_Sequencer_Settings </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>GUI-site function, all functions with the beginning p_ represent a site of the GUI menu. </p>
<dl class="section return"><dt>Returns</dt><dd>Display_Status returns DISPLAY_OK when function reaches the end </dd></dl>

<p class="definition">Definition at line <a class="el" href="display_8c_source.html#l02366">2366</a> of file <a class="el" href="display_8c_source.html">display.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2366</span>                                          {</div>
<div class="line"><span class="lineno"> 2367</span> </div>
<div class="line"><span class="lineno"> 2368</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE1, <span class="stringliteral">&quot;Last page&quot;</span>, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 2369</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE2, <span class="stringliteral">&quot;Edit sequence&quot;</span>, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 2370</span>    <a class="code hl_function" href="group__Display.html#gaf6dae7f8bd4125cda81cd0a03749adf2">Display_DrawSequencerIcons</a>();</div>
<div class="line"><span class="lineno"> 2371</span>    <a class="code hl_function" href="group__Display.html#ga3270139a5529761a3c6cc482e8a83367">DISPLAY_DrawSequencerPatternFrame</a>(8);</div>
<div class="line"><span class="lineno"> 2372</span> </div>
<div class="line"><span class="lineno"> 2373</span>    <span class="comment">// As big as the number of parameters</span></div>
<div class="line"><span class="lineno"> 2374</span>    Display.max_parameter = 2;</div>
<div class="line"><span class="lineno"> 2375</span> </div>
<div class="line"><span class="lineno"> 2376</span>    <span class="keywordflow">if</span>(Display.JoystickParameterPosition == 1) {    <span class="comment">// Last page</span></div>
<div class="line"><span class="lineno"> 2377</span>        Display.EditSteps = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2378</span>    }</div>
<div class="line"><span class="lineno"> 2379</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(Display.JoystickParameterPosition == 2) {   <span class="comment">// Edit sequence on/off</span></div>
<div class="line"><span class="lineno"> 2380</span>        <span class="keywordflow">if</span>(Display.poti_moved == <span class="keyword">true</span>) {</div>
<div class="line"><span class="lineno"> 2381</span>            Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position, CASE2, Display.value_end_x_position, CASE2+VALUE_ROW_LENGTH, UNCOLORED);</div>
<div class="line"><span class="lineno"> 2382</span>            <span class="keywordtype">float</span> potVal = (float)Display.ADC2inputs[2]/(<span class="keywordtype">float</span>)Display.ADC_FullRange * 100; <span class="comment">// Potentiometer Input in %</span></div>
<div class="line"><span class="lineno"> 2383</span>            <span class="keywordflow">if</span>(potVal &lt; 50) {   <span class="comment">// smaller than 50 %</span></div>
<div class="line"><span class="lineno"> 2384</span>                Display.EditSteps = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2385</span>                strcpy(Display.value_str_sequencer[7], <span class="stringliteral">&quot;OFF&quot;</span>);</div>
<div class="line"><span class="lineno"> 2386</span>            }</div>
<div class="line"><span class="lineno"> 2387</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span>(potVal &gt;= 50) { <span class="comment">// greater than 50 %</span></div>
<div class="line"><span class="lineno"> 2388</span>                Display.EditSteps = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2389</span>                strcpy(Display.value_str_sequencer[7], <span class="stringliteral">&quot;ON&quot;</span>);</div>
<div class="line"><span class="lineno"> 2390</span>            }</div>
<div class="line"><span class="lineno"> 2391</span>        }</div>
<div class="line"><span class="lineno"> 2392</span>    }</div>
<div class="line"><span class="lineno"> 2393</span> </div>
<div class="line"><span class="lineno"> 2394</span>    Paint_DrawStringAt(&amp;paint, Display.value_start_x_position, CASE2, Display.value_str_sequencer[7], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 2395</span> </div>
<div class="line"><span class="lineno"> 2396</span>    <span class="keywordflow">return</span> DISPLAY_OK;</div>
<div class="line"><span class="lineno"> 2397</span>}</div>
<div class="ttc" id="agroup__Display_html_ga3270139a5529761a3c6cc482e8a83367"><div class="ttname"><a href="group__Display.html#ga3270139a5529761a3c6cc482e8a83367">DISPLAY_DrawSequencerPatternFrame</a></div><div class="ttdeci">Display_Status DISPLAY_DrawSequencerPatternFrame(uint8_t Drumsteps)</div><div class="ttdoc">This function draws the pattern frame of the sequencer.</div><div class="ttdef"><b>Definition:</b> <a href="display_8c_source.html#l02420">display.c:2420</a></div></div>
<div class="ttc" id="agroup__Display_html_gaf6dae7f8bd4125cda81cd0a03749adf2"><div class="ttname"><a href="group__Display.html#gaf6dae7f8bd4125cda81cd0a03749adf2">Display_DrawSequencerIcons</a></div><div class="ttdeci">Display_Status Display_DrawSequencerIcons(void)</div><div class="ttdoc">This function draws the note names of the sequencer.</div><div class="ttdef"><b>Definition:</b> <a href="display_8c_source.html#l02404">display.c:2404</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga7b8ca052b8ac8db5ac68f7cbe53ae494" name="ga7b8ca052b8ac8db5ac68f7cbe53ae494"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7b8ca052b8ac8db5ac68f7cbe53ae494">&#9670;&nbsp;</a></span>p_StartingMenu()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Display_Status p_StartingMenu </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>frame_buffer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>this function prints the start menu </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">frame_buffer</td><td>frame buffer of the display </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>returns display status flag </dd></dl>

<p class="definition">Definition at line <a class="el" href="display_8c_source.html#l00728">728</a> of file <a class="el" href="display_8c_source.html">display.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  728</span>                                                           {</div>
<div class="line"><span class="lineno">  729</span> </div>
<div class="line"><span class="lineno">  730</span>    Paint_DrawStringAt(&amp;paint, 1, CASE0, <span class="stringliteral">&quot;THE BODYSYNTH&quot;</span>, &amp;Font16, COLORED);</div>
<div class="line"><span class="lineno">  731</span>    Paint_DrawStringAt(&amp;paint, 1, CASE1, <span class="stringliteral">&quot;DSP-Projekt WS 21/22&quot;</span>, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno">  732</span>    Paint_DrawStringAt(&amp;paint, 1, CASE2, <span class="stringliteral">&quot;Wiselom Abevi Abbey&quot;</span>, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno">  733</span>    Paint_DrawStringAt(&amp;paint, 1, CASE3, <span class="stringliteral">&quot;Maximilian Lehmer&quot;</span>, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno">  734</span>    Paint_DrawStringAt(&amp;paint, 1, CASE4, <span class="stringliteral">&quot;Paul Mamatis&quot;</span>, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno">  735</span>    Paint_DrawStringAt(&amp;paint, 1, CASE5, <span class="stringliteral">&quot;Marc Bielen&quot;</span>, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno">  736</span> </div>
<div class="line"><span class="lineno">  737</span>    Paint_DrawStringAt(&amp;paint, 1, CASE7, <span class="stringliteral">&quot;&lt;- Presets       Settings -&gt;&quot;</span>, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno">  738</span> </div>
<div class="line"><span class="lineno">  739</span>    Display.UpdateDisplay = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  740</span> </div>
<div class="line"><span class="lineno">  741</span>    <span class="keywordflow">return</span> DISPLAY_OK;</div>
<div class="line"><span class="lineno">  742</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ga89b9c4137cc59fe857a1a6cdcaffc0a9" name="ga89b9c4137cc59fe857a1a6cdcaffc0a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga89b9c4137cc59fe857a1a6cdcaffc0a9">&#9670;&nbsp;</a></span>p_Tremolo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void p_Tremolo </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structTremolo__t.html">Tremolo_t</a> *&#160;</td>
          <td class="paramname"><em>Tremolo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>GUI-site function, all functions with the beginning p_ represent a site of the GUI menu. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Tremolo</td><td>pointer to a Tremolo-effect struct </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="display_8c_source.html#l04256">4256</a> of file <a class="el" href="display_8c_source.html">display.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4256</span>                                          {</div>
<div class="line"><span class="lineno"> 4257</span> </div>
<div class="line"><span class="lineno"> 4258</span>    <span class="comment">// Header line</span></div>
<div class="line"><span class="lineno"> 4259</span>    <span class="keywordtype">char</span> headerstring[] = <span class="stringliteral">&quot;TREMOLO&quot;</span>;</div>
<div class="line"><span class="lineno"> 4260</span>    Paint_DrawStringAt(&amp;paint, 1, CASE0, headerstring, &amp;Font16, COLORED);</div>
<div class="line"><span class="lineno"> 4261</span> </div>
<div class="line"><span class="lineno"> 4262</span>    <span class="keywordtype">char</span> str_1[] = <span class="stringliteral">&quot;Tremolo ON/OFF&quot;</span>;</div>
<div class="line"><span class="lineno"> 4263</span>    <span class="keywordtype">char</span> str_2[] = <span class="stringliteral">&quot;Tremolo  Rate&quot;</span>;</div>
<div class="line"><span class="lineno"> 4264</span>    <span class="keywordtype">char</span> str_3[] = <span class="stringliteral">&quot;Tremolo Depth&quot;</span>;</div>
<div class="line"><span class="lineno"> 4265</span>    <span class="keywordtype">char</span> str_4[] = <span class="stringliteral">&quot;Rate Source&quot;</span>;</div>
<div class="line"><span class="lineno"> 4266</span>    <span class="keywordtype">char</span> str_5[] = <span class="stringliteral">&quot;Depth Source&quot;</span>;</div>
<div class="line"><span class="lineno"> 4267</span>    <span class="keywordtype">char</span> str_6[] = <span class="stringliteral">&quot;Tremolo Reset&quot;</span>;</div>
<div class="line"><span class="lineno"> 4268</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE1, str_1, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 4269</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE2, str_2, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 4270</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE3, str_3, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 4271</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE4, str_4, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 4272</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE5, str_5, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 4273</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE6, str_6, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 4274</span> </div>
<div class="line"><span class="lineno"> 4275</span>    <span class="comment">// As big as the number of parameters</span></div>
<div class="line"><span class="lineno"> 4276</span>    Display.max_parameter = 6;</div>
<div class="line"><span class="lineno"> 4277</span> </div>
<div class="line"><span class="lineno"> 4278</span>    <span class="comment">// Potentiometer Input in %</span></div>
<div class="line"><span class="lineno"> 4279</span>    <span class="keywordtype">float</span> potVal = (float)Display.ADC2inputs[2]/(<span class="keywordtype">float</span>)Display.ADC_FullRange * 100;</div>
<div class="line"><span class="lineno"> 4280</span> </div>
<div class="line"><span class="lineno"> 4281</span>    <span class="keywordflow">if</span>(Display.poti_moved == <span class="keyword">true</span> || Tremolo-&gt;lfo-&gt;lfo_done_flag == <span class="keyword">true</span> || Display.Reset == <span class="keyword">true</span>) {</div>
<div class="line"><span class="lineno"> 4282</span> </div>
<div class="line"><span class="lineno"> 4283</span>        <span class="keywordflow">switch</span>(Display.JoystickParameterPosition) {</div>
<div class="line"><span class="lineno"> 4284</span>        <span class="keywordflow">case</span> 1:</div>
<div class="line"><span class="lineno"> 4285</span>            <span class="comment">// Tremolo ON/OFF</span></div>
<div class="line"><span class="lineno"> 4286</span>            <span class="keywordflow">if</span>(potVal &lt; 50) {   <span class="comment">// smaller than 50 %</span></div>
<div class="line"><span class="lineno"> 4287</span>                Display.Tremolo_ONOFF = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 4288</span>                strcpy(Display.value_str_tremolo[0], <span class="stringliteral">&quot;OFF&quot;</span>);</div>
<div class="line"><span class="lineno"> 4289</span>            }</div>
<div class="line"><span class="lineno"> 4290</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span>(potVal &gt;= 50) { <span class="comment">// greater than 50 %</span></div>
<div class="line"><span class="lineno"> 4291</span>                Display.Tremolo_ONOFF = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 4292</span>                strcpy(Display.value_str_tremolo[0], <span class="stringliteral">&quot;ON&quot;</span>);</div>
<div class="line"><span class="lineno"> 4293</span>            }</div>
<div class="line"><span class="lineno"> 4294</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4295</span>        <span class="keywordflow">case</span> 2:</div>
<div class="line"><span class="lineno"> 4296</span>            <span class="comment">// Tremolo Rate</span></div>
<div class="line"><span class="lineno"> 4297</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4298</span>        <span class="keywordflow">case</span> 3:</div>
<div class="line"><span class="lineno"> 4299</span>            <span class="comment">// Tremolo Depth</span></div>
<div class="line"><span class="lineno"> 4300</span>            Display.Tremolo_Depth = (((float)Display.ADC2inputs[2]/(<span class="keywordtype">float</span>)Display.ADC_FullRange) * Tremolo-&gt;tremolo_maximum_depth);</div>
<div class="line"><span class="lineno"> 4301</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4302</span>        <span class="keywordflow">case</span> 4:</div>
<div class="line"><span class="lineno"> 4303</span>            <span class="comment">// Tremolo Rate Source</span></div>
<div class="line"><span class="lineno"> 4304</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4305</span>        <span class="keywordflow">case</span> 5:</div>
<div class="line"><span class="lineno"> 4306</span>            <span class="comment">// Tremolo Depth Source</span></div>
<div class="line"><span class="lineno"> 4307</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4308</span>        <span class="keywordflow">case</span> 6: <span class="comment">// Tremolo Reset</span></div>
<div class="line"><span class="lineno"> 4309</span>            <span class="keywordflow">if</span>(Display.Reset == <span class="keyword">true</span>) {</div>
<div class="line"><span class="lineno"> 4310</span>                <a class="code hl_function" href="group__tremolo.html#ga7ec31bc72214199a5efdbe88b3a3f8b8">Tremolo_Reset</a>();</div>
<div class="line"><span class="lineno"> 4311</span>                Display.Reset = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 4312</span>                strcpy(Display.value_str_tremolo[5], <span class="stringliteral">&quot;done&quot;</span>);</div>
<div class="line"><span class="lineno"> 4313</span>            }</div>
<div class="line"><span class="lineno"> 4314</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span>(Display.Reset == <span class="keyword">false</span>)</div>
<div class="line"><span class="lineno"> 4315</span>                strcpy(Display.value_str_tremolo[5], <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><span class="lineno"> 4316</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4317</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 4318</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4319</span>        }</div>
<div class="line"><span class="lineno"> 4320</span>    }</div>
<div class="line"><span class="lineno"> 4321</span> </div>
<div class="line"><span class="lineno"> 4322</span>    Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position, CASE1, Display.value_end_x_position, CASE1+VALUE_ROW_LENGTH , UNCOLORED);</div>
<div class="line"><span class="lineno"> 4323</span>    Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position-30, CASE2, Display.value_end_x_position, CASE2+VALUE_ROW_LENGTH, UNCOLORED);</div>
<div class="line"><span class="lineno"> 4324</span>    Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position-30, CASE3, Display.value_end_x_position, CASE3+VALUE_ROW_LENGTH, UNCOLORED);</div>
<div class="line"><span class="lineno"> 4325</span>    Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position-30, CASE4, Display.value_end_x_position, CASE4+VALUE_ROW_LENGTH, UNCOLORED);</div>
<div class="line"><span class="lineno"> 4326</span>    Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position-30, CASE5, Display.value_end_x_position, CASE5+VALUE_ROW_LENGTH, UNCOLORED);</div>
<div class="line"><span class="lineno"> 4327</span>    Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position-30, CASE6, Display.value_end_x_position, CASE6+VALUE_ROW_LENGTH, UNCOLORED);</div>
<div class="line"><span class="lineno"> 4328</span> </div>
<div class="line"><span class="lineno"> 4329</span>    sprintf(Display.value_str_tremolo[1], <span class="stringliteral">&quot;%.3f&quot;</span>, Display.Tremolo_Rate);</div>
<div class="line"><span class="lineno"> 4330</span>    sprintf(Display.value_str_tremolo[2], <span class="stringliteral">&quot;%.2f&quot;</span>, Display.Tremolo_Depth);</div>
<div class="line"><span class="lineno"> 4331</span>    strcpy(Display.value_str_tremolo[3], Display.source_names[Display.Tremolo_Sources[0]]);</div>
<div class="line"><span class="lineno"> 4332</span>    strcpy(Display.value_str_tremolo[4], Display.source_names[Display.Tremolo_Sources[1]]);</div>
<div class="line"><span class="lineno"> 4333</span>    <span class="comment">// Print value row</span></div>
<div class="line"><span class="lineno"> 4334</span>    Paint_DrawStringAt(&amp;paint, Display.value_start_x_position, CASE1, Display.value_str_tremolo[0], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 4335</span>    Paint_DrawStringAt(&amp;paint, Display.value_start_x_position-30, CASE2, Display.value_str_tremolo[1], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 4336</span>    Paint_DrawStringAt(&amp;paint, Display.value_start_x_position-30, CASE3, Display.value_str_tremolo[2], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 4337</span>    Paint_DrawStringAt(&amp;paint, Display.value_start_x_position-30, CASE4, Display.value_str_tremolo[3], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 4338</span>    Paint_DrawStringAt(&amp;paint, Display.value_start_x_position-30, CASE5, Display.value_str_tremolo[4], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 4339</span>    Paint_DrawStringAt(&amp;paint, Display.value_start_x_position-30, CASE6, Display.value_str_tremolo[5], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 4340</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ga349ac6f6068d46a199b473139123f0be" name="ga349ac6f6068d46a199b473139123f0be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga349ac6f6068d46a199b473139123f0be">&#9670;&nbsp;</a></span>p_Voices_overview()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void p_Voices_overview </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>GUI-site function, all functions with the beginning p_ represent a site of the GUI menu. </p>
<dl class="section return"><dt>Returns</dt><dd>Display_Status returns DISPLAY_OK when function reaches the end </dd></dl>

<p class="definition">Definition at line <a class="el" href="display_8c_source.html#l03076">3076</a> of file <a class="el" href="display_8c_source.html">display.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3076</span>                             {</div>
<div class="line"><span class="lineno"> 3077</span> </div>
<div class="line"><span class="lineno"> 3078</span>    <span class="comment">// Header line</span></div>
<div class="line"><span class="lineno"> 3079</span>    <span class="keywordtype">char</span> headerstring[] = <span class="stringliteral">&quot;VOICES&quot;</span>;</div>
<div class="line"><span class="lineno"> 3080</span>    Paint_DrawStringAt(&amp;paint, 1, CASE0, headerstring, &amp;Font16, COLORED);</div>
<div class="line"><span class="lineno"> 3081</span>    <span class="comment">// row cases</span></div>
<div class="line"><span class="lineno"> 3082</span>    <span class="keywordtype">char</span> str_1[] = <span class="stringliteral">&quot;Next effect&quot;</span>;</div>
<div class="line"><span class="lineno"> 3083</span>    <span class="keywordtype">char</span> str_2[] = <span class="stringliteral">&quot;Voice 1 ON/OFF&quot;</span>;</div>
<div class="line"><span class="lineno"> 3084</span>    <span class="keywordtype">char</span> str_3[] = <span class="stringliteral">&quot;Voice 2 ON/OFF&quot;</span>;</div>
<div class="line"><span class="lineno"> 3085</span>    <span class="keywordtype">char</span> str_4[] = <span class="stringliteral">&quot;Voice 3 ON/OFF&quot;</span>;</div>
<div class="line"><span class="lineno"> 3086</span>    <span class="keywordtype">char</span> str_5[] = <span class="stringliteral">&quot;Noise ON/OFF&quot;</span>;</div>
<div class="line"><span class="lineno"> 3087</span>    <span class="keywordtype">char</span> str_6[] = <span class="stringliteral">&quot;Voices Reset&quot;</span>;</div>
<div class="line"><span class="lineno"> 3088</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE1, str_1, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 3089</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE2, str_2, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 3090</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE3, str_3, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 3091</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE4, str_4, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 3092</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE5, str_5, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 3093</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE6, str_6, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 3094</span> </div>
<div class="line"><span class="lineno"> 3095</span>    <span class="comment">// As big as the number of parameters</span></div>
<div class="line"><span class="lineno"> 3096</span>    Display.max_parameter = 6;</div>
<div class="line"><span class="lineno"> 3097</span> </div>
<div class="line"><span class="lineno"> 3098</span>    <span class="keywordtype">float</span> potVal = (float)Display.ADC2inputs[2]/(<span class="keywordtype">float</span>)Display.ADC_FullRange * 100; <span class="comment">// Potentiometer Input in %</span></div>
<div class="line"><span class="lineno"> 3099</span> </div>
<div class="line"><span class="lineno"> 3100</span>    <span class="keywordflow">switch</span>(Display.JoystickParameterPosition) {</div>
<div class="line"><span class="lineno"> 3101</span> </div>
<div class="line"><span class="lineno"> 3102</span>    <span class="keywordflow">case</span> 1:</div>
<div class="line"><span class="lineno"> 3103</span>        <span class="comment">// Next Effect</span></div>
<div class="line"><span class="lineno"> 3104</span>        Display.currentVoice = 0;</div>
<div class="line"><span class="lineno"> 3105</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3106</span>    <span class="keywordflow">case</span> 2:</div>
<div class="line"><span class="lineno"> 3107</span>        <span class="comment">// Voice 1 ON/OFF</span></div>
<div class="line"><span class="lineno"> 3108</span>        Display.currentVoice = 1;</div>
<div class="line"><span class="lineno"> 3109</span>        Display.Voices_Kind[Display.currentVoice-1] = SIN;</div>
<div class="line"><span class="lineno"> 3110</span> </div>
<div class="line"><span class="lineno"> 3111</span>        <span class="keywordflow">if</span>(Display.poti_moved == <span class="keyword">true</span>) {</div>
<div class="line"><span class="lineno"> 3112</span> </div>
<div class="line"><span class="lineno"> 3113</span>            <span class="keywordflow">if</span>(potVal &lt; 50) {   <span class="comment">// smaller than 50 %</span></div>
<div class="line"><span class="lineno"> 3114</span>                Display.Voices_ONOFF[Display.currentVoice-1] = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3115</span>                strcpy(Display.value_str_voices_overview[0], <span class="stringliteral">&quot;OFF&quot;</span>);</div>
<div class="line"><span class="lineno"> 3116</span>            }</div>
<div class="line"><span class="lineno"> 3117</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span>(potVal &gt;= 50) { <span class="comment">// greater than 50 %</span></div>
<div class="line"><span class="lineno"> 3118</span>                Display.Voices_ONOFF[Display.currentVoice-1] = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3119</span>                strcpy(Display.value_str_voices_overview[0], <span class="stringliteral">&quot;ON&quot;</span>);</div>
<div class="line"><span class="lineno"> 3120</span>            }</div>
<div class="line"><span class="lineno"> 3121</span>        }</div>
<div class="line"><span class="lineno"> 3122</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3123</span>    <span class="keywordflow">case</span> 3:</div>
<div class="line"><span class="lineno"> 3124</span>        <span class="comment">// Voice 2 ON/OFF</span></div>
<div class="line"><span class="lineno"> 3125</span>        Display.currentVoice = 2;</div>
<div class="line"><span class="lineno"> 3126</span>        Display.Voices_Kind[Display.currentVoice-1] = RECT;</div>
<div class="line"><span class="lineno"> 3127</span> </div>
<div class="line"><span class="lineno"> 3128</span>        <span class="keywordflow">if</span>(Display.poti_moved == <span class="keyword">true</span>) {</div>
<div class="line"><span class="lineno"> 3129</span> </div>
<div class="line"><span class="lineno"> 3130</span>            <span class="keywordflow">if</span>(potVal &lt; 50) {   <span class="comment">// smaller than 50 %</span></div>
<div class="line"><span class="lineno"> 3131</span>                Display.Voices_ONOFF[Display.currentVoice-1] = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3132</span>                strcpy(Display.value_str_voices_overview[1], <span class="stringliteral">&quot;OFF&quot;</span>);</div>
<div class="line"><span class="lineno"> 3133</span>            }</div>
<div class="line"><span class="lineno"> 3134</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span>(potVal &gt;= 50) { <span class="comment">// greater than 50 %</span></div>
<div class="line"><span class="lineno"> 3135</span>                Display.Voices_ONOFF[Display.currentVoice-1] = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3136</span>                strcpy(Display.value_str_voices_overview[1], <span class="stringliteral">&quot;ON&quot;</span>);</div>
<div class="line"><span class="lineno"> 3137</span>            }</div>
<div class="line"><span class="lineno"> 3138</span>        }</div>
<div class="line"><span class="lineno"> 3139</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3140</span>    <span class="keywordflow">case</span> 4:</div>
<div class="line"><span class="lineno"> 3141</span>        <span class="comment">// Voice 3 ON/OFF</span></div>
<div class="line"><span class="lineno"> 3142</span>        Display.currentVoice = 3;</div>
<div class="line"><span class="lineno"> 3143</span>        Display.Voices_Kind[Display.currentVoice-1] = TRIANGLE;</div>
<div class="line"><span class="lineno"> 3144</span> </div>
<div class="line"><span class="lineno"> 3145</span>        <span class="keywordflow">if</span>(Display.poti_moved == <span class="keyword">true</span>) {</div>
<div class="line"><span class="lineno"> 3146</span> </div>
<div class="line"><span class="lineno"> 3147</span>            <span class="keywordflow">if</span>(potVal &lt; 50) {   <span class="comment">// smaller than 50 %</span></div>
<div class="line"><span class="lineno"> 3148</span>                Display.Voices_ONOFF[Display.currentVoice-1] = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3149</span>                strcpy(Display.value_str_voices_overview[2], <span class="stringliteral">&quot;OFF&quot;</span>);</div>
<div class="line"><span class="lineno"> 3150</span>            }</div>
<div class="line"><span class="lineno"> 3151</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span>(potVal &gt;= 50) { <span class="comment">// greater than 50 %</span></div>
<div class="line"><span class="lineno"> 3152</span>                Display.Voices_ONOFF[Display.currentVoice-1] = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3153</span>                strcpy(Display.value_str_voices_overview[2], <span class="stringliteral">&quot;ON&quot;</span>);</div>
<div class="line"><span class="lineno"> 3154</span>            }</div>
<div class="line"><span class="lineno"> 3155</span>        }</div>
<div class="line"><span class="lineno"> 3156</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3157</span>    <span class="keywordflow">case</span> 5:</div>
<div class="line"><span class="lineno"> 3158</span>        <span class="comment">// Noise ON/OFF</span></div>
<div class="line"><span class="lineno"> 3159</span>        Display.currentVoice = 4;</div>
<div class="line"><span class="lineno"> 3160</span> </div>
<div class="line"><span class="lineno"> 3161</span>        <span class="keywordflow">if</span>(Display.poti_moved == <span class="keyword">true</span>) {</div>
<div class="line"><span class="lineno"> 3162</span> </div>
<div class="line"><span class="lineno"> 3163</span>            <span class="keywordflow">if</span>(potVal &lt; 50) {   <span class="comment">// smaller than 50 %</span></div>
<div class="line"><span class="lineno"> 3164</span>                Display.Noise_ONOFF = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3165</span>                strcpy(Display.value_str_voices_overview[3], <span class="stringliteral">&quot;OFF&quot;</span>);</div>
<div class="line"><span class="lineno"> 3166</span>            }</div>
<div class="line"><span class="lineno"> 3167</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span>(potVal &gt;= 50) { <span class="comment">// greater than 50 %</span></div>
<div class="line"><span class="lineno"> 3168</span>                Display.Noise_ONOFF = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3169</span>                strcpy(Display.value_str_voices_overview[3], <span class="stringliteral">&quot;ON&quot;</span>);</div>
<div class="line"><span class="lineno"> 3170</span>            }</div>
<div class="line"><span class="lineno"> 3171</span>        }</div>
<div class="line"><span class="lineno"> 3172</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3173</span>    <span class="keywordflow">case</span> 6:</div>
<div class="line"><span class="lineno"> 3174</span>        <span class="comment">// Voices Reset</span></div>
<div class="line"><span class="lineno"> 3175</span>        Display.currentVoice = 5;</div>
<div class="line"><span class="lineno"> 3176</span> </div>
<div class="line"><span class="lineno"> 3177</span>        <span class="keywordflow">if</span>(Display.Reset == <span class="keyword">true</span>) {</div>
<div class="line"><span class="lineno"> 3178</span>            <a class="code hl_function" href="group__SSynth.html#gaf4829c3aeeaf3dbcda0b5266e2834898">Voices_Reset</a>();</div>
<div class="line"><span class="lineno"> 3179</span>            Display.Reset = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3180</span>            strcpy(Display.value_str_voices_overview[4], <span class="stringliteral">&quot;done&quot;</span>);</div>
<div class="line"><span class="lineno"> 3181</span>        }</div>
<div class="line"><span class="lineno"> 3182</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(Display.Reset == <span class="keyword">false</span>)</div>
<div class="line"><span class="lineno"> 3183</span>            strcpy(Display.value_str_voices_overview[4], <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><span class="lineno"> 3184</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3185</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 3186</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3187</span>    }</div>
<div class="line"><span class="lineno"> 3188</span> </div>
<div class="line"><span class="lineno"> 3189</span>    Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position, CASE2, Display.value_end_x_position, CASE2+VALUE_ROW_LENGTH , UNCOLORED);</div>
<div class="line"><span class="lineno"> 3190</span>    Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position, CASE3, Display.value_end_x_position, CASE3+VALUE_ROW_LENGTH , UNCOLORED);</div>
<div class="line"><span class="lineno"> 3191</span>    Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position, CASE4, Display.value_end_x_position, CASE4+VALUE_ROW_LENGTH , UNCOLORED);</div>
<div class="line"><span class="lineno"> 3192</span>    Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position, CASE5, Display.value_end_x_position, CASE5+VALUE_ROW_LENGTH , UNCOLORED);</div>
<div class="line"><span class="lineno"> 3193</span>    Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position, CASE6, Display.value_end_x_position, CASE6+VALUE_ROW_LENGTH, UNCOLORED);</div>
<div class="line"><span class="lineno"> 3194</span> </div>
<div class="line"><span class="lineno"> 3195</span>    <span class="comment">// Print value row</span></div>
<div class="line"><span class="lineno"> 3196</span>    Paint_DrawStringAt(&amp;paint, Display.value_start_x_position, CASE2, Display.value_str_voices_overview[0], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 3197</span>    Paint_DrawStringAt(&amp;paint, Display.value_start_x_position, CASE3, Display.value_str_voices_overview[1], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 3198</span>    Paint_DrawStringAt(&amp;paint, Display.value_start_x_position, CASE4, Display.value_str_voices_overview[2], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 3199</span>    Paint_DrawStringAt(&amp;paint, Display.value_start_x_position, CASE5, Display.value_str_voices_overview[3], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 3200</span>    Paint_DrawStringAt(&amp;paint, Display.value_start_x_position, CASE6, Display.value_str_voices_overview[4], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 3201</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ga43359da16507588edd1fe90f3ced9222" name="ga43359da16507588edd1fe90f3ced9222"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga43359da16507588edd1fe90f3ced9222">&#9670;&nbsp;</a></span>p_Voices_Settings()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void p_Voices_Settings </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>GUI-site function, all functions with the beginning p_ represent a site of the GUI menu. </p>
<dl class="section return"><dt>Returns</dt><dd>Display_Status returns DISPLAY_OK when function reaches the end </dd></dl>

<p class="definition">Definition at line <a class="el" href="display_8c_source.html#l03208">3208</a> of file <a class="el" href="display_8c_source.html">display.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3208</span>                             {</div>
<div class="line"><span class="lineno"> 3209</span> </div>
<div class="line"><span class="lineno"> 3210</span>    <span class="keywordflow">if</span>(Display.currentVoice &gt;= 1 &amp;&amp; Display.currentVoice &lt; NUMBER_OF_VOICES+1) {</div>
<div class="line"><span class="lineno"> 3211</span> </div>
<div class="line"><span class="lineno"> 3212</span>        <span class="comment">// Header line</span></div>
<div class="line"><span class="lineno"> 3213</span>        <span class="keywordtype">char</span> headerstring[] = <span class="stringliteral">&quot;Voice &quot;</span>;</div>
<div class="line"><span class="lineno"> 3214</span>        <span class="keywordtype">char</span> headerstring_2[5];</div>
<div class="line"><span class="lineno"> 3215</span>        itoa(Display.currentVoice, headerstring_2, 10);</div>
<div class="line"><span class="lineno"> 3216</span>        strcat(headerstring, headerstring_2);</div>
<div class="line"><span class="lineno"> 3217</span>        Paint_DrawStringAt(&amp;paint, 1, CASE0, headerstring, &amp;Font16, COLORED);</div>
<div class="line"><span class="lineno"> 3218</span> </div>
<div class="line"><span class="lineno"> 3219</span>        <span class="keywordtype">char</span> str_1[] = <span class="stringliteral">&quot;Note&quot;</span>;</div>
<div class="line"><span class="lineno"> 3220</span>        <span class="keywordtype">char</span> str_2[] = <span class="stringliteral">&quot;Octave&quot;</span>;</div>
<div class="line"><span class="lineno"> 3221</span>        <span class="keywordtype">char</span> str_3[] = <span class="stringliteral">&quot;Note Source&quot;</span>;</div>
<div class="line"><span class="lineno"> 3222</span>        <span class="keywordtype">char</span> str_4[] = <span class="stringliteral">&quot;Octave Source&quot;</span>;</div>
<div class="line"><span class="lineno"> 3223</span>        Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE1, str_1, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 3224</span>        Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE2, str_2, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 3225</span>        Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE3, str_3, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 3226</span>        Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE4, str_4, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 3227</span> </div>
<div class="line"><span class="lineno"> 3228</span>        <span class="comment">// As big as the number of parameters</span></div>
<div class="line"><span class="lineno"> 3229</span>        Display.max_parameter = 4;</div>
<div class="line"><span class="lineno"> 3230</span> </div>
<div class="line"><span class="lineno"> 3231</span>        <span class="keywordflow">switch</span>(Display.JoystickParameterPosition) {</div>
<div class="line"><span class="lineno"> 3232</span>        <span class="keywordflow">case</span> 1:</div>
<div class="line"><span class="lineno"> 3233</span>            <span class="comment">// Note</span></div>
<div class="line"><span class="lineno"> 3234</span>            <span class="comment">// Decide which mode is used (Freestyle, Major, Minor) and set respective Voices_Note with major/minor mapping indices of root note + desired note</span></div>
<div class="line"><span class="lineno"> 3235</span>            <span class="keywordflow">if</span>(Display.ScaleMode == FREESTYLE)</div>
<div class="line"><span class="lineno"> 3236</span>                Display.Voices_Note[Display.currentVoice-1] = (uint8_t)(<a class="code hl_variable" href="group__MusicNotes.html#gaa6edf4563731abf1927b342c5ebe3e8a">keys</a>[(uint8_t)Display.Voices_Noteindex[Display.currentVoice-1]]);</div>
<div class="line"><span class="lineno"> 3237</span> </div>
<div class="line"><span class="lineno"> 3238</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span>(Display.ScaleMode == MAJOR)</div>
<div class="line"><span class="lineno"> 3239</span>                Display.Voices_Note[Display.currentVoice-1] = (uint8_t)(<a class="code hl_variable" href="group__MusicNotes.html#gaa6edf4563731abf1927b342c5ebe3e8a">keys</a>[<a class="code hl_variable" href="group__MusicNotes.html#ga4e77e1cf22732d27ec948ba6f3942187">major_scale</a>[(uint8_t)Display.Voices_Noteindex[Display.currentVoice-1]] + Display.KeyNoteIndex]);</div>
<div class="line"><span class="lineno"> 3240</span> </div>
<div class="line"><span class="lineno"> 3241</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span>(Display.ScaleMode == MINOR)</div>
<div class="line"><span class="lineno"> 3242</span>                Display.Voices_Note[Display.currentVoice-1] = (uint8_t)(<a class="code hl_variable" href="group__MusicNotes.html#gaa6edf4563731abf1927b342c5ebe3e8a">keys</a>[minor_scale[(uint8_t)Display.Voices_Noteindex[Display.currentVoice-1]] + Display.KeyNoteIndex]);</div>
<div class="line"><span class="lineno"> 3243</span> </div>
<div class="line"><span class="lineno"> 3244</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3245</span>        <span class="keywordflow">case</span> 2:</div>
<div class="line"><span class="lineno"> 3246</span>            <span class="comment">// Octave</span></div>
<div class="line"><span class="lineno"> 3247</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3248</span>        <span class="keywordflow">case</span> 3:</div>
<div class="line"><span class="lineno"> 3249</span>            <span class="comment">// Note Source</span></div>
<div class="line"><span class="lineno"> 3250</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3251</span>        <span class="keywordflow">case</span> 4:</div>
<div class="line"><span class="lineno"> 3252</span>            <span class="comment">// Octave Source</span></div>
<div class="line"><span class="lineno"> 3253</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3254</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 3255</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3256</span>        }</div>
<div class="line"><span class="lineno"> 3257</span> </div>
<div class="line"><span class="lineno"> 3258</span>        Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position, CASE1, Display.value_end_x_position, CASE1+VALUE_ROW_LENGTH, UNCOLORED);</div>
<div class="line"><span class="lineno"> 3259</span>        Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position, CASE2, Display.value_end_x_position, CASE2+VALUE_ROW_LENGTH, UNCOLORED);</div>
<div class="line"><span class="lineno"> 3260</span>        Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position-30, CASE3, Display.value_end_x_position, CASE3+VALUE_ROW_LENGTH, UNCOLORED);</div>
<div class="line"><span class="lineno"> 3261</span>        Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position-30, CASE4, Display.value_end_x_position, CASE4+VALUE_ROW_LENGTH, UNCOLORED);</div>
<div class="line"><span class="lineno"> 3262</span> </div>
<div class="line"><span class="lineno"> 3263</span>        sprintf(Display.value_str_voices_settings[Display.currentVoice-1][0], <span class="stringliteral">&quot;%c&quot;</span>, Display.Voices_Note[Display.currentVoice-1]);</div>
<div class="line"><span class="lineno"> 3264</span>        sprintf(Display.value_str_voices_settings[Display.currentVoice-1][1], <span class="stringliteral">&quot;%d&quot;</span>, Display.Voices_Octave[Display.currentVoice-1]);</div>
<div class="line"><span class="lineno"> 3265</span>        strcpy(Display.value_str_voices_settings[Display.currentVoice-1][2], Display.source_names[Display.Voice_Note_Sources[Display.currentVoice-1]]);</div>
<div class="line"><span class="lineno"> 3266</span>        strcpy(Display.value_str_voices_settings[Display.currentVoice-1][3], Display.source_names[Display.Voice_Octave_Sources[Display.currentVoice-1]]);</div>
<div class="line"><span class="lineno"> 3267</span>        <span class="comment">// Print value row</span></div>
<div class="line"><span class="lineno"> 3268</span>        Paint_DrawStringAt(&amp;paint, Display.value_start_x_position, CASE1, Display.value_str_voices_settings[Display.currentVoice-1][0], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 3269</span>        Paint_DrawStringAt(&amp;paint, Display.value_start_x_position, CASE2, Display.value_str_voices_settings[Display.currentVoice-1][1], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 3270</span>        Paint_DrawStringAt(&amp;paint, Display.value_start_x_position-30, CASE3, Display.value_str_voices_settings[Display.currentVoice-1][2], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 3271</span>        Paint_DrawStringAt(&amp;paint, Display.value_start_x_position-30, CASE4, Display.value_str_voices_settings[Display.currentVoice-1][3], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 3272</span>    }</div>
<div class="line"><span class="lineno"> 3273</span> </div>
<div class="line"><span class="lineno"> 3274</span>    <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 3275</span> </div>
<div class="line"><span class="lineno"> 3276</span>        <span class="comment">// Header line</span></div>
<div class="line"><span class="lineno"> 3277</span>        <span class="keywordtype">char</span> headerstring[] = <span class="stringliteral">&quot;Noise&quot;</span>;</div>
<div class="line"><span class="lineno"> 3278</span>        Paint_DrawStringAt(&amp;paint, 1, CASE0, headerstring, &amp;Font16, COLORED);</div>
<div class="line"><span class="lineno"> 3279</span> </div>
<div class="line"><span class="lineno"> 3280</span>        <span class="keywordtype">char</span> str_1[] = <span class="stringliteral">&quot;Volume&quot;</span>;</div>
<div class="line"><span class="lineno"> 3281</span>        Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE1, str_1, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 3282</span> </div>
<div class="line"><span class="lineno"> 3283</span>        <span class="comment">// As big as the number of parameters</span></div>
<div class="line"><span class="lineno"> 3284</span>        Display.max_parameter = 1;</div>
<div class="line"><span class="lineno"> 3285</span> </div>
<div class="line"><span class="lineno"> 3286</span>        <span class="keywordflow">switch</span>(Display.JoystickParameterPosition) {</div>
<div class="line"><span class="lineno"> 3287</span>        <span class="keywordflow">case</span> 1:</div>
<div class="line"><span class="lineno"> 3288</span>            <span class="comment">// Volume</span></div>
<div class="line"><span class="lineno"> 3289</span>            <span class="keywordflow">if</span>(Display.poti_moved == <span class="keyword">true</span>) {</div>
<div class="line"><span class="lineno"> 3290</span>                Display.Noise_Volume = (float)Display.ADC2inputs[2]/(<span class="keywordtype">float</span>)Display.ADC_FullRange;</div>
<div class="line"><span class="lineno"> 3291</span>            }</div>
<div class="line"><span class="lineno"> 3292</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3293</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 3294</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3295</span>        }</div>
<div class="line"><span class="lineno"> 3296</span> </div>
<div class="line"><span class="lineno"> 3297</span>        Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position, CASE1, Display.value_end_x_position, CASE1+VALUE_ROW_LENGTH, UNCOLORED);</div>
<div class="line"><span class="lineno"> 3298</span>        sprintf(Display.value_str_voices_settings[Display.currentVoice-1][0], <span class="stringliteral">&quot;%.2f&quot;</span>, Display.Noise_Volume);</div>
<div class="line"><span class="lineno"> 3299</span>        <span class="comment">// Print value row</span></div>
<div class="line"><span class="lineno"> 3300</span>        Paint_DrawStringAt(&amp;paint, Display.value_start_x_position, CASE1, Display.value_str_voices_settings[Display.currentVoice-1][0], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 3301</span>    }</div>
<div class="line"><span class="lineno"> 3302</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="gaa562906df4ccbd2259ec2436685c418f" name="gaa562906df4ccbd2259ec2436685c418f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa562906df4ccbd2259ec2436685c418f">&#9670;&nbsp;</a></span>p_Volume()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void p_Volume </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>GUI-site function, all functions with the beginning p_ represent a site of the GUI menu. </p>

<p class="definition">Definition at line <a class="el" href="display_8c_source.html#l04617">4617</a> of file <a class="el" href="display_8c_source.html">display.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4617</span>                    {</div>
<div class="line"><span class="lineno"> 4618</span> </div>
<div class="line"><span class="lineno"> 4619</span>    <span class="comment">// Header line</span></div>
<div class="line"><span class="lineno"> 4620</span>    <span class="keywordtype">char</span> headerstring[] = <span class="stringliteral">&quot;VOLUME&quot;</span>;</div>
<div class="line"><span class="lineno"> 4621</span>    Paint_DrawStringAt(&amp;paint, 1, CASE0, headerstring, &amp;Font16, COLORED);</div>
<div class="line"><span class="lineno"> 4622</span> </div>
<div class="line"><span class="lineno"> 4623</span>    <span class="keywordtype">char</span> str_1[] = <span class="stringliteral">&quot;Voices Vol.&quot;</span>;</div>
<div class="line"><span class="lineno"> 4624</span>    <span class="keywordtype">char</span> str_2[] = <span class="stringliteral">&quot;Drumcomputer Vol.&quot;</span>;</div>
<div class="line"><span class="lineno"> 4625</span>    <span class="keywordtype">char</span> str_3[] = <span class="stringliteral">&quot;Sequencer Vol.&quot;</span>;</div>
<div class="line"><span class="lineno"> 4626</span>    <span class="keywordtype">char</span> str_4[] = <span class="stringliteral">&quot;Keyboard Vol.&quot;</span>;</div>
<div class="line"><span class="lineno"> 4627</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE1, str_1, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 4628</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE2, str_2, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 4629</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE3, str_3, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 4630</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE4, str_4, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 4631</span> </div>
<div class="line"><span class="lineno"> 4632</span>    <span class="comment">// As big as the number of parameters</span></div>
<div class="line"><span class="lineno"> 4633</span>    Display.max_parameter = 4;</div>
<div class="line"><span class="lineno"> 4634</span> </div>
<div class="line"><span class="lineno"> 4635</span>    <span class="keywordflow">if</span>(Display.poti_moved == <span class="keyword">true</span>) {</div>
<div class="line"><span class="lineno"> 4636</span> </div>
<div class="line"><span class="lineno"> 4637</span>        <span class="keywordflow">switch</span>(Display.JoystickParameterPosition) {</div>
<div class="line"><span class="lineno"> 4638</span>        <span class="keywordflow">case</span> 1:</div>
<div class="line"><span class="lineno"> 4639</span>            <span class="comment">// Volume Voices</span></div>
<div class="line"><span class="lineno"> 4640</span>            <a class="code hl_variable" href="group__SSynth.html#ga0c06ec02b1329cdb21df9311f9bc3712">volume</a>[0] = (float)Display.ADC2inputs[2]/(<span class="keywordtype">float</span>)Display.ADC_FullRange;</div>
<div class="line"><span class="lineno"> 4641</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4642</span>        <span class="keywordflow">case</span> 2:</div>
<div class="line"><span class="lineno"> 4643</span>            <span class="comment">// Volume Drumcomputer</span></div>
<div class="line"><span class="lineno"> 4644</span>            <a class="code hl_variable" href="group__SSynth.html#ga0c06ec02b1329cdb21df9311f9bc3712">volume</a>[1] = (float)Display.ADC2inputs[2]/(<span class="keywordtype">float</span>)Display.ADC_FullRange;</div>
<div class="line"><span class="lineno"> 4645</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4646</span>        <span class="keywordflow">case</span> 3:</div>
<div class="line"><span class="lineno"> 4647</span>            <span class="comment">// Volume Sequencer</span></div>
<div class="line"><span class="lineno"> 4648</span>            <a class="code hl_variable" href="group__SSynth.html#ga0c06ec02b1329cdb21df9311f9bc3712">volume</a>[2] = (float)Display.ADC2inputs[2]/(<span class="keywordtype">float</span>)Display.ADC_FullRange;</div>
<div class="line"><span class="lineno"> 4649</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4650</span>        <span class="keywordflow">case</span> 4:</div>
<div class="line"><span class="lineno"> 4651</span>            <span class="comment">// Volume Keyboard</span></div>
<div class="line"><span class="lineno"> 4652</span>            <a class="code hl_variable" href="group__SSynth.html#ga0c06ec02b1329cdb21df9311f9bc3712">volume</a>[3] = (float)Display.ADC2inputs[2]/(<span class="keywordtype">float</span>)Display.ADC_FullRange;</div>
<div class="line"><span class="lineno"> 4653</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4654</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 4655</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4656</span>        }</div>
<div class="line"><span class="lineno"> 4657</span>    }</div>
<div class="line"><span class="lineno"> 4658</span> </div>
<div class="line"><span class="lineno"> 4659</span>    Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position-25, CASE1, Display.value_end_x_position, CASE1+VALUE_ROW_LENGTH, UNCOLORED);</div>
<div class="line"><span class="lineno"> 4660</span>    Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position-25, CASE2, Display.value_end_x_position, CASE2+VALUE_ROW_LENGTH, UNCOLORED);</div>
<div class="line"><span class="lineno"> 4661</span>    Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position-25, CASE3, Display.value_end_x_position, CASE3+VALUE_ROW_LENGTH, UNCOLORED);</div>
<div class="line"><span class="lineno"> 4662</span>    Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position-25, CASE4, Display.value_end_x_position, CASE4+VALUE_ROW_LENGTH, UNCOLORED);</div>
<div class="line"><span class="lineno"> 4663</span> </div>
<div class="line"><span class="lineno"> 4664</span>    sprintf(Display.value_str_volume[0], <span class="stringliteral">&quot;%.2f&quot;</span>, <a class="code hl_variable" href="group__SSynth.html#ga0c06ec02b1329cdb21df9311f9bc3712">volume</a>[0]);</div>
<div class="line"><span class="lineno"> 4665</span>    sprintf(Display.value_str_volume[1], <span class="stringliteral">&quot;%.2f&quot;</span>, <a class="code hl_variable" href="group__SSynth.html#ga0c06ec02b1329cdb21df9311f9bc3712">volume</a>[1]);</div>
<div class="line"><span class="lineno"> 4666</span>    sprintf(Display.value_str_volume[2], <span class="stringliteral">&quot;%.2f&quot;</span>, <a class="code hl_variable" href="group__SSynth.html#ga0c06ec02b1329cdb21df9311f9bc3712">volume</a>[2]);</div>
<div class="line"><span class="lineno"> 4667</span>    sprintf(Display.value_str_volume[3], <span class="stringliteral">&quot;%.2f&quot;</span>, <a class="code hl_variable" href="group__SSynth.html#ga0c06ec02b1329cdb21df9311f9bc3712">volume</a>[3]);</div>
<div class="line"><span class="lineno"> 4668</span>    <span class="comment">// Print value row</span></div>
<div class="line"><span class="lineno"> 4669</span>    Paint_DrawStringAt(&amp;paint, Display.value_start_x_position-25, CASE1, Display.value_str_volume[0], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 4670</span>    Paint_DrawStringAt(&amp;paint, Display.value_start_x_position-25, CASE2, Display.value_str_volume[1], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 4671</span>    Paint_DrawStringAt(&amp;paint, Display.value_start_x_position-25, CASE3, Display.value_str_volume[2], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 4672</span>    Paint_DrawStringAt(&amp;paint, Display.value_start_x_position-25, CASE4, Display.value_str_volume[3], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 4673</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="gaf744a311b39e043299b23b94ce5b0f7c" name="gaf744a311b39e043299b23b94ce5b0f7c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf744a311b39e043299b23b94ce5b0f7c">&#9670;&nbsp;</a></span>p_WahWah_overview()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void p_WahWah_overview </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>GUI-site function, all functions with the beginning p_ represent a site of the GUI menu. </p>

<p class="definition">Definition at line <a class="el" href="display_8c_source.html#l03872">3872</a> of file <a class="el" href="display_8c_source.html">display.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3872</span>                             {</div>
<div class="line"><span class="lineno"> 3873</span> </div>
<div class="line"><span class="lineno"> 3874</span>    <span class="comment">// Header line</span></div>
<div class="line"><span class="lineno"> 3875</span>    <span class="keywordtype">char</span> headerstring[] = <span class="stringliteral">&quot;WAHWAH&quot;</span>;</div>
<div class="line"><span class="lineno"> 3876</span>    Paint_DrawStringAt(&amp;paint, 1, CASE0, headerstring, &amp;Font16, COLORED);</div>
<div class="line"><span class="lineno"> 3877</span> </div>
<div class="line"><span class="lineno"> 3878</span>    <span class="keywordtype">char</span> str_1[] = <span class="stringliteral">&quot;Next effect&quot;</span>;</div>
<div class="line"><span class="lineno"> 3879</span>    <span class="keywordtype">char</span> str_2[] = <span class="stringliteral">&quot;WahWah ON/OFF&quot;</span>;</div>
<div class="line"><span class="lineno"> 3880</span>    <span class="keywordtype">char</span> str_3[] = <span class="stringliteral">&quot;Mode&quot;</span>;</div>
<div class="line"><span class="lineno"> 3881</span>    <span class="keywordtype">char</span> str_4[] = <span class="stringliteral">&quot;WahWah Reset&quot;</span>;</div>
<div class="line"><span class="lineno"> 3882</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE1, str_1, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 3883</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE2, str_2, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 3884</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE3, str_3, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 3885</span>    Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE4, str_4, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 3886</span> </div>
<div class="line"><span class="lineno"> 3887</span>    <span class="comment">// As big as the number of parameters</span></div>
<div class="line"><span class="lineno"> 3888</span>    Display.max_parameter = 4;</div>
<div class="line"><span class="lineno"> 3889</span> </div>
<div class="line"><span class="lineno"> 3890</span>    <span class="comment">// Potentiometer Input in %</span></div>
<div class="line"><span class="lineno"> 3891</span>    <span class="keywordtype">float</span> potVal = (float)Display.ADC2inputs[2]/(<span class="keywordtype">float</span>)Display.ADC_FullRange * 100;</div>
<div class="line"><span class="lineno"> 3892</span> </div>
<div class="line"><span class="lineno"> 3893</span>    <span class="keywordflow">switch</span>(Display.JoystickParameterPosition) {</div>
<div class="line"><span class="lineno"> 3894</span>    <span class="keywordflow">case</span> 1:</div>
<div class="line"><span class="lineno"> 3895</span>        <span class="comment">// Next Effect</span></div>
<div class="line"><span class="lineno"> 3896</span>        Display.currentWahWah = 0;</div>
<div class="line"><span class="lineno"> 3897</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3898</span>    <span class="keywordflow">case</span> 2: <span class="comment">// WahWah ON/OFF</span></div>
<div class="line"><span class="lineno"> 3899</span>        Display.currentWahWah = 1;</div>
<div class="line"><span class="lineno"> 3900</span> </div>
<div class="line"><span class="lineno"> 3901</span>        <span class="keywordflow">if</span>(Display.poti_moved == <span class="keyword">true</span>) {</div>
<div class="line"><span class="lineno"> 3902</span> </div>
<div class="line"><span class="lineno"> 3903</span>            <span class="keywordflow">if</span>(potVal &lt; 50) {   <span class="comment">// smaller than 50 %</span></div>
<div class="line"><span class="lineno"> 3904</span>                Display.WahWah_ONOFF = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3905</span>                strcpy(Display.value_str_wahwah[0], <span class="stringliteral">&quot;OFF&quot;</span>);</div>
<div class="line"><span class="lineno"> 3906</span>            }</div>
<div class="line"><span class="lineno"> 3907</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span>(potVal &gt;= 50) { <span class="comment">// greater than 50 %</span></div>
<div class="line"><span class="lineno"> 3908</span>                Display.WahWah_ONOFF = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3909</span>                strcpy(Display.value_str_wahwah[0], <span class="stringliteral">&quot;ON&quot;</span>);</div>
<div class="line"><span class="lineno"> 3910</span>            }</div>
<div class="line"><span class="lineno"> 3911</span>        }</div>
<div class="line"><span class="lineno"> 3912</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3913</span>    <span class="keywordflow">case</span> 3: <span class="comment">// WahWah Mode</span></div>
<div class="line"><span class="lineno"> 3914</span>        Display.currentWahWah = 2;</div>
<div class="line"><span class="lineno"> 3915</span> </div>
<div class="line"><span class="lineno"> 3916</span>        <span class="keywordflow">if</span>(Display.poti_moved == <span class="keyword">true</span>) {</div>
<div class="line"><span class="lineno"> 3917</span> </div>
<div class="line"><span class="lineno"> 3918</span>            <span class="keywordflow">if</span>(potVal &lt; 50) {   <span class="comment">// smaller than 50 %</span></div>
<div class="line"><span class="lineno"> 3919</span>                Display.WahWah_Mode = 0;</div>
<div class="line"><span class="lineno"> 3920</span>                strcpy(Display.value_str_wahwah[1], <span class="stringliteral">&quot;WahWah&quot;</span>);</div>
<div class="line"><span class="lineno"> 3921</span>            }</div>
<div class="line"><span class="lineno"> 3922</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span>(potVal &gt;= 50) { <span class="comment">// greater than 50 %</span></div>
<div class="line"><span class="lineno"> 3923</span>                Display.WahWah_Mode = 1;</div>
<div class="line"><span class="lineno"> 3924</span>                strcpy(Display.value_str_wahwah[1], <span class="stringliteral">&quot;AutoWahWah&quot;</span>);</div>
<div class="line"><span class="lineno"> 3925</span>            }</div>
<div class="line"><span class="lineno"> 3926</span>        }</div>
<div class="line"><span class="lineno"> 3927</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3928</span>    <span class="keywordflow">case</span> 4: <span class="comment">// WahWah Reset</span></div>
<div class="line"><span class="lineno"> 3929</span>        Display.currentWahWah = 3;</div>
<div class="line"><span class="lineno"> 3930</span> </div>
<div class="line"><span class="lineno"> 3931</span>        <span class="keywordflow">if</span>(Display.Reset == <span class="keyword">true</span>) {</div>
<div class="line"><span class="lineno"> 3932</span>            <a class="code hl_function" href="group__wahwah.html#ga9b91a7fae64755689936b60cf1820535">WahWah_Reset</a>(&amp;WahWah);</div>
<div class="line"><span class="lineno"> 3933</span>            Display.Reset = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3934</span>            strcpy(Display.value_str_wahwah[14], <span class="stringliteral">&quot;done&quot;</span>);</div>
<div class="line"><span class="lineno"> 3935</span>        }</div>
<div class="line"><span class="lineno"> 3936</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(Display.Reset == <span class="keyword">false</span>)</div>
<div class="line"><span class="lineno"> 3937</span>            strcpy(Display.value_str_wahwah[14], <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><span class="lineno"> 3938</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3939</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 3940</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3941</span>    }</div>
<div class="line"><span class="lineno"> 3942</span> </div>
<div class="line"><span class="lineno"> 3943</span>    Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position, CASE2, Display.value_end_x_position, CASE2+VALUE_ROW_LENGTH, UNCOLORED);</div>
<div class="line"><span class="lineno"> 3944</span>    Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position-50, CASE3, Display.value_end_x_position, CASE3+VALUE_ROW_LENGTH, UNCOLORED);</div>
<div class="line"><span class="lineno"> 3945</span>    Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position, CASE4, Display.value_end_x_position, CASE4+VALUE_ROW_LENGTH, UNCOLORED);</div>
<div class="line"><span class="lineno"> 3946</span> </div>
<div class="line"><span class="lineno"> 3947</span>    <span class="comment">// Print value row</span></div>
<div class="line"><span class="lineno"> 3948</span>    Paint_DrawStringAt(&amp;paint, Display.value_start_x_position, CASE2, Display.value_str_wahwah[0], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 3949</span>    Paint_DrawStringAt(&amp;paint, Display.value_start_x_position-50, CASE3, Display.value_str_wahwah[1], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 3950</span>    Paint_DrawStringAt(&amp;paint, Display.value_start_x_position, CASE4, Display.value_str_wahwah[14], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 3951</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ga7a0c5167cd2dd7640095ed836806993a" name="ga7a0c5167cd2dd7640095ed836806993a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7a0c5167cd2dd7640095ed836806993a">&#9670;&nbsp;</a></span>p_WahWah_Settings()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void p_WahWah_Settings </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structWahWah__t.html">WahWah_t</a> *&#160;</td>
          <td class="paramname"><em>WahWah</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>GUI-site function, all functions with the beginning p_ represent a site of the GUI menu. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">WahWah</td><td>pointer to a WahWah-effect struct </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="display_8c_source.html#l03958">3958</a> of file <a class="el" href="display_8c_source.html">display.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3958</span>                                                {</div>
<div class="line"><span class="lineno"> 3959</span> </div>
<div class="line"><span class="lineno"> 3960</span>    <span class="keywordflow">if</span>(Display.WahWah_Mode == 0) {  <span class="comment">// Normal WahWah</span></div>
<div class="line"><span class="lineno"> 3961</span>        <span class="comment">// Header line</span></div>
<div class="line"><span class="lineno"> 3962</span>        <span class="keywordtype">char</span> headerstring[] = <span class="stringliteral">&quot;NORMAL WAHWAH&quot;</span>;</div>
<div class="line"><span class="lineno"> 3963</span>        Paint_DrawStringAt(&amp;paint, 1, CASE0, headerstring, &amp;Font16, COLORED);</div>
<div class="line"><span class="lineno"> 3964</span> </div>
<div class="line"><span class="lineno"> 3965</span>        <span class="keywordtype">char</span> str_1[] = <span class="stringliteral">&quot;Mid Freq.&quot;</span>;</div>
<div class="line"><span class="lineno"> 3966</span>        <span class="keywordtype">char</span> str_2[] = <span class="stringliteral">&quot;Q-factor&quot;</span>;</div>
<div class="line"><span class="lineno"> 3967</span>        <span class="keywordtype">char</span> str_3[] = <span class="stringliteral">&quot;Mid Freq. Source&quot;</span>;</div>
<div class="line"><span class="lineno"> 3968</span>        <span class="keywordtype">char</span> str_4[] = <span class="stringliteral">&quot;Q Source&quot;</span>;</div>
<div class="line"><span class="lineno"> 3969</span> </div>
<div class="line"><span class="lineno"> 3970</span>        Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE1, str_1, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 3971</span>        Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE2, str_2, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 3972</span>        Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE3, str_3, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 3973</span>        Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE4, str_4, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 3974</span> </div>
<div class="line"><span class="lineno"> 3975</span>        <span class="comment">// As big as the number of parameters</span></div>
<div class="line"><span class="lineno"> 3976</span>        Display.max_parameter = 4;</div>
<div class="line"><span class="lineno"> 3977</span> </div>
<div class="line"><span class="lineno"> 3978</span>        <span class="keywordflow">switch</span>(Display.JoystickParameterPosition) {</div>
<div class="line"><span class="lineno"> 3979</span>        <span class="keywordflow">case</span> 1: <span class="comment">// WahWah Mid Frequency</span></div>
<div class="line"><span class="lineno"> 3980</span> </div>
<div class="line"><span class="lineno"> 3981</span>            <span class="keywordflow">if</span>(Display.poti_moved == <span class="keyword">true</span>) {</div>
<div class="line"><span class="lineno"> 3982</span> </div>
<div class="line"><span class="lineno"> 3983</span>                Display.WahWah_MidFreq = (float)Display.ADC2inputs[2]/(<span class="keywordtype">float</span>)Display.ADC_FullRange * WahWah-&gt;max_mid_freq;</div>
<div class="line"><span class="lineno"> 3984</span>                <span class="keywordflow">if</span>(Display.WahWah_MidFreq &lt; 50) <span class="comment">// WahWah_MidFreq should be minimum 50 Hz</span></div>
<div class="line"><span class="lineno"> 3985</span>                    Display.WahWah_MidFreq = 50;</div>
<div class="line"><span class="lineno"> 3986</span>                WahWah-&gt;mid_freq = Display.WahWah_MidFreq;</div>
<div class="line"><span class="lineno"> 3987</span>            }</div>
<div class="line"><span class="lineno"> 3988</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3989</span>        <span class="keywordflow">case</span> 2: <span class="comment">// WahWah Q-factor</span></div>
<div class="line"><span class="lineno"> 3990</span> </div>
<div class="line"><span class="lineno"> 3991</span>            <span class="keywordflow">if</span>(Display.poti_moved == <span class="keyword">true</span>) {</div>
<div class="line"><span class="lineno"> 3992</span> </div>
<div class="line"><span class="lineno"> 3993</span>                Display.WahWah_Q = (((float)Display.ADC2inputs[2]/(<span class="keywordtype">float</span>)Display.ADC_FullRange) * WahWah-&gt;max_Q) + 0.5;</div>
<div class="line"><span class="lineno"> 3994</span>                WahWah-&gt;bandpass-&gt;Q = Display.WahWah_Q;</div>
<div class="line"><span class="lineno"> 3995</span>            }</div>
<div class="line"><span class="lineno"> 3996</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3997</span>        <span class="keywordflow">case</span> 3: <span class="comment">// WahWah Mid Frequency Source</span></div>
<div class="line"><span class="lineno"> 3998</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3999</span>        <span class="keywordflow">case</span> 4: <span class="comment">// Q-factor Source</span></div>
<div class="line"><span class="lineno"> 4000</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4001</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 4002</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4003</span>        }</div>
<div class="line"><span class="lineno"> 4004</span> </div>
<div class="line"><span class="lineno"> 4005</span>        Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position-25, CASE1, Display.value_end_x_position, CASE1+VALUE_ROW_LENGTH, UNCOLORED);</div>
<div class="line"><span class="lineno"> 4006</span>        Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position-25, CASE2, Display.value_end_x_position, CASE2+VALUE_ROW_LENGTH, UNCOLORED);</div>
<div class="line"><span class="lineno"> 4007</span>        Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position-25, CASE3, Display.value_end_x_position, CASE3+VALUE_ROW_LENGTH, UNCOLORED);</div>
<div class="line"><span class="lineno"> 4008</span>        Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position-25, CASE4, Display.value_end_x_position, CASE4+VALUE_ROW_LENGTH, UNCOLORED);</div>
<div class="line"><span class="lineno"> 4009</span>        sprintf(Display.value_str_wahwah[2], <span class="stringliteral">&quot;%.2f&quot;</span>, Display.WahWah_MidFreq);</div>
<div class="line"><span class="lineno"> 4010</span>        sprintf(Display.value_str_wahwah[3], <span class="stringliteral">&quot;%.3f&quot;</span>, Display.WahWah_Q);</div>
<div class="line"><span class="lineno"> 4011</span>        strcpy(Display.value_str_wahwah[4], Display.source_names[Display.WahWah_Sources[0]]);</div>
<div class="line"><span class="lineno"> 4012</span>        strcpy(Display.value_str_wahwah[5], Display.source_names[Display.WahWah_Sources[1]]);</div>
<div class="line"><span class="lineno"> 4013</span> </div>
<div class="line"><span class="lineno"> 4014</span>        Paint_DrawStringAt(&amp;paint, Display.value_start_x_position-25, CASE1, Display.value_str_wahwah[2], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 4015</span>        Paint_DrawStringAt(&amp;paint, Display.value_start_x_position-25, CASE2, Display.value_str_wahwah[3], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 4016</span>        Paint_DrawStringAt(&amp;paint, Display.value_start_x_position-25, CASE3, Display.value_str_wahwah[4], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 4017</span>        Paint_DrawStringAt(&amp;paint, Display.value_start_x_position-25, CASE4, Display.value_str_wahwah[5], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 4018</span>    }</div>
<div class="line"><span class="lineno"> 4019</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(Display.WahWah_Mode == 1) { <span class="comment">// Auto-WahWah</span></div>
<div class="line"><span class="lineno"> 4020</span>        <span class="comment">// Header line</span></div>
<div class="line"><span class="lineno"> 4021</span>        <span class="keywordtype">char</span> headerstring[] = <span class="stringliteral">&quot;AUTO-WAHWAH&quot;</span>;</div>
<div class="line"><span class="lineno"> 4022</span>        Paint_DrawStringAt(&amp;paint, 1, CASE0, headerstring, &amp;Font16, COLORED);</div>
<div class="line"><span class="lineno"> 4023</span> </div>
<div class="line"><span class="lineno"> 4024</span>        <span class="keywordtype">char</span> str_1[] = <span class="stringliteral">&quot;Mid Freq.&quot;</span>;</div>
<div class="line"><span class="lineno"> 4025</span>        <span class="keywordtype">char</span> str_2[] = <span class="stringliteral">&quot;Q-factor&quot;</span>;</div>
<div class="line"><span class="lineno"> 4026</span>        <span class="keywordtype">char</span> str_3[] = <span class="stringliteral">&quot;Range&quot;</span>;</div>
<div class="line"><span class="lineno"> 4027</span>        <span class="keywordtype">char</span> str_4[] = <span class="stringliteral">&quot;LFO Freq.&quot;</span>;</div>
<div class="line"><span class="lineno"> 4028</span>        <span class="keywordtype">char</span> str_5[] = <span class="stringliteral">&quot;Mid Freq. Source&quot;</span>;</div>
<div class="line"><span class="lineno"> 4029</span>        <span class="keywordtype">char</span> str_6[] = <span class="stringliteral">&quot;Q Source&quot;</span>;</div>
<div class="line"><span class="lineno"> 4030</span>        <span class="keywordtype">char</span> str_7[] = <span class="stringliteral">&quot;Range Source&quot;</span>;</div>
<div class="line"><span class="lineno"> 4031</span>        <span class="keywordtype">char</span> str_8[] = <span class="stringliteral">&quot;LFO Freq. Source&quot;</span>;</div>
<div class="line"><span class="lineno"> 4032</span> </div>
<div class="line"><span class="lineno"> 4033</span>        Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE1, str_1, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 4034</span>        Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE2, str_2, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 4035</span>        Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE3, str_3, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 4036</span>        Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE4, str_4, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 4037</span>        Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE5, str_5, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 4038</span>        Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE6, str_6, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 4039</span>        Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE7, str_7, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 4040</span>        Paint_DrawStringAt(&amp;paint, Display.row_start_x_position, CASE8, str_8, &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 4041</span> </div>
<div class="line"><span class="lineno"> 4042</span>        <span class="comment">// As big as the number of parameters</span></div>
<div class="line"><span class="lineno"> 4043</span>        Display.max_parameter = 8;</div>
<div class="line"><span class="lineno"> 4044</span> </div>
<div class="line"><span class="lineno"> 4045</span>        <span class="keywordflow">switch</span>(Display.JoystickParameterPosition) {</div>
<div class="line"><span class="lineno"> 4046</span>        <span class="keywordflow">case</span> 1: <span class="comment">// Auto-WahWah Mid Frequency</span></div>
<div class="line"><span class="lineno"> 4047</span> </div>
<div class="line"><span class="lineno"> 4048</span>            <span class="keywordflow">if</span>(Display.poti_moved == <span class="keyword">true</span>) {</div>
<div class="line"><span class="lineno"> 4049</span> </div>
<div class="line"><span class="lineno"> 4050</span>                Display.WahWah_MidFreq = (float)Display.ADC2inputs[2]/(<span class="keywordtype">float</span>)Display.ADC_FullRange * WahWah-&gt;max_mid_freq;</div>
<div class="line"><span class="lineno"> 4051</span>                <span class="keywordflow">if</span>(Display.WahWah_MidFreq &lt; 50) <span class="comment">// WahWah_MidFreq should be minimum 50 Hz</span></div>
<div class="line"><span class="lineno"> 4052</span>                    Display.WahWah_MidFreq = 50;</div>
<div class="line"><span class="lineno"> 4053</span>                WahWah-&gt;mid_freq = Display.WahWah_MidFreq;</div>
<div class="line"><span class="lineno"> 4054</span>                WahWah-&gt;max_range = (Display.WahWah_MidFreq - 50) * 2;  <span class="comment">// max range calculated depending on the current mid freq value</span></div>
<div class="line"><span class="lineno"> 4055</span>                Display.WahWah_Range = ((float)Display.ADC2inputs[2]/(<span class="keywordtype">float</span>)Display.ADC_FullRange) * WahWah-&gt;max_range;</div>
<div class="line"><span class="lineno"> 4056</span>                WahWah-&gt;range = Display.WahWah_Range;</div>
<div class="line"><span class="lineno"> 4057</span>            }</div>
<div class="line"><span class="lineno"> 4058</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4059</span>        <span class="keywordflow">case</span> 2: <span class="comment">// Auto-WahWah Q-factor</span></div>
<div class="line"><span class="lineno"> 4060</span> </div>
<div class="line"><span class="lineno"> 4061</span>            <span class="keywordflow">if</span>(Display.poti_moved == <span class="keyword">true</span>) {</div>
<div class="line"><span class="lineno"> 4062</span>                Display.WahWah_Q = (((float)Display.ADC2inputs[2]/(<span class="keywordtype">float</span>)Display.ADC_FullRange) * WahWah-&gt;max_Q) + 0.5;</div>
<div class="line"><span class="lineno"> 4063</span>                WahWah-&gt;bandpass-&gt;Q = Display.WahWah_Q;</div>
<div class="line"><span class="lineno"> 4064</span>            }</div>
<div class="line"><span class="lineno"> 4065</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4066</span>        <span class="keywordflow">case</span> 3: <span class="comment">// Auto-WahWah Range</span></div>
<div class="line"><span class="lineno"> 4067</span> </div>
<div class="line"><span class="lineno"> 4068</span>            <span class="keywordflow">if</span>(Display.poti_moved == <span class="keyword">true</span>) {</div>
<div class="line"><span class="lineno"> 4069</span>                Display.WahWah_Range = ((float)Display.ADC2inputs[2]/(<span class="keywordtype">float</span>)Display.ADC_FullRange) * WahWah-&gt;max_range;</div>
<div class="line"><span class="lineno"> 4070</span>                WahWah-&gt;range = Display.WahWah_Range;</div>
<div class="line"><span class="lineno"> 4071</span>            }</div>
<div class="line"><span class="lineno"> 4072</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4073</span>        <span class="keywordflow">case</span> 4: <span class="comment">// Auto-WahWah LFO Frequency</span></div>
<div class="line"><span class="lineno"> 4074</span>            <span class="comment">//          if(WahWah-&gt;lfo-&gt;lfo_done_flag == true) {</span></div>
<div class="line"><span class="lineno"> 4075</span>            <span class="comment">//              Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position-25, CASE4, Display.value_end_x_position, CASE4+VALUE_ROW_LENGTH, UNCOLORED);</span></div>
<div class="line"><span class="lineno"> 4076</span>            <span class="comment">//              index = (uint16_t)(((float)Display.ADC2inputs[2]/((float)Display.ADC_FullRange-100)) * (sizeof(LFO_FREQUENCYS)/sizeof(LFO_FREQUENCYS[0])-1));</span></div>
<div class="line"><span class="lineno"> 4077</span>            <span class="comment">//              Display.WahWah_LFOfreq = LFO_FREQUENCYS[index];</span></div>
<div class="line"><span class="lineno"> 4078</span>            <span class="comment">//              WahWah-&gt;lfo-&gt;lfo_frequency = Display.WahWah_LFOfreq;</span></div>
<div class="line"><span class="lineno"> 4079</span>            <span class="comment">//              WahWah-&gt;lfo-&gt;lfo_index = 0;</span></div>
<div class="line"><span class="lineno"> 4080</span>            <span class="comment">//              WahWah-&gt;lfo-&gt;lfo_quarter = 0;</span></div>
<div class="line"><span class="lineno"> 4081</span>            <span class="comment">//              sprintf(Display.value_str_wahwah[5], &quot;%.3f&quot;, Display.WahWah_LFOfreq);</span></div>
<div class="line"><span class="lineno"> 4082</span>            <span class="comment">//              sprintf(Display.value_str_wahwah[9], &quot;%.3f&quot;, Display.WahWah_LFOfreq);</span></div>
<div class="line"><span class="lineno"> 4083</span>            <span class="comment">//          }</span></div>
<div class="line"><span class="lineno"> 4084</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4085</span>        <span class="keywordflow">case</span> 5: <span class="comment">// Auto-WahWah Mid Frequency Source</span></div>
<div class="line"><span class="lineno"> 4086</span>            <span class="comment">//          if(Display.poti_moved == true) {</span></div>
<div class="line"><span class="lineno"> 4087</span>            <span class="comment">//              //              Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position-30, CASE5, Display.value_end_x_position, CASE5+VALUE_ROW_LENGTH, UNCOLORED);</span></div>
<div class="line"><span class="lineno"> 4088</span>            <span class="comment">//              mode_number = (uint8_t)(((float)Display.ADC2inputs[2] / (float)Display.ADC_FullRange) * (NUMBER_OF_SOURCES-1));</span></div>
<div class="line"><span class="lineno"> 4089</span>            <span class="comment">//              //              Display.WahWah_Sources[0] = (uint8_t)(((float)Display.ADC2inputs[2] / (float)Display.ADC_FullRange) * (NUMBER_OF_SOURCES));</span></div>
<div class="line"><span class="lineno"> 4090</span>            <span class="comment">//              Display.WahWah_Sources[2] = mode_number;</span></div>
<div class="line"><span class="lineno"> 4091</span>            <span class="comment">//              //              strcpy(Display.value_str_wahwah[10], Display.source_names[mode_number]);</span></div>
<div class="line"><span class="lineno"> 4092</span>            <span class="comment">//              //              strcpy(Display.value_str_wahwah[10], Display.source_names[Display.WahWah_Sources[0]]);</span></div>
<div class="line"><span class="lineno"> 4093</span>            <span class="comment">//          }</span></div>
<div class="line"><span class="lineno"> 4094</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4095</span>        <span class="keywordflow">case</span> 6: <span class="comment">// Auto-WahWah Q Source</span></div>
<div class="line"><span class="lineno"> 4096</span>            <span class="comment">//          if(Display.poti_moved == true) {</span></div>
<div class="line"><span class="lineno"> 4097</span>            <span class="comment">//              //              Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position-30, CASE6, Display.value_end_x_position, CASE6+VALUE_ROW_LENGTH, UNCOLORED);</span></div>
<div class="line"><span class="lineno"> 4098</span>            <span class="comment">//              mode_number = (uint8_t)(((float)Display.ADC2inputs[2] / (float)Display.ADC_FullRange) * (NUMBER_OF_SOURCES-1));</span></div>
<div class="line"><span class="lineno"> 4099</span>            <span class="comment">//              //              Display.WahWah_Sources[1] = (uint8_t)(((float)Display.ADC2inputs[2] / (float)Display.ADC_FullRange) * (NUMBER_OF_SOURCES));</span></div>
<div class="line"><span class="lineno"> 4100</span>            <span class="comment">//              Display.WahWah_Sources[3] = mode_number;</span></div>
<div class="line"><span class="lineno"> 4101</span>            <span class="comment">//              //              strcpy(Display.value_str_wahwah[11], Display.source_names[Display.WahWah_Sources[1]]);</span></div>
<div class="line"><span class="lineno"> 4102</span>            <span class="comment">//          }</span></div>
<div class="line"><span class="lineno"> 4103</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4104</span>        <span class="keywordflow">case</span> 7: <span class="comment">// Auto-WahWah Range Source</span></div>
<div class="line"><span class="lineno"> 4105</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4106</span>        <span class="keywordflow">case</span> 8: <span class="comment">// Auto-WahWah LFO Frequency Source</span></div>
<div class="line"><span class="lineno"> 4107</span>            <span class="comment">//          if(Display.poti_moved == true) {</span></div>
<div class="line"><span class="lineno"> 4108</span>            <span class="comment">//              //              Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position-30, CASE8, Display.value_end_x_position, CASE8+VALUE_ROW_LENGTH, UNCOLORED);</span></div>
<div class="line"><span class="lineno"> 4109</span>            <span class="comment">//              mode_number = (uint8_t)(((float)Display.ADC2inputs[2] / (float)Display.ADC_FullRange) * (NUMBER_OF_SOURCES-1));</span></div>
<div class="line"><span class="lineno"> 4110</span>            <span class="comment">//              //              Display.WahWah_Sources[3] = (uint8_t)(((float)Display.ADC2inputs[2] / (float)Display.ADC_FullRange) * (NUMBER_OF_SOURCES));</span></div>
<div class="line"><span class="lineno"> 4111</span>            <span class="comment">//              Display.WahWah_Sources[5] = mode_number;</span></div>
<div class="line"><span class="lineno"> 4112</span>            <span class="comment">//              //              strcpy(Display.value_str_wahwah[13], Display.source_names[Display.WahWah_Sources[3]]);</span></div>
<div class="line"><span class="lineno"> 4113</span>            <span class="comment">//          }</span></div>
<div class="line"><span class="lineno"> 4114</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4115</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 4116</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4117</span>        }</div>
<div class="line"><span class="lineno"> 4118</span> </div>
<div class="line"><span class="lineno"> 4119</span>        Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position-25, CASE1, Display.value_end_x_position, CASE1+VALUE_ROW_LENGTH, UNCOLORED);</div>
<div class="line"><span class="lineno"> 4120</span>        Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position-25, CASE2, Display.value_end_x_position, CASE2+VALUE_ROW_LENGTH, UNCOLORED);</div>
<div class="line"><span class="lineno"> 4121</span>        Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position-25, CASE3, Display.value_end_x_position, CASE3+VALUE_ROW_LENGTH, UNCOLORED);</div>
<div class="line"><span class="lineno"> 4122</span>        Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position-25, CASE4, Display.value_end_x_position, CASE4+VALUE_ROW_LENGTH, UNCOLORED);</div>
<div class="line"><span class="lineno"> 4123</span>        Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position-30, CASE5, Display.value_end_x_position, CASE5+VALUE_ROW_LENGTH, UNCOLORED);</div>
<div class="line"><span class="lineno"> 4124</span>        Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position-30, CASE6, Display.value_end_x_position, CASE6+VALUE_ROW_LENGTH, UNCOLORED);</div>
<div class="line"><span class="lineno"> 4125</span>        Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position-30, CASE7, Display.value_end_x_position, CASE7+VALUE_ROW_LENGTH, UNCOLORED);</div>
<div class="line"><span class="lineno"> 4126</span>        Paint_DrawFilledRectangle(&amp;paint, Display.value_start_x_position-30, CASE8, Display.value_end_x_position, CASE8+VALUE_ROW_LENGTH, UNCOLORED);</div>
<div class="line"><span class="lineno"> 4127</span> </div>
<div class="line"><span class="lineno"> 4128</span>        sprintf(Display.value_str_wahwah[6], <span class="stringliteral">&quot;%.2f&quot;</span>, Display.WahWah_MidFreq);</div>
<div class="line"><span class="lineno"> 4129</span>        sprintf(Display.value_str_wahwah[7], <span class="stringliteral">&quot;%.2f&quot;</span>, Display.WahWah_Q);</div>
<div class="line"><span class="lineno"> 4130</span>        sprintf(Display.value_str_wahwah[8], <span class="stringliteral">&quot;%.2f&quot;</span>, Display.WahWah_Range);</div>
<div class="line"><span class="lineno"> 4131</span>        sprintf(Display.value_str_wahwah[9], <span class="stringliteral">&quot;%.3f&quot;</span>, Display.WahWah_LFOfreq);</div>
<div class="line"><span class="lineno"> 4132</span>        strcpy(Display.value_str_wahwah[10], Display.source_names[Display.WahWah_Sources[2]]);</div>
<div class="line"><span class="lineno"> 4133</span>        strcpy(Display.value_str_wahwah[11], Display.source_names[Display.WahWah_Sources[3]]);</div>
<div class="line"><span class="lineno"> 4134</span>        strcpy(Display.value_str_wahwah[12], Display.source_names[Display.WahWah_Sources[4]]);</div>
<div class="line"><span class="lineno"> 4135</span>        strcpy(Display.value_str_wahwah[13], Display.source_names[Display.WahWah_Sources[5]]);</div>
<div class="line"><span class="lineno"> 4136</span>        <span class="comment">// Print value row</span></div>
<div class="line"><span class="lineno"> 4137</span>        Paint_DrawStringAt(&amp;paint, Display.value_start_x_position-25, CASE1, Display.value_str_wahwah[6], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 4138</span>        Paint_DrawStringAt(&amp;paint, Display.value_start_x_position-25, CASE2, Display.value_str_wahwah[7], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 4139</span>        Paint_DrawStringAt(&amp;paint, Display.value_start_x_position-25, CASE3, Display.value_str_wahwah[8], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 4140</span>        Paint_DrawStringAt(&amp;paint, Display.value_start_x_position-25, CASE4, Display.value_str_wahwah[9], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 4141</span>        Paint_DrawStringAt(&amp;paint, Display.value_start_x_position-30, CASE5, Display.value_str_wahwah[10], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 4142</span>        Paint_DrawStringAt(&amp;paint, Display.value_start_x_position-30, CASE6, Display.value_str_wahwah[11], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 4143</span>        Paint_DrawStringAt(&amp;paint, Display.value_start_x_position-30, CASE7, Display.value_str_wahwah[12], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 4144</span>        Paint_DrawStringAt(&amp;paint, Display.value_start_x_position-30, CASE8, Display.value_str_wahwah[13], &amp;Font12, COLORED);</div>
<div class="line"><span class="lineno"> 4145</span>    }</div>
<div class="line"><span class="lineno"> 4146</span>}</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3 </li>
  </ul>
</div>
</body>
</html>
